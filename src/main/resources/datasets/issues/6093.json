{
  "url": "https://api.github.com/repos/facebook/react/issues/6093",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/6093/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/6093/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/6093/events",
  "html_url": "https://github.com/facebook/react/issues/6093",
  "id": 135627681,
  "node_id": "MDU6SXNzdWUxMzU2Mjc2ODE=",
  "number": 6093,
  "title": "React add-ons make React code be imported in the application bundle",
  "user": {
    "login": "felipethome",
    "id": 4316501,
    "node_id": "MDQ6VXNlcjQzMTY1MDE=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/4316501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/felipethome",
    "html_url": "https://github.com/felipethome",
    "followers_url": "https://api.github.com/users/felipethome/followers",
    "following_url": "https://api.github.com/users/felipethome/following{/other_user}",
    "gists_url": "https://api.github.com/users/felipethome/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/felipethome/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/felipethome/subscriptions",
    "organizations_url": "https://api.github.com/users/felipethome/orgs",
    "repos_url": "https://api.github.com/users/felipethome/repos",
    "events_url": "https://api.github.com/users/felipethome/events{/privacy}",
    "received_events_url": "https://api.github.com/users/felipethome/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2016-02-23T04:22:37Z",
  "updated_at": "2016-10-27T15:02:40Z",
  "closed_at": "2016-10-27T15:02:40Z",
  "author_association": "NONE",
  "body": "So I just stumbled to a problem these days. I was getting that really famous error:\n\n`Invariant Violation: addComponentAsRefTo(...): Only a ReactOwner can have refs`\n\nAnd it was because I had two copies of React inside my project, but I didn't know why. In my project I decided to bundle React in one file, and my application code to another one. What was happening is that even I explicitly saying I wanted React as an external to browserify I was still getting it inside of my application bundle (so two bundles with React). That is because some of your add-ons are just something like the following in their entry point:\n\n`module.exports = require('react/lib/ReactTransitionGroup');`\n\nAnd then, ReactTransitionGroup has the statement:\n\n`var React = require('./React');`\n\nSo, if I am telling to browserify or webpack to treat react as an external with:\n\n`b.external('react')` or `externals: {'react': 'react'}`\n\nI still will get the React code inside of my application bundle if I forget to treat the add-on as an external too, since the last is importing React from inside and not as a npm package (that I declared to be an external in browserify/webpack).\n\nSo, is there any chance of changing that in the future? Like for example exporting the add-on code completely to outside the React code so it imports React as a npm package? Or that should not be a concern of the React project, but of the developers using it? Just asking because I saw dozens of questions about this addComponentAsRefTo error and some of the people asking seem to have the error because of what I described.\n\nI did a [demo](https://github.com/felipethome/issue-multiple-react).\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
