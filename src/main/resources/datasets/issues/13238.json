{
  "url": "https://api.github.com/repos/facebook/react/issues/13238",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13238/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13238/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13238/events",
  "html_url": "https://github.com/facebook/react/issues/13238",
  "id": 342618311,
  "node_id": "MDU6SXNzdWUzNDI2MTgzMTE=",
  "number": 13238,
  "title": "Using keyboard events impedes media recordings",
  "user": {
    "login": "Je4hel",
    "id": 5781642,
    "node_id": "MDQ6VXNlcjU3ODE2NDI=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/5781642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Je4hel",
    "html_url": "https://github.com/Je4hel",
    "followers_url": "https://api.github.com/users/Je4hel/followers",
    "following_url": "https://api.github.com/users/Je4hel/following{/other_user}",
    "gists_url": "https://api.github.com/users/Je4hel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Je4hel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Je4hel/subscriptions",
    "organizations_url": "https://api.github.com/users/Je4hel/orgs",
    "repos_url": "https://api.github.com/users/Je4hel/repos",
    "events_url": "https://api.github.com/users/Je4hel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Je4hel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 620368407,
      "node_id": "MDU6TGFiZWw2MjAzNjg0MDc=",
      "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information",
      "name": "Resolution: Needs More Information",
      "color": "fffde7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-07-19T07:56:04Z",
  "updated_at": "2018-08-02T14:12:04Z",
  "closed_at": "2018-08-02T14:11:54Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**  \r\nBug\r\n\r\n**What is the current behavior?**  \r\nWhen attaching an event handler to the window (or document or body, or anything else, it seems) that will fire on keyboard events (`keyup`, `keydown`) to start/stop a recording with a `MediaRecorder`, some recordings are trimmed at the beginning.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**  \r\nCodeSandbox cannot use Web Audio API it seems so I hosted the app on GitHub pages [here](https://je4hel.github.io/mozrec-react-app/). You can access the source code on [the repository](https://github.com/Je4hel/mozrec-react-app).\r\n\r\nSteps:\r\n\r\n1. Click `Start` to start recording\r\n1. Say a word\r\n1. Click `Stop` and play the audio file\r\n1. -> No problem\r\n\r\nUsing the arrow keys:\r\n\r\n1. Use the left arrow key to start the recording\r\n1. Say a word\r\n1. Use the right arrow key to stop the recording\r\n1. Play the audio file\r\n1. -> The beginning of the speech is trimmed\r\n\r\n*Note: it doesn't happen every time and it seems that it may depend on the word that is pronounced. In French, the following (fake) words induce the problem: `dul` (`/dyl/`) and `couciron` (`/kusiʁɔ̃/`). I don't know a word which causes the problem in English.*\r\n\r\n**What is the expected behavior?**\r\nThe recordings should be the same whether I use the arrow keys or the buttons to start the recording.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nThe sample I provided is version 16.4.1. Originally, I face the issue in a project using version 16.0.0. I am working on Windows  with Chrome.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
