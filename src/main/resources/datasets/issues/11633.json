{
  "url": "https://api.github.com/repos/facebook/react/issues/11633",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11633/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11633/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11633/events",
  "html_url": "https://github.com/facebook/react/pull/11633",
  "id": 276211810,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTU0MjYwNjg4",
  "number": 11633,
  "title": "Run 90% of tests on compiled bundles (both development and production)",
  "user": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2017-11-22T21:41:03Z",
  "updated_at": "2018-01-10T15:24:30Z",
  "closed_at": "2017-11-23T17:44:58Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/11633",
    "html_url": "https://github.com/facebook/react/pull/11633",
    "diff_url": "https://github.com/facebook/react/pull/11633.diff",
    "patch_url": "https://github.com/facebook/react/pull/11633.patch"
  },
  "body": "Adds **`yarn test-build`** and **`yarn test-build-prod`** that run on CI.\r\nYou can also run them locally after `yarn build <what you need> --type=NODE`.\r\n\r\nTests ending with `-test.internal.js` are blacklisted. They fail due to internal imports (e.g. `shared/ReactFeatureFlags`, mocks of local files, or direct file references). Some of them we can fix, but some will need to stay `.internal` forever which seems okay to me as long as itâ€˜s not many.\r\n\r\nNote this means that **if a non-internal test imports an internal file, it will not pass CI**. My suggestion for cases when you *need* an internal file (most commonly a feature flag or a mock) is to add a second `X-test.internal.js` file that only contains the \"bundle-unfriendly\" code. This way we can still run as many tests as we can (and even move tests between two files as some of them lose dependency on internals, e.g. if feature flag is removed).\r\n\r\nThis is all very new, and it's likely we'll uncover some pain points. I can't predict what those will be.\r\nLet's try and see? We can always disable on CI if it's too painful.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
