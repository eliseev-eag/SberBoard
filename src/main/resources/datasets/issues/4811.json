{
  "url": "https://api.github.com/repos/facebook/react/issues/4811",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/4811/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/4811/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/4811/events",
  "html_url": "https://github.com/facebook/react/issues/4811",
  "id": 105426990,
  "node_id": "MDU6SXNzdWUxMDU0MjY5OTA=",
  "number": 4811,
  "title": "PropType for function argument type checking.",
  "user": {
    "login": "zallek",
    "id": 1886834,
    "node_id": "MDQ6VXNlcjE4ODY4MzQ=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1886834?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zallek",
    "html_url": "https://github.com/zallek",
    "followers_url": "https://api.github.com/users/zallek/followers",
    "following_url": "https://api.github.com/users/zallek/following{/other_user}",
    "gists_url": "https://api.github.com/users/zallek/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zallek/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zallek/subscriptions",
    "organizations_url": "https://api.github.com/users/zallek/orgs",
    "repos_url": "https://api.github.com/users/zallek/repos",
    "events_url": "https://api.github.com/users/zallek/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zallek/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2015-09-08T17:05:14Z",
  "updated_at": "2016-03-15T23:50:47Z",
  "closed_at": "2016-02-10T21:57:20Z",
  "author_association": "NONE",
  "body": "I'd really like to be able to define the type of arguments a prop function should be called with.\n\n```\nclass Test extends Component {\n  static propTypes = {\n    foo: PropTypes.func(PropTypes.number).isRequired,\n  }\n  ...\n}\n```\n\nI think that this is the last missing piece we need to really define a React component interface. I might not be the only one to feel the need to comment those signatures. But having a way to do it programmatically would be much better.\n\n```\nclass Test extends Component {\n  static propTypes = {\n    foo: PropTypes.func.isRequired, //signature: (id: Number)\n  }\n  ...\n}\n```\n### First attempt\n\nI tried to create a new PropTypes able to do that by wrapping the function given as prop:\n\n``` JS\nfunction createFuncTypeChecker(...argumentsTypeCheckers) {\n  function validate(props, propName, descriptiveName, location) {\n    const propValue = props[propName];\n    const propType = typeof propValue;\n    if (propType !== 'function') {\n      const locationName = location;\n      return new Error(\n        `Invalid ${locationName} \\`${propName}\\` of type \\`${propType}\\`\n         supplied to \\`${descriptiveName}\\`, expected a function.`\n      );\n    }\n    props[propName] = (...args) => {\n      argumentsTypeCheckers.forEach((typeChecker, i) => {\n        const error = typeChecker(args, i, `${descriptiveName} arguments`, location);\n        if (error instanceof Error) {\n          handleArgumentsTypeError(error);\n        }\n      });\n      propValue.apply(this, args);\n    };\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n```\n\n**It's working** but I'm receiving the pretty straightforward warning message:\n`Warning: Don't set .props.foo of the React component. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.`. \nYeh, mutating the prop is not a nice way but that's the only way I found without modifying React core.\n",
  "closed_by": {
    "login": "jimfb",
    "id": 9595985,
    "node_id": "MDQ6VXNlcjk1OTU5ODU=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/9595985?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jimfb",
    "html_url": "https://github.com/jimfb",
    "followers_url": "https://api.github.com/users/jimfb/followers",
    "following_url": "https://api.github.com/users/jimfb/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimfb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jimfb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jimfb/subscriptions",
    "organizations_url": "https://api.github.com/users/jimfb/orgs",
    "repos_url": "https://api.github.com/users/jimfb/repos",
    "events_url": "https://api.github.com/users/jimfb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jimfb/received_events",
    "type": "User",
    "site_admin": false
  }
}
