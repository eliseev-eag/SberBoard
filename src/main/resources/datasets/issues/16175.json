{
  "url": "https://api.github.com/repos/facebook/react/issues/16175",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16175/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16175/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16175/events",
  "html_url": "https://github.com/facebook/react/issues/16175",
  "id": 471184874,
  "node_id": "MDU6SXNzdWU0NzExODQ4NzQ=",
  "number": 16175,
  "title": "useEarlyEffect or cancelled render cleanup hook request",
  "user": {
    "login": "CaptainN",
    "id": 245825,
    "node_id": "MDQ6VXNlcjI0NTgyNQ==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/245825?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CaptainN",
    "html_url": "https://github.com/CaptainN",
    "followers_url": "https://api.github.com/users/CaptainN/followers",
    "following_url": "https://api.github.com/users/CaptainN/following{/other_user}",
    "gists_url": "https://api.github.com/users/CaptainN/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CaptainN/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CaptainN/subscriptions",
    "organizations_url": "https://api.github.com/users/CaptainN/orgs",
    "repos_url": "https://api.github.com/users/CaptainN/repos",
    "events_url": "https://api.github.com/users/CaptainN/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CaptainN/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2019-07-22T16:44:28Z",
  "updated_at": "2019-08-15T13:13:05Z",
  "closed_at": "2019-08-15T13:13:04Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nFeature\r\n\r\n**What is the current behavior?**\r\nThere is no way to run a side-effect generating hook before the first render.\r\n\r\n**What is the expected behavior?**\r\nFor certain platforms (like Meteor) the reactive data access paradigm both runs immediately (data can be available on first render), and sets up side effects for later updates. I'd like to be able to set all that up *before* the first render, instead of waiting a render pass with `useEffect`. [Currently](https://github.com/meteor/react-packages/pull/271), we have to jump through hoops to make sure sure we don't generate side-effects early, then duplicate effort later to actually set up the desired side effects. (we had been simply setting up the side-effects in sync with render, but understand that [upcoming Suspense features](https://overreacted.io/algebraic-effects-for-the-rest-of-us/#how-is-all-of-this-relevant-to-react) may cancel a render cycle, and never run the `useEffect` cleanup hook). A hook which ran before render (or synchronously with first render) with it's cleanup method in case the render pass is thrown away, would solve the issue nicely, without hoop jumping.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n16.8.x. Previous versions of react had life cycle methods `componentWillMount` or even just the constructor which could be used for similar behavior.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
