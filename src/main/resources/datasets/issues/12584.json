{
  "url": "https://api.github.com/repos/facebook/react/issues/12584",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12584/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12584/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12584/events",
  "html_url": "https://github.com/facebook/react/issues/12584",
  "id": 312567834,
  "node_id": "MDU6SXNzdWUzMTI1Njc4MzQ=",
  "number": 12584,
  "title": "Controlled <select> doesn't update in Firefox when also setting state in another event",
  "user": {
    "login": "benclive",
    "id": 36448794,
    "node_id": "MDQ6VXNlcjM2NDQ4Nzk0",
    "avatar_url": "https://avatars2.githubusercontent.com/u/36448794?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benclive",
    "html_url": "https://github.com/benclive",
    "followers_url": "https://api.github.com/users/benclive/followers",
    "following_url": "https://api.github.com/users/benclive/following{/other_user}",
    "gists_url": "https://api.github.com/users/benclive/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benclive/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benclive/subscriptions",
    "organizations_url": "https://api.github.com/users/benclive/orgs",
    "repos_url": "https://api.github.com/users/benclive/repos",
    "events_url": "https://api.github.com/users/benclive/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benclive/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 127893911,
      "node_id": "MDU6TGFiZWwxMjc4OTM5MTE=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20DOM",
      "name": "Component: DOM",
      "color": "fef2c0",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-04-09T15:02:53Z",
  "updated_at": "2018-09-21T08:00:41Z",
  "closed_at": "2018-08-07T01:11:48Z",
  "author_association": "NONE",
  "body": "Reporting a Bug\r\n\r\n**What is the current behavior?**\r\nWhen selecting a value in a React controlled select box in Firefox, the selection doesn't change. This occurs when a MouseDown handler also generates a state change.\r\n\r\nIt seems to occur when the MouseDown handler sets the state and re-renders the dropdown before the onChange event handler fires. The onChange is then triggered with the old select value because React provided the old state during the re-render.\r\n\r\nCodePen (modified example from the Docs): https://codepen.io/anon/pen/zWyJqg?editors=0010\r\nSteps to reproduce:\r\n1. Run example on Firefox\r\n2. Open the dropdown and select a different value (e.g. Grapefruit)\r\n3. Observe that the new value is not selected.\r\n\r\n**What is the expected behavior?**\r\nSelect dropdown is updated and the value is available in React.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nTested on Firefox v59.0.2 (Development Edition and Normal) on OSX using React v16.3.1 and v16.1.1\r\nAlso encountered on Windows but I'm not sure of the exact versions.\r\nTested on Chrome and everything works as intended on OSX and Windows.\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
