{
  "url": "https://api.github.com/repos/facebook/react/issues/16313",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16313/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16313/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16313/events",
  "html_url": "https://github.com/facebook/react/issues/16313",
  "id": 478055861,
  "node_id": "MDU6SXNzdWU0NzgwNTU4NjE=",
  "number": 16313,
  "title": "[ESLint]react-hooks/exhaustive-deps rule autofix modifies code function, violating eslint best practices",
  "user": {
    "login": "Alphy11",
    "id": 18182784,
    "node_id": "MDQ6VXNlcjE4MTgyNzg0",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18182784?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Alphy11",
    "html_url": "https://github.com/Alphy11",
    "followers_url": "https://api.github.com/users/Alphy11/followers",
    "following_url": "https://api.github.com/users/Alphy11/following{/other_user}",
    "gists_url": "https://api.github.com/users/Alphy11/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Alphy11/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Alphy11/subscriptions",
    "organizations_url": "https://api.github.com/users/Alphy11/orgs",
    "repos_url": "https://api.github.com/users/Alphy11/repos",
    "events_url": "https://api.github.com/users/Alphy11/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Alphy11/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1249821345,
      "node_id": "MDU6TGFiZWwxMjQ5ODIxMzQ1",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20ESLint%20Rules",
      "name": "Component: ESLint Rules",
      "color": "f7afdb",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-08-07T17:37:42Z",
  "updated_at": "2019-09-09T03:49:36Z",
  "closed_at": null,
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\nConsider:\r\n```jsx\r\nfunction Example({ fetchData, someArg }) {\r\n  let data = 'defaultValue';\r\n  useEffect(() => {\r\n    data = fetchData(someArg);\r\n }, [someArg]);\r\n\r\n  return JSON.stringify(data);\r\n}\r\n```\r\nauto fix will automatically change this to:\r\n```jsx\r\nfunction Example({ fetchData, someArg }) {\r\n  let data = 'defaultValue';\r\n  useEffect(() => {\r\n    data = fetchData(someArg);\r\n }, [someArg, fetchData]);\r\n\r\n  return JSON.stringify(data);\r\n}\r\n```\r\n\r\nHere we have a simple data fetch component that should refetch data when parameters change, but not when the fetch function changes.  Whether this is right or not, it is legitimate code, that the lint fix will cause serious problems in the code if it is used like this:\r\n```jsx\r\nfunction ExmapleUsage({ fetchData }) {\r\n  return <Example fetchData={( arg ) => fetchData('Hello World', arg)} someArg=\"Goodbye\" /> \r\n}\r\n```\r\n**What is the expected behavior?**\r\n\r\n[Eslint best practices](https://eslint.org/docs/developer-guide/working-with-rules#applying-fixes) say that fix rules should not change functionality of code, so that you can safely run fix and expect no functional changes to be made.  This rule directly breaks that.  I as a repo maintainer see the auto fix as a greater risk than the problems the lint rule prevents.  If autofix was turned off, the rule would be entirely a positive.  \r\nUnfortunately, [ESLint also has rejected the idea of disabling autofix for certain rules](https://github.com/eslint/eslint/issues/7549).  So not following best practices is not ideal.\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nNot a React Bug but a lint rule.\r\n",
  "closed_by": null
}
