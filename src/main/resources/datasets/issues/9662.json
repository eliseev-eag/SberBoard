{
  "url": "https://api.github.com/repos/facebook/react/issues/9662",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/9662/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/9662/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/9662/events",
  "html_url": "https://github.com/facebook/react/issues/9662",
  "id": 227909175,
  "node_id": "MDU6SXNzdWUyMjc5MDkxNzU=",
  "number": 9662,
  "title": "Concern in rendering nested array",
  "user": {
    "login": "zhangqibupt",
    "id": 12381304,
    "node_id": "MDQ6VXNlcjEyMzgxMzA0",
    "avatar_url": "https://avatars2.githubusercontent.com/u/12381304?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zhangqibupt",
    "html_url": "https://github.com/zhangqibupt",
    "followers_url": "https://api.github.com/users/zhangqibupt/followers",
    "following_url": "https://api.github.com/users/zhangqibupt/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhangqibupt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zhangqibupt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhangqibupt/subscriptions",
    "organizations_url": "https://api.github.com/users/zhangqibupt/orgs",
    "repos_url": "https://api.github.com/users/zhangqibupt/repos",
    "events_url": "https://api.github.com/users/zhangqibupt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zhangqibupt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-05-11T08:04:49Z",
  "updated_at": "2017-08-05T18:09:04Z",
  "closed_at": "2017-08-05T18:09:04Z",
  "author_association": "NONE",
  "body": "I find that no warning is given when render an array nested in another. [this case][3]\r\n\r\n    const numbers = [1, 2, 3, 4, 5];\r\n    const listItems = numbers.map((numbers) =>\r\n      <li>{numbers}</li>\r\n    );\r\n    \r\n    // 'listItems' is wrapped in an array\r\n    ReactDOM.render(\r\n      <ul>{[listItems]}</ul>,\r\n      document.getElementById('container')\r\n    );\r\n\r\n\r\nAfter debugging, in React, I find `function validateChildKeys`, which is used to validate children's keys:\r\n\r\n    /**\r\n     * file path: react/lib/ReactElementValidator.js\r\n     * Ensure that every element either is passed in a static location, in an\r\n     * array with an explicit keys property defined, or in an object literal\r\n     * with valid key property.\r\n     *\r\n     * @internal\r\n     * @param {ReactNode} node Statically passed child of any type.\r\n     * @param {*} parentType node's parent's type.\r\n     */\r\n    function validateChildKeys(node, parentType) {\r\n      if (typeof node !== 'object') {\r\n        return;\r\n      }\r\n      if (Array.isArray(node)) {\r\n        for (var i = 0; i < node.length; i++) {\r\n          var child = node[i];\r\n          if (ReactElement.isValidElement(child)) {\r\n            validateExplicitKey(child, parentType);\r\n          }\r\n        }\r\n      } else {\r\n        // do some other validation\r\n        // ..................\r\n      }\r\n    }\r\nfunction `ReactElement.isValidElement(child)` is used to check if a child node should be checked.\r\n\r\n    ReactElement.isValidElement = function (object) {\r\n      return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\r\n    }\r\n\r\nWhen checking nesting array, e.g. `array = [array0,array1,array2]`, array0, array1, array2 are `Array` objects, which have no property named `$$typeof`, so function `validateExplicitKey` will never be called, warning message will never be thrown.\r\n\r\nIs it a bug? \r\nOr does React acquiesce this case?\r\nGiving a warning message is better, maybe.\r\n\r\n\r\n  [1]: https://facebook.github.io/react/docs/lists-and-keys.html#keys\r\n  [2]: https://facebook.github.io/react/docs/reconciliation.html#recursing-on-children\r\n  [3]: https://jsfiddle.net/neo1102/a9hx8cje/",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
