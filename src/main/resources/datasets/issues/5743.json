{
  "url": "https://api.github.com/repos/facebook/react/issues/5743",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/5743/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/5743/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/5743/events",
  "html_url": "https://github.com/facebook/react/issues/5743",
  "id": 124149145,
  "node_id": "MDU6SXNzdWUxMjQxNDkxNDU=",
  "number": 5743,
  "title": "can't use variable containing html to set inner contents of tag. ",
  "user": {
    "login": "davidawad",
    "id": 4019054,
    "node_id": "MDQ6VXNlcjQwMTkwNTQ=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/4019054?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/davidawad",
    "html_url": "https://github.com/davidawad",
    "followers_url": "https://api.github.com/users/davidawad/followers",
    "following_url": "https://api.github.com/users/davidawad/following{/other_user}",
    "gists_url": "https://api.github.com/users/davidawad/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/davidawad/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/davidawad/subscriptions",
    "organizations_url": "https://api.github.com/users/davidawad/orgs",
    "repos_url": "https://api.github.com/users/davidawad/repos",
    "events_url": "https://api.github.com/users/davidawad/events{/privacy}",
    "received_events_url": "https://api.github.com/users/davidawad/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2015-12-29T01:39:03Z",
  "updated_at": "2017-07-14T17:59:38Z",
  "closed_at": "2015-12-29T08:18:34Z",
  "author_association": "NONE",
  "body": "So I'm getting an error from babel when trying to use the DangerouslySet inner html for a div. \nI'm using a gulpfile to watch my jsx files. \n\ngulpfile:\n\n```\nconst gulp = require('gulp');\nconst react = require('gulp-babel');\nconst babel = require('gulp-babel');\n\n/* Path object for convenience */\nvar paths = {\n  JSX: ['static/jsx/*.jsx'],\n  JS:  ['static/js']\n};\n\ngulp.task('transform', () => {\n    return gulp.src(paths.JSX)\n        .pipe(babel({\n            presets: ['react']\n        }))\n        .pipe(gulp.dest('static/js'));\n});\ngulp.task('watch', function(){\n  gulp.watch(paths.JSX, ['transform']);\n});\ngulp.task('default', ['watch']);\n\n```\n\nSo the problem is when I try to use the `__html:` in my code. It complains the tokens were unexpected.  \n`local_events` is an array that I'm mapping over to return list elements for each item in the list. \n`item.description` is a string containing html <p> tags. \n\n`item.description`: \" <p> this is a paragraph that's not being interpreted as html but instead being rendered as literal text content which isn't what I was hoping</p>    \"\n\n``` js\n    return (\n        <ul>\n            {local_events.map(function(item) {\n                console.log(item)\n                return <li key={(item.time * Math.random())}> <div dangerouslySetInnerHTML={__html:item.description}/> <hr/> </li>\n            })}\n        </ul>\n    )\n```\n\nIs this a React problem? Or is it Babel's linter? Stack trace is below. \n\n```\n[20:30:56] Starting 'transform'...\n\nevents.js:141\n      throw er; // Unhandled 'error' event\n      ^\nSyntaxError: /Users/david/Desktop/meetup-project/static/jsx/Parent.jsx: Unexpected token (75:98)\n  73 |             {local_events.map(function(item) {\n  74 |                 console.log(item)\n> 75 |                 return <li key={(item.time * Math.random())}> <div dangerouslySetInnerHTML={__html:item.description}/> <hr/> </li>\n     |                                                                                                   ^\n  76 |             })}\n  77 |         </ul>\n  78 |     )\n    at Parser.pp.raise (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/parser/location.js:22:13)\n    at Parser.pp.unexpected (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/parser/util.js:91:8)\n    at Parser.pp.expect (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/parser/util.js:85:33)\n    at Parser.pp.jsxParseExpressionContainer (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/plugins/jsx/index.js:293:8)\n    at Parser.pp.jsxParseAttributeValue (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/plugins/jsx/index.js:256:19)\n    at Parser.pp.jsxParseAttribute (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/plugins/jsx/index.js:308:58)\n    at Parser.pp.jsxParseOpeningElementAt (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/plugins/jsx/index.js:319:31)\n    at Parser.pp.jsxParseElementAt (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/plugins/jsx/index.js:341:29)\n    at Parser.pp.jsxParseElementAt (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/plugins/jsx/index.js:354:30)\n    at Parser.pp.jsxParseElement (/Users/david/Desktop/meetup-project/node_modules/babylon/lib/plugins/jsx/index.js:390:15)\n```\n",
  "closed_by": {
    "login": "zpao",
    "id": 8445,
    "node_id": "MDQ6VXNlcjg0NDU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zpao",
    "html_url": "https://github.com/zpao",
    "followers_url": "https://api.github.com/users/zpao/followers",
    "following_url": "https://api.github.com/users/zpao/following{/other_user}",
    "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
    "organizations_url": "https://api.github.com/users/zpao/orgs",
    "repos_url": "https://api.github.com/users/zpao/repos",
    "events_url": "https://api.github.com/users/zpao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zpao/received_events",
    "type": "User",
    "site_admin": false
  }
}
