{
  "url": "https://api.github.com/repos/facebook/react/issues/8928",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/8928/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/8928/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/8928/events",
  "html_url": "https://github.com/facebook/react/pull/8928",
  "id": 205322285,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTA0NjQ4NTMw",
  "number": 8928,
  "title": "shouldLeaveMarkup flag for unmountComponentAtNode",
  "user": {
    "login": "szyablitsky",
    "id": 1945924,
    "node_id": "MDQ6VXNlcjE5NDU5MjQ=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1945924?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/szyablitsky",
    "html_url": "https://github.com/szyablitsky",
    "followers_url": "https://api.github.com/users/szyablitsky/followers",
    "following_url": "https://api.github.com/users/szyablitsky/following{/other_user}",
    "gists_url": "https://api.github.com/users/szyablitsky/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/szyablitsky/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/szyablitsky/subscriptions",
    "organizations_url": "https://api.github.com/users/szyablitsky/orgs",
    "repos_url": "https://api.github.com/users/szyablitsky/repos",
    "events_url": "https://api.github.com/users/szyablitsky/events{/privacy}",
    "received_events_url": "https://api.github.com/users/szyablitsky/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2017-02-04T04:29:30Z",
  "updated_at": "2017-02-07T06:43:00Z",
  "closed_at": "2017-02-06T16:00:40Z",
  "author_association": "NONE",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/8928",
    "html_url": "https://github.com/facebook/react/pull/8928",
    "diff_url": "https://github.com/facebook/react/pull/8928.diff",
    "patch_url": "https://github.com/facebook/react/pull/8928.patch"
  },
  "body": "This can help to resolve the issue when using React with [turbolinks](https://github.com/turbolinks/turbolinks) and libraries like [react-rails](https://github.com/reactjs/react-rails) or [react-on-rails](https://github.com/shakacode/react_on_rails). Turbolinks turns any conventional web application into pseudo-SPA.\r\n> When you follow a link, Turbolinks automatically fetches the page, swaps in its <body>, and merges its <head>, all without incurring the cost of a full page load.\r\n\r\nBoth react-rails and react-on-rails uses [turbolinks events](https://github.com/turbolinks/turbolinks#full-list-of-events) to know when to mount and unmount React components on page.\r\n\r\nThey can use two events for unmounting:\r\n\r\nFirst is `turbolinks:before-render`. It happens just before turbolinks swaps the page body. But using this event leads to warnings in console.\r\n```\r\nWarning: unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.\r\n```\r\n\r\nSecond is `turbolinks:before-visit`. It happens before turbolinks fetch next page body from server. But unmounting components at this point and removing rendered markup from DOM causes visual changes on page which is bad for UX. By adding `sholdLeaveMarkup` flag for `unmountComponentAtNode` we can free the memory used by component but leave markup in DOM while turbolinks loads new page.\r\n\r\nI tested these changes on my fork, and they resolve the issue with \"flickering\" components on turbolinks navigation.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
