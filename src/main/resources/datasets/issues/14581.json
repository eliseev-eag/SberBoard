{
  "url": "https://api.github.com/repos/facebook/react/issues/14581",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14581/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14581/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14581/events",
  "html_url": "https://github.com/facebook/react/issues/14581",
  "id": 398575684,
  "node_id": "MDU6SXNzdWUzOTg1NzU2ODQ=",
  "number": 14581,
  "title": "Set function returned by useState executes functions passed to it",
  "user": {
    "login": "ajpocus",
    "id": 292627,
    "node_id": "MDQ6VXNlcjI5MjYyNw==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/292627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajpocus",
    "html_url": "https://github.com/ajpocus",
    "followers_url": "https://api.github.com/users/ajpocus/followers",
    "following_url": "https://api.github.com/users/ajpocus/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajpocus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajpocus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajpocus/subscriptions",
    "organizations_url": "https://api.github.com/users/ajpocus/orgs",
    "repos_url": "https://api.github.com/users/ajpocus/repos",
    "events_url": "https://api.github.com/users/ajpocus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajpocus/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-01-12T17:46:40Z",
  "updated_at": "2019-01-12T20:04:04Z",
  "closed_at": "2019-01-12T20:04:04Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nIt might be a bug, or it might just be behavior I didn't expect.\r\n\r\n**What is the current behavior?**\r\n\r\nThe current behavior is that the set function returned by `useState` appears to execute functions passed to it. I've replicated this behavior in the CodeSandbox link below -- check the console logs to see the behavior I'm describing.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n[https://codesandbox.io/s/r559xx4n9o](https://codesandbox.io/s/r559xx4n9o)\r\n\r\n**What is the expected behavior?**\r\n\r\nI expect the set function returned by `useState` to behave like `this.setState`, and simply store the function, not execute it (although I may be missing a use case where such behavior would be useful). If I'm missing something here, please let me know!\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nI'm using React 16.7.0-alpha.2, with Firefox 64.0 on Ubuntu 18.04.1. If I'm missing something here, if I missed a note in the docs or if I'm just being stupid and missing the point of executing functions on set, please, let me know!",
  "closed_by": {
    "login": "ajpocus",
    "id": 292627,
    "node_id": "MDQ6VXNlcjI5MjYyNw==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/292627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajpocus",
    "html_url": "https://github.com/ajpocus",
    "followers_url": "https://api.github.com/users/ajpocus/followers",
    "following_url": "https://api.github.com/users/ajpocus/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajpocus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajpocus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajpocus/subscriptions",
    "organizations_url": "https://api.github.com/users/ajpocus/orgs",
    "repos_url": "https://api.github.com/users/ajpocus/repos",
    "events_url": "https://api.github.com/users/ajpocus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajpocus/received_events",
    "type": "User",
    "site_admin": false
  }
}
