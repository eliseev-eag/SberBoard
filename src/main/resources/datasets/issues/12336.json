{
  "url": "https://api.github.com/repos/facebook/react/issues/12336",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12336/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12336/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12336/events",
  "html_url": "https://github.com/facebook/react/issues/12336",
  "id": 302702711,
  "node_id": "MDU6SXNzdWUzMDI3MDI3MTE=",
  "number": 12336,
  "title": "with refs, why is the final ref different than output of getElementById?",
  "user": {
    "login": "MagicPoulp",
    "id": 3144141,
    "node_id": "MDQ6VXNlcjMxNDQxNDE=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3144141?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MagicPoulp",
    "html_url": "https://github.com/MagicPoulp",
    "followers_url": "https://api.github.com/users/MagicPoulp/followers",
    "following_url": "https://api.github.com/users/MagicPoulp/following{/other_user}",
    "gists_url": "https://api.github.com/users/MagicPoulp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MagicPoulp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MagicPoulp/subscriptions",
    "organizations_url": "https://api.github.com/users/MagicPoulp/orgs",
    "repos_url": "https://api.github.com/users/MagicPoulp/repos",
    "events_url": "https://api.github.com/users/MagicPoulp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MagicPoulp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-03-06T13:34:08Z",
  "updated_at": "2018-03-07T13:51:31Z",
  "closed_at": "2018-03-07T13:51:31Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nbug/question\r\n\r\n**What is the current behavior?**\r\nreact 16.2.0\r\n\r\nI have a react application with redux. I need to use a ref on a HTML pre because I want to copy paste its text in a button callback.\r\n\r\nThe ref callback looks like this for the pre:\r\n(ref) => { this.preRef = ref }\r\n\r\nIn a button onClick event, I noticed the final value of this.preRef is not equal to the final output from document.getElementId() on the id of the HTML pre. It is fine for me if the ref callback is called many times since it is by design of react. But can someone explain me why the final ref is not equal to the final DOM element finally showing up on the page?\r\n\r\nI want to avoid getELementById, but it works with its returned value and its returned value is equal to the first this.preRef, not the last.\r\n\r\n```\r\n                                    e(  'pre',\r\n                                        {\r\n                                            className: 'modal-content',\r\n                                            key: 'raw-json-modal-div-modal-content-2',\r\n                                            ref: (ref) => { console.log(\"NEW REF\"); console.log(\"null ref\", ref == null); this.rawJsonPreRef = ref; this.TEMP_BUFFER.push(ref) },\r\n                                        }, [\r\n                                            prettyJson\r\n                                        ]\r\n                                    ),\r\n```\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nsee above\r\n\r\n**What is the expected behavior?**\r\nsee above\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nreact 16.2.0\r\n",
  "closed_by": {
    "login": "MagicPoulp",
    "id": 3144141,
    "node_id": "MDQ6VXNlcjMxNDQxNDE=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3144141?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MagicPoulp",
    "html_url": "https://github.com/MagicPoulp",
    "followers_url": "https://api.github.com/users/MagicPoulp/followers",
    "following_url": "https://api.github.com/users/MagicPoulp/following{/other_user}",
    "gists_url": "https://api.github.com/users/MagicPoulp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MagicPoulp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MagicPoulp/subscriptions",
    "organizations_url": "https://api.github.com/users/MagicPoulp/orgs",
    "repos_url": "https://api.github.com/users/MagicPoulp/repos",
    "events_url": "https://api.github.com/users/MagicPoulp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MagicPoulp/received_events",
    "type": "User",
    "site_admin": false
  }
}
