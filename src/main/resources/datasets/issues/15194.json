{
  "url": "https://api.github.com/repos/facebook/react/issues/15194",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15194/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15194/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15194/events",
  "html_url": "https://github.com/facebook/react/issues/15194",
  "id": 424262965,
  "node_id": "MDU6SXNzdWU0MjQyNjI5NjU=",
  "number": 15194,
  "title": "Better error message when useEffect is called with no parameters",
  "user": {
    "login": "JoshuaKGoldberg",
    "id": 3335181,
    "node_id": "MDQ6VXNlcjMzMzUxODE=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/3335181?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JoshuaKGoldberg",
    "html_url": "https://github.com/JoshuaKGoldberg",
    "followers_url": "https://api.github.com/users/JoshuaKGoldberg/followers",
    "following_url": "https://api.github.com/users/JoshuaKGoldberg/following{/other_user}",
    "gists_url": "https://api.github.com/users/JoshuaKGoldberg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JoshuaKGoldberg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JoshuaKGoldberg/subscriptions",
    "organizations_url": "https://api.github.com/users/JoshuaKGoldberg/orgs",
    "repos_url": "https://api.github.com/users/JoshuaKGoldberg/repos",
    "events_url": "https://api.github.com/users/JoshuaKGoldberg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JoshuaKGoldberg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929153,
      "node_id": "MDU6TGFiZWw0MDkyOTE1Mw==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Enhancement",
      "name": "Type: Enhancement",
      "color": "84b6eb",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-03-22T15:21:19Z",
  "updated_at": "2019-03-22T20:07:12Z",
  "closed_at": null,
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nFeature\r\n\r\n**What is the current behavior?**\r\n\r\nSuppose you give an `undefined` object or forget to provide parameters to `useEffect`:\r\n\r\n```js\r\nconst App = () => {\r\n    React.useEffect();\r\n    return \"\";\r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById('container'));\r\n```\r\n\r\nOn JSFiddle (https://jsfiddle.net/g39javzq), this error stack is logged:\r\n\r\n```\r\nUncaught TypeError: create is not a function\r\n    at commitHookEffectList (react-dom.development.js:17372)\r\n    at commitPassiveHookEffects (react-dom.development.js:17396)\r\n    at HTMLUnknownElement.callCallback (react-dom.development.js:143)\r\n    at Object.invokeGuardedCallbackDev (react-dom.development.js:193)\r\n    at invokeGuardedCallback (react-dom.development.js:250)\r\n    at commitPassiveEffects (react-dom.development.js:18863)\r\n    at wrapped (react.development.js:1353)\r\n    at flushFirstCallback (react.development.js:587)\r\n    at flushWork (react.development.js:699)\r\n    at MessagePort.channel.port1.onmessage (react.development.js:1093)\r\n```\r\n\r\n...though on a local project in React 16.8.4, this stack is logged:\r\n\r\n```\r\nUncaught TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))\r\n    at _iterableToArrayLimit (my-project.chunk.js:123)\r\n    at _slicedToArray (my-project.chunk.js:456)\r\n    at MyComponent (myFile.js:7)\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nNeither of these were useful during the 5 minutes it took to find the culprit `useEffect` that should have been a `useState`.\r\n\r\nIn development, we check for an `undefined` `deps` argument in `useEffect` and give a better warning?\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nReact 16.8.4, Chrome on Mac.\r\n",
  "closed_by": null
}
