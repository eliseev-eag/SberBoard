{
  "url": "https://api.github.com/repos/facebook/react/issues/4948",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/4948/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/4948/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/4948/events",
  "html_url": "https://github.com/facebook/react/issues/4948",
  "id": 107834388,
  "node_id": "MDU6SXNzdWUxMDc4MzQzODg=",
  "number": 4948,
  "title": "react-addons-test-utils invariant violation with body tag",
  "user": {
    "login": "zackify",
    "id": 449136,
    "node_id": "MDQ6VXNlcjQ0OTEzNg==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/449136?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zackify",
    "html_url": "https://github.com/zackify",
    "followers_url": "https://api.github.com/users/zackify/followers",
    "following_url": "https://api.github.com/users/zackify/following{/other_user}",
    "gists_url": "https://api.github.com/users/zackify/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zackify/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zackify/subscriptions",
    "organizations_url": "https://api.github.com/users/zackify/orgs",
    "repos_url": "https://api.github.com/users/zackify/repos",
    "events_url": "https://api.github.com/users/zackify/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zackify/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2015-09-23T01:27:24Z",
  "updated_at": "2017-04-21T14:49:19Z",
  "closed_at": "2017-04-21T14:49:19Z",
  "author_association": "NONE",
  "body": "With the latest react 0.14rc, when trying to render a component with a body tag I get\n\n```\nError: Invariant Violation: findComponentRoot(..., .1dqu0l59p1c): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID ``.\n      at invariant (/Users/zachsilveira/Web/legit-tests/node_modules/react/node_modules/fbjs/lib/invariant.js:39:15)\n      at Object.ReactMount.findComponentRoot (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactMount.js:752:54)\n      at Object.ReactMount.findReactNodeByID (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactMount.js:667:23)\n      at Object.getNode (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactMount.js:162:32)\n      at ReactDOMComponent.Mixin.getPublicInstance (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactDOMComponent.js:872:29)\n      at findAllInRenderedTreeInternal (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactTestUtils.js:45:25)\n      at findAllInRenderedTreeInternal (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactTestUtils.js:57:22)\n      at Object.ReactTestUtils.findAllInRenderedTree (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactTestUtils.js:145:12)\n      at Object.ReactTestUtils.scryRenderedDOMComponentsWithTag (/Users/zachsilveira/Web/legit-tests/node_modules/react/lib/ReactTestUtils.js:183:27)\n      at Test.find (/Users/zachsilveira/Web/legit-tests/src/middleware/find.js:13:29)\n      at Test.find (/Users/zachsilveira/Web/legit-tests/src/legit-tests.js:50:10)\n      at Context.<anonymous> (/Users/zachsilveira/Web/legit-tests/tests/simulate.jsx:26:6)\n      at callFn (/Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runnable.js:286:21)\n      at Test.Runnable.run (/Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runnable.js:279:7)\n      at Runner.runTest (/Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runner.js:421:10)\n      at /Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runner.js:528:12\n      at next (/Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runner.js:341:14)\n      at /Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runner.js:351:7\n      at next (/Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runner.js:283:14)\n      at Immediate._onImmediate (/Users/zachsilveira/Web/legit-tests/node_modules/mocha/lib/runner.js:319:5)\n      at processImmediate [as _immediateCallback] (timers.js:371:17)\n```\n\nI have a simple component:\n\n``` js\nrender(){\n    return <body>\n      <div onClick={this.props.onClick}>{this.state.test}</div>\n      <p className=\"box\">found me!</p>\n      <button\n        type=\"button\"\n        onClick={this.props.onClick}>\n        Click Me\n      </button>\n      <button\n        type=\"button\"\n        onClick={this.props.onClick}>\n        Click Me\n      </button>\n      <TinyComponent test=\"true\"/>\n    </body>\n  }\n```\n\nDoing: \n\n```\nvar instance = TestUtils.renderIntoDocument(React.createElement(TestComponent, null));\nvar elements = TestUtils.scryRenderedDOMComponentsWithTag(instance, 'button');\n\nconsole.log(elements);\n```\n\nReturns the error from above. If you replace the body tags with something else, everything works.\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
