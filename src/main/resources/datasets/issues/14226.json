{
  "url": "https://api.github.com/repos/facebook/react/issues/14226",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14226/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14226/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14226/events",
  "html_url": "https://github.com/facebook/react/pull/14226",
  "id": 380487545,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjMwNjc0NDQ0",
  "number": 14226,
  "title": "[scheduler] Expose message event handler and key",
  "user": {
    "login": "acdlite",
    "id": 3624098,
    "node_id": "MDQ6VXNlcjM2MjQwOTg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3624098?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acdlite",
    "html_url": "https://github.com/acdlite",
    "followers_url": "https://api.github.com/users/acdlite/followers",
    "following_url": "https://api.github.com/users/acdlite/following{/other_user}",
    "gists_url": "https://api.github.com/users/acdlite/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acdlite/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acdlite/subscriptions",
    "organizations_url": "https://api.github.com/users/acdlite/orgs",
    "repos_url": "https://api.github.com/users/acdlite/repos",
    "events_url": "https://api.github.com/users/acdlite/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acdlite/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-11-14T00:45:35Z",
  "updated_at": "2018-11-14T04:17:07Z",
  "closed_at": "2018-11-14T04:17:07Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/14226",
    "html_url": "https://github.com/facebook/react/pull/14226",
    "diff_url": "https://github.com/facebook/react/pull/14226.diff",
    "patch_url": "https://github.com/facebook/react/pull/14226.patch"
  },
  "body": "Scheduler uses a message event to schedule a callback that fires after paint. This happens on every frame until the queue is empty. An unfortunate consequence is that every other message event handler also gets called on every frame; even if they exit immediately, this adds up to significant per- frame overhead. Until there's a better way to insert work after paint, a workaround is to monkey-patch `addEventListener` so there's only a single listener that wraps all the other ones. When a message\r\nevent is fired, we check if the event is Scheduler event. If it is, we call Scheduler, and skip the other event handlers entirely. (We could also use this same wrapper to defer the priority of the message event handlers, though that's a more drastic a change.)\r\n\r\nThis is a bit hacky, though, and probably doesn't belong in this package. It can be implemented in a wrapper, though, if we expose both the message key used by Scheduler message events and the Scheduler message listener.",
  "closed_by": {
    "login": "acdlite",
    "id": 3624098,
    "node_id": "MDQ6VXNlcjM2MjQwOTg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3624098?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acdlite",
    "html_url": "https://github.com/acdlite",
    "followers_url": "https://api.github.com/users/acdlite/followers",
    "following_url": "https://api.github.com/users/acdlite/following{/other_user}",
    "gists_url": "https://api.github.com/users/acdlite/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acdlite/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acdlite/subscriptions",
    "organizations_url": "https://api.github.com/users/acdlite/orgs",
    "repos_url": "https://api.github.com/users/acdlite/repos",
    "events_url": "https://api.github.com/users/acdlite/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acdlite/received_events",
    "type": "User",
    "site_admin": false
  }
}
