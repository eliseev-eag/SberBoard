{
  "url": "https://api.github.com/repos/facebook/react/issues/16754",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16754/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16754/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16754/events",
  "html_url": "https://github.com/facebook/react/issues/16754",
  "id": 492364232,
  "node_id": "MDU6SXNzdWU0OTIzNjQyMzI=",
  "number": 16754,
  "title": "SVG sprite icons blink when DOM re-renders",
  "user": {
    "login": "WebKieth",
    "id": 12966747,
    "node_id": "MDQ6VXNlcjEyOTY2NzQ3",
    "avatar_url": "https://avatars1.githubusercontent.com/u/12966747?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/WebKieth",
    "html_url": "https://github.com/WebKieth",
    "followers_url": "https://api.github.com/users/WebKieth/followers",
    "following_url": "https://api.github.com/users/WebKieth/following{/other_user}",
    "gists_url": "https://api.github.com/users/WebKieth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/WebKieth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/WebKieth/subscriptions",
    "organizations_url": "https://api.github.com/users/WebKieth/orgs",
    "repos_url": "https://api.github.com/users/WebKieth/repos",
    "events_url": "https://api.github.com/users/WebKieth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/WebKieth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-09-11T17:17:33Z",
  "updated_at": "2019-09-12T11:56:54Z",
  "closed_at": "2019-09-12T11:56:54Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug. \r\n\r\n**What is the current behavior?**\r\nI update state of chechbox from parent and after setState executed on parent all tree starts to re-render and icons blink.\r\n\r\n\r\n**What is the expected behavior?**\r\nI update state of chechbox from parent and expect re-render only for checked checkbox.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nI use latest version of create-react app.\r\n\r\nSo, this is my first react app and I dont like how webpack and react works with SVG. I want to create one static svg symbol sprite and render all icons by their name, which I pass from props. \r\n```\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nclass Icon extends React.Component {\r\n    getSprite() {\r\n        let icon = require(`../../assets/icons/sprite.svg`);\r\n        return icon;\r\n    }\r\n    render() {\r\n        return <svg className={`icon ${this.props.className ? this.props.className : ''}`} viewBox=\"0 0 18 18\" width=\"24\">\r\n            <use xlinkHref={`${this.getSprite()}#${this.props.name}`} />\r\n        </svg>\r\n    }\r\n}\r\nIcon.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n};\r\nexport default Icon\r\n```\r\nSprite has rendered by gulp task cause with webpack its too difficult and webpack cant modify svg like I need. So, I start to write Ui kit for project - create UiKit component and add some states for children. \r\n\r\n```\r\nclass Uikit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      checkboxes: {\r\n        first: {\r\n          value: true\r\n        },\r\n        second: {\r\n          value: false\r\n        },\r\n        third: {\r\n          value: false\r\n        }\r\n      },\r\n      radio: {\r\n        first: {\r\n          value: true\r\n        },\r\n        second: {\r\n          value: false\r\n        },\r\n        third: {\r\n          value: false\r\n        }\r\n      }\r\n    }\r\n    this.updateCheckboxState = this.updateCheckboxState.bind(this);\r\n  }\r\n\r\n  updateCheckboxState(argKey, value) {\r\n    this.setState((state) => {\r\n        state.checkboxes[argKey].value = value;\r\n        return Object.assign({}, state);\r\n    })\r\n  }\r\n\r\n  render() {\r\n    function UiWrapper (props) {\r\n      return <div className='p-5 border border-dashed border-ui-blue'>{props.children}</div>\r\n    }\r\n    return <div className='kit-grid'>\r\n      <UiWrapper>\r\n        <Button /*narrow*/ /*thin*/ /*secondary*/ /*disabled*/ /*iconed - only for single icon*/>\r\n          <Icon name='plus' className='mr-2 icon--sm stroke-dark'/>\r\n          Плюс\r\n        </Button>\r\n      </UiWrapper>\r\n      <UiWrapper>\r\n        {Object.keys(this.state.checkboxes).map((key) => {\r\n          return <Checkbox checked={this.state.checkboxes[key].value}\r\n                  key={key} \r\n                  onChange={this.updateCheckboxState}\r\n                  id={key} label={key}/>\r\n        })}\r\n      </UiWrapper>\r\n    </div>\r\n  }\r\n}\r\n\r\n```\r\nWhen updateCheckboxState executed all UiKit re-rendered, icons blink and i'm gets angry. Why?",
  "closed_by": {
    "login": "WebKieth",
    "id": 12966747,
    "node_id": "MDQ6VXNlcjEyOTY2NzQ3",
    "avatar_url": "https://avatars1.githubusercontent.com/u/12966747?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/WebKieth",
    "html_url": "https://github.com/WebKieth",
    "followers_url": "https://api.github.com/users/WebKieth/followers",
    "following_url": "https://api.github.com/users/WebKieth/following{/other_user}",
    "gists_url": "https://api.github.com/users/WebKieth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/WebKieth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/WebKieth/subscriptions",
    "organizations_url": "https://api.github.com/users/WebKieth/orgs",
    "repos_url": "https://api.github.com/users/WebKieth/repos",
    "events_url": "https://api.github.com/users/WebKieth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/WebKieth/received_events",
    "type": "User",
    "site_admin": false
  }
}
