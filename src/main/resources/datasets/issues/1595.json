{
  "url": "https://api.github.com/repos/facebook/react/issues/1595",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/1595/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/1595/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/1595/events",
  "html_url": "https://github.com/facebook/react/issues/1595",
  "id": 34237248,
  "node_id": "MDU6SXNzdWUzNDIzNzI0OA==",
  "number": 1595,
  "title": "Event handler 'this' context when using transferPropsTo",
  "user": {
    "login": "danielstocks",
    "id": 52788,
    "node_id": "MDQ6VXNlcjUyNzg4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/52788?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danielstocks",
    "html_url": "https://github.com/danielstocks",
    "followers_url": "https://api.github.com/users/danielstocks/followers",
    "following_url": "https://api.github.com/users/danielstocks/following{/other_user}",
    "gists_url": "https://api.github.com/users/danielstocks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danielstocks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danielstocks/subscriptions",
    "organizations_url": "https://api.github.com/users/danielstocks/orgs",
    "repos_url": "https://api.github.com/users/danielstocks/repos",
    "events_url": "https://api.github.com/users/danielstocks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danielstocks/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2014-05-24T16:22:14Z",
  "updated_at": "2014-07-10T17:54:57Z",
  "closed_at": "2014-06-11T17:14:31Z",
  "author_association": "NONE",
  "body": "Hello,\n\nNot sure if this is a bug or a feature :)\n\nI have a set of React components that share the same behaviour for events so I created a mixin and used the getDefaultProps/transferPropsTo methods to share this functionality.\n\n``` js\nvar Highlight = {\n  getDefaultProps: function() {\n    return {\n      onMouseOver : this.highlight\n    }\n  },\n  highlight: function() {\n    console.log(this) //<--- window\n  },\n  unhighlight: function() {\n    console.log(this) //<--- Paragraph component\n  }\n}\n\nvar Paragraph = React.createClass({\n  mixins: [Highlight],\n  render: function() {\n    return this.transferPropsTo(\n      <p onMouseOut={this.unhighlight}>Hello</p>\n    )\n  }\n});\n```\n\nAs you can see, when adding the event in JSX the local scope of the event callback is binded to the component, but when using getDefaultProps 'this' points to 'window'.\n\nA workaround is obviously to rebind the scope manually\n\n``` js\ngetDefaultProps: function() {\n  return {\n    onMouseOver : this.highlight.bind(this)\n  }\n},\n```\n\nBut I'm wondering if the behaviour of getDefaultProps/transferPropsTo should be more constant with setting the properties in JSX? Or maybe there's a better way to inherit event handlers to components altogether?\n\nHere's a JS fiddle with the above example code: http://jsfiddle.net/kb3gN/2703/\n\nThanks in advance\n\nDaniel\n",
  "closed_by": {
    "login": "sophiebits",
    "id": 6820,
    "node_id": "MDQ6VXNlcjY4MjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sophiebits",
    "html_url": "https://github.com/sophiebits",
    "followers_url": "https://api.github.com/users/sophiebits/followers",
    "following_url": "https://api.github.com/users/sophiebits/following{/other_user}",
    "gists_url": "https://api.github.com/users/sophiebits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sophiebits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sophiebits/subscriptions",
    "organizations_url": "https://api.github.com/users/sophiebits/orgs",
    "repos_url": "https://api.github.com/users/sophiebits/repos",
    "events_url": "https://api.github.com/users/sophiebits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sophiebits/received_events",
    "type": "User",
    "site_admin": false
  }
}
