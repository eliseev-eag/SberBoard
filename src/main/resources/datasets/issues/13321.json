{
  "url": "https://api.github.com/repos/facebook/react/issues/13321",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13321/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13321/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13321/events",
  "html_url": "https://github.com/facebook/react/pull/13321",
  "id": 347509220,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjA2MTE3NDg4",
  "number": 13321,
  "title": "Provide esm entry point for react-is",
  "user": {
    "login": "TrySound",
    "id": 5635476,
    "node_id": "MDQ6VXNlcjU2MzU0NzY=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/5635476?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TrySound",
    "html_url": "https://github.com/TrySound",
    "followers_url": "https://api.github.com/users/TrySound/followers",
    "following_url": "https://api.github.com/users/TrySound/following{/other_user}",
    "gists_url": "https://api.github.com/users/TrySound/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TrySound/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TrySound/subscriptions",
    "organizations_url": "https://api.github.com/users/TrySound/orgs",
    "repos_url": "https://api.github.com/users/TrySound/repos",
    "events_url": "https://api.github.com/users/TrySound/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TrySound/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "gaearon",
      "id": 810438,
      "node_id": "MDQ6VXNlcjgxMDQzOA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gaearon",
      "html_url": "https://github.com/gaearon",
      "followers_url": "https://api.github.com/users/gaearon/followers",
      "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
      "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
      "organizations_url": "https://api.github.com/users/gaearon/orgs",
      "repos_url": "https://api.github.com/users/gaearon/repos",
      "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gaearon/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 27,
  "created_at": "2018-08-03T19:21:19Z",
  "updated_at": "2018-10-09T13:25:51Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/13321",
    "html_url": "https://github.com/facebook/react/pull/13321",
    "diff_url": "https://github.com/facebook/react/pull/13321.diff",
    "patch_url": "https://github.com/facebook/react/pull/13321.patch"
  },
  "body": "Refs\r\n  https://github.com/facebook/react/issues/13272#issuecomment-409939608\r\n  https://github.com/reactjs/rfcs/pull/38\r\n\r\nIn this PR I modified build script to generate two more bundles\r\n`react-is.development.mjs` and `react-is.production.min.mjs` and\r\nentry point `index.mjs` which reexports all named values depending on\r\nproduction/development environments like this\r\n\r\n```\r\nimport * as dev from './esm/development.mjs'\r\nimport * as prod from './esm/production.min.mjs'\r\n\r\nexport var name =\r\n  process.env.NODE_ENV !== 'production' ? dev.name : prod.name;\r\n```\r\n\r\nI replaced closure wrapper with vendor plugin which is able to process\r\nes modules by replacing them before and returning them after closure\r\nminification.\r\n\r\nTo prove treeshakability of dual entry point we can generate rollup\r\nbundle with `import {} from 'package'`. If nothing will left then\r\nuser bundler is able to eliminate unused code from dual entry point.",
  "closed_by": null
}
