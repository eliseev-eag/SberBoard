{
  "url": "https://api.github.com/repos/facebook/react/issues/16089",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16089/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16089/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16089/events",
  "html_url": "https://github.com/facebook/react/issues/16089",
  "id": 465667748,
  "node_id": "MDU6SXNzdWU0NjU2Njc3NDg=",
  "number": 16089,
  "title": "Remove Did not expect server HTML to contain a <style> in <div> from react-dom",
  "user": {
    "login": "ImanMh",
    "id": 4482199,
    "node_id": "MDQ6VXNlcjQ0ODIxOTk=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4482199?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ImanMh",
    "html_url": "https://github.com/ImanMh",
    "followers_url": "https://api.github.com/users/ImanMh/followers",
    "following_url": "https://api.github.com/users/ImanMh/following{/other_user}",
    "gists_url": "https://api.github.com/users/ImanMh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ImanMh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ImanMh/subscriptions",
    "organizations_url": "https://api.github.com/users/ImanMh/orgs",
    "repos_url": "https://api.github.com/users/ImanMh/repos",
    "events_url": "https://api.github.com/users/ImanMh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ImanMh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-07-09T09:18:45Z",
  "updated_at": "2019-09-04T14:00:47Z",
  "closed_at": "2019-09-04T14:00:47Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nI'm requesting to remove a feature\r\n\r\n**What is the current behavior?**\r\nReact dom shows warnings when there are style tags in between html responses from server\r\n\r\n```\r\nWarning: Did not expect server HTML to contain a <style> in <div>.\r\n```\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\nit's not a bug but here is how to reproduce it: \r\n\r\nClone a SSR supported boiler plate like [react-starter-kit](https://github.com/kriasoft/react-starter-kit) and add this code in any component's render method: \r\n```jsx\r\n{!process.env.BROWSER &&\r\n    <style>{'.test { color: red; }'}</style>\r\n}\r\n```\r\n\r\n**What is the expected behavior?**\r\nnot throwing warnings\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nReact: ^16.5.2\r\nReact-dom: ^16.5.2\r\nBrowser: FireFox 67.0.4\r\nI think it's always been like this!\r\n\r\nI think this warning message **should be totally removed from React DOM**, How should I stream using `ReactDOMServer.renderToNodeStream` if I don't put the style tags in between HTML tags?\r\nI've seen many people using packages like [isomorphic-style-loader](https://github.com/kriasoft/isomorphic-style-loader) which puts all the styles in the head. However if you want to steam the server response, the idea of styles in head is not possible unless you first `renderToString` the entire component tree which eliminates the whole purpose of streaming the results.\r\n\r\nMy suggestion is that ReactDOM does not considers `style` tags inside html nodes an invalid response from server so it's possible to stream server response easier and remove all these inline styles in client and move them to the head(for the sake of easier DOM manipulations in feature).  ",
  "closed_by": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  }
}
