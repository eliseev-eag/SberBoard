{
  "url": "https://api.github.com/repos/facebook/react/issues/12479",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12479/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12479/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12479/events",
  "html_url": "https://github.com/facebook/react/pull/12479",
  "id": 309557164,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTc4MTgzNDUx",
  "number": 12479,
  "title": "Update user timing to record the timeout deadline with 'waiting' events",
  "user": {
    "login": "flarnie",
    "id": 1114467,
    "node_id": "MDQ6VXNlcjExMTQ0Njc=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/1114467?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flarnie",
    "html_url": "https://github.com/flarnie",
    "followers_url": "https://api.github.com/users/flarnie/followers",
    "following_url": "https://api.github.com/users/flarnie/following{/other_user}",
    "gists_url": "https://api.github.com/users/flarnie/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flarnie/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flarnie/subscriptions",
    "organizations_url": "https://api.github.com/users/flarnie/orgs",
    "repos_url": "https://api.github.com/users/flarnie/repos",
    "events_url": "https://api.github.com/users/flarnie/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flarnie/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2018-03-28T22:37:42Z",
  "updated_at": "2018-03-29T18:26:12Z",
  "closed_at": "2018-03-29T18:26:12Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/12479",
    "html_url": "https://github.com/facebook/react/pull/12479",
    "diff_url": "https://github.com/facebook/react/pull/12479.diff",
    "patch_url": "https://github.com/facebook/react/pull/12479.patch"
  },
  "body": "**what is the change?:**\r\nWhen we are processing work during reconciliation, we have a \"timeout\"\r\ndeadline to finish the work. It's a safety measure that forces things to\r\nfinish up synchronously if they are taking too long.\r\n\r\nThe \"timeout\" is different depending on the type of interaction which\r\ntriggered the reconciliation. We currently have a shorter \"timeout\" for\r\n\"interactive updates\", meaning we will try to finish work faster if the\r\nreconciliation was triggered by a click or other user interaction.\r\n\r\nFor collecting more data in our logs we want to differentiate the\r\n'waiting for async callback...' events based on the \"timeout\" so I'm\r\nadding that to the logging.\r\n\r\nOne interesting note - in one of the snapshot tests the \"timeout\" was\r\nsuper high.\r\n<img width=\"1111\" alt=\"screen shot 2018-03-28 at 3 36 41 pm\" src=\"https://user-images.githubusercontent.com/1114467/38060047-d75acce2-329d-11e8-952c-66c544417ef8.png\">\r\nWeird? Going to look into that.\r\n\r\n**why make this change?:**\r\nRight now we are debugging cases where an interaction triggers a\r\nreconciliation and the \"waiting for async callback...' events are too\r\nlong, getting blocked because the main thread is too busy. We are\r\nkeeping logs of these user timing events and want to filter to focus on\r\nthe reconciliation triggered by interaction.\r\n\r\n**test plan:**\r\nManually tested and also updated snapshot tests.\r\n\r\n<img width=\"761\" alt=\"screen shot 2018-03-28 at 3 19 34 pm\" src=\"https://user-images.githubusercontent.com/1114467/38059989-a891cef6-329d-11e8-82e8-b915f5b4db3c.png\">",
  "closed_by": {
    "login": "flarnie",
    "id": 1114467,
    "node_id": "MDQ6VXNlcjExMTQ0Njc=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/1114467?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flarnie",
    "html_url": "https://github.com/flarnie",
    "followers_url": "https://api.github.com/users/flarnie/followers",
    "following_url": "https://api.github.com/users/flarnie/following{/other_user}",
    "gists_url": "https://api.github.com/users/flarnie/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flarnie/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flarnie/subscriptions",
    "organizations_url": "https://api.github.com/users/flarnie/orgs",
    "repos_url": "https://api.github.com/users/flarnie/repos",
    "events_url": "https://api.github.com/users/flarnie/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flarnie/received_events",
    "type": "User",
    "site_admin": false
  }
}
