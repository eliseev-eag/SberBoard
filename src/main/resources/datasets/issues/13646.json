{
  "url": "https://api.github.com/repos/facebook/react/issues/13646",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13646/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13646/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13646/events",
  "html_url": "https://github.com/facebook/react/issues/13646",
  "id": 360162586,
  "node_id": "MDU6SXNzdWUzNjAxNjI1ODY=",
  "number": 13646,
  "title": "[feature request] Add DOM to life cycle hooks.",
  "user": {
    "login": "back2dos",
    "id": 509501,
    "node_id": "MDQ6VXNlcjUwOTUwMQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/509501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/back2dos",
    "html_url": "https://github.com/back2dos",
    "followers_url": "https://api.github.com/users/back2dos/followers",
    "following_url": "https://api.github.com/users/back2dos/following{/other_user}",
    "gists_url": "https://api.github.com/users/back2dos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/back2dos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/back2dos/subscriptions",
    "organizations_url": "https://api.github.com/users/back2dos/orgs",
    "repos_url": "https://api.github.com/users/back2dos/repos",
    "events_url": "https://api.github.com/users/back2dos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/back2dos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929155,
      "node_id": "MDU6TGFiZWw0MDkyOTE1NQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Question",
      "name": "Type: Question",
      "color": "cc317c",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-09-14T05:34:29Z",
  "updated_at": "2018-09-17T12:40:56Z",
  "closed_at": "2018-09-14T12:37:50Z",
  "author_association": "NONE",
  "body": "Currently, it's not very straight forward to get your hands on a components full DOM - in particular if it returns multiple elements. In that case `ReactDOM.findDomNode` just won't work. So you're left with refs, but you'll never get the whole dom *at once* - instead you get one element at a time. You can of course do something along the lines of this:\r\n\r\n```js\r\nclass CityList extends Component {\r\n  render() {\r\n    this.childElements = []; \r\n    let store = this.childElements.push.bind(this.childElements);\r\n    return this.props.cities.map(p => <li class=\"city\" ref={store}>...</li>);\r\n  }\r\n  componentDidMount() {\r\n    //access this.childElements here\r\n  }\r\n}\r\n```\r\n\r\nBut that feels a bit awkward.\r\n\r\nHence my question is: how about adding the DOM nodes rendered for a given component at the end of the argument list of the relevant life cycle events? If I'm not mistaken, those would be `componentDidMount`, `getSnapshotBeforeUpdate`, `componentDidUpdate` and `componentWillUnmount` (as well as *perhaps* `shouldComponentUpdate` although I'm not sure why that would be a good time to access the DOM). I haven't dug too deep into React's internals, but my naive guess would be that this information should be available when those life cycle hooks are being called.\r\n\r\nOn a more \"philosophical\" note: It seems to me that storing references to the DOM in the component just isn't all that clean. In event handlers, you can use the event to reach into the DOM and it seems to me that life cycle hooks are practically destined to allow the same.\r\n\r\nThanks for your consideration :)",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
