{
  "url": "https://api.github.com/repos/facebook/react/issues/15973",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15973/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15973/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15973/events",
  "html_url": "https://github.com/facebook/react/issues/15973",
  "id": 459917018,
  "node_id": "MDU6SXNzdWU0NTk5MTcwMTg=",
  "number": 15973,
  "title": "Impossible to collect a stream of data using hooks",
  "user": {
    "login": "ma7moudat",
    "id": 3257360,
    "node_id": "MDQ6VXNlcjMyNTczNjA=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/3257360?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ma7moudat",
    "html_url": "https://github.com/ma7moudat",
    "followers_url": "https://api.github.com/users/ma7moudat/followers",
    "following_url": "https://api.github.com/users/ma7moudat/following{/other_user}",
    "gists_url": "https://api.github.com/users/ma7moudat/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ma7moudat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ma7moudat/subscriptions",
    "organizations_url": "https://api.github.com/users/ma7moudat/orgs",
    "repos_url": "https://api.github.com/users/ma7moudat/repos",
    "events_url": "https://api.github.com/users/ma7moudat/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ma7moudat/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-06-24T14:14:58Z",
  "updated_at": "2019-06-24T20:38:52Z",
  "closed_at": "2019-06-24T20:36:12Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug (well, maybe not, but it's definitely a shortcoming!)\r\n\r\n\r\n**What is the current behavior?**\r\n\r\nIt's impossible subscribe to a stream of data (e.g. observable) and collect the received values using the state and effect hooks\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nhttps://codesandbox.io/embed/romantic-hooks-h2jgt\r\n\r\nIn the example, the subject sends a number every second (from 1 to 10), and the code inside the useEffect hook should collect those values (so we should get a list with 10 numbers).\r\n\r\nWhat currently happens is:\r\n\r\n- when [] is passed as the second argument to useEffect (to avoid re-subscribing), only the last value will be saved to the component's state.\r\n- otherwise, we got into an infinite loop the component collects the data erratically.\r\n\r\n\r\n**What is the expected behavior?**\r\n\r\nA list with the numbers 1 - 10 after 10 seconds.\r\n",
  "closed_by": {
    "login": "aweary",
    "id": 6886061,
    "node_id": "MDQ6VXNlcjY4ODYwNjE=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6886061?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aweary",
    "html_url": "https://github.com/aweary",
    "followers_url": "https://api.github.com/users/aweary/followers",
    "following_url": "https://api.github.com/users/aweary/following{/other_user}",
    "gists_url": "https://api.github.com/users/aweary/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aweary/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aweary/subscriptions",
    "organizations_url": "https://api.github.com/users/aweary/orgs",
    "repos_url": "https://api.github.com/users/aweary/repos",
    "events_url": "https://api.github.com/users/aweary/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aweary/received_events",
    "type": "User",
    "site_admin": false
  }
}
