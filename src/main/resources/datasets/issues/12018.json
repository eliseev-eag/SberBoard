{
  "url": "https://api.github.com/repos/facebook/react/issues/12018",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12018/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12018/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12018/events",
  "html_url": "https://github.com/facebook/react/issues/12018",
  "id": 288421702,
  "node_id": "MDU6SXNzdWUyODg0MjE3MDI=",
  "number": 12018,
  "title": "Each time a parent component is updated, the `props` passed to the child component will be different???？",
  "user": {
    "login": "xiaoxiaojing",
    "id": 8474936,
    "node_id": "MDQ6VXNlcjg0NzQ5MzY=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/8474936?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xiaoxiaojing",
    "html_url": "https://github.com/xiaoxiaojing",
    "followers_url": "https://api.github.com/users/xiaoxiaojing/followers",
    "following_url": "https://api.github.com/users/xiaoxiaojing/following{/other_user}",
    "gists_url": "https://api.github.com/users/xiaoxiaojing/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xiaoxiaojing/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xiaoxiaojing/subscriptions",
    "organizations_url": "https://api.github.com/users/xiaoxiaojing/orgs",
    "repos_url": "https://api.github.com/users/xiaoxiaojing/repos",
    "events_url": "https://api.github.com/users/xiaoxiaojing/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xiaoxiaojing/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-01-14T16:42:31Z",
  "updated_at": "2018-01-14T20:25:42Z",
  "closed_at": "2018-01-14T20:24:55Z",
  "author_association": "NONE",
  "body": "version: v16.2.0\r\n\r\nIn the [ReactFiberClassComponent.js](https://github.com/facebook/react/blob/v16.2.0/packages/react-reconciler/src/ReactFiberClassComponent.js). Have a piece of code. I think it‘s logic is to judge if the `newProps` and `oldProps` is not the same, `componentWillReceiveProps`  will be called.\r\n```\r\nconst oldProps = workInProgress.memoizedProps;\r\nlet newProps = workInProgress.pendingProps;\r\n// ...\r\nif (\r\n      typeof instance.componentWillReceiveProps === 'function' &&\r\n      (oldProps !== newProps || oldContext !== newContext)\r\n    ) {\r\n      callComponentWillReceiveProps(\r\n        workInProgress,\r\n        instance,\r\n        newProps,\r\n        newContext,\r\n      );\r\n    }\r\n```\r\nSo I did a test, [https://jsfiddle.net/Luktwrdm/72/](https://jsfiddle.net/Luktwrdm/72/)\r\n```\r\nclass App extends React.Component {\r\n\tstatic propTypes = {\r\n  \tname: PropTypes.string,\r\n  };\r\n  componentDidMount () {\r\n  \t// call setState to make the App update\r\n    this.setState({test: 'nothing'})\r\n\t}\r\n  render() {\r\n  \treturn (\r\n    \t<div>\r\n        <Child/>\r\n    \t</div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass Child extends React.Component {\r\n  constructor () {\r\n  \tsuper()\r\n    this.state = {equal: true}\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n  \tif (nextProps !== this.props) {\r\n       this.setState({equal: false})\r\n    }\r\n  }\r\n\trender () {\r\n  \treturn (\r\n    \t<div>\r\n    \t  the newProps and oldProps is equal: {'' + this.state.equal}\r\n    \t</div>\r\n    )\r\n  }\r\n}\r\nReactDOM.render(<App name=\"world\"/>, document.getElementById('container'));\r\n```\r\nI hope the output should be:`the newProps and oldProps is equal: true`.But I got: `the newProps and oldProps is equal: false`.\r\nThis means that each time a parent component is updated, the `props` passed to the child component will be different???",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
