{
  "url": "https://api.github.com/repos/facebook/react/issues/10331",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10331/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10331/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10331/events",
  "html_url": "https://github.com/facebook/react/pull/10331",
  "id": 246805391,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTMzMjc5MzE1",
  "number": 10331,
  "title": "Fix SSR integration test swallowing lack of expected error ",
  "user": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2017-07-31T15:54:22Z",
  "updated_at": "2017-07-31T16:57:06Z",
  "closed_at": "2017-07-31T16:57:06Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/10331",
    "html_url": "https://github.com/facebook/react/pull/10331",
    "diff_url": "https://github.com/facebook/react/pull/10331.diff",
    "patch_url": "https://github.com/facebook/react/pull/10331.patch"
  },
  "body": "We have some tests that check that *expected* errors are thrown.\r\nThese tests use a helper called `itThrowsWhenRendering`.\r\n\r\nCurrently, there is a bug in this helper. When there is no error (but an error is expected), it tries to fail the test with `expect(false).toBe('The promise resolved and should not have.')`. However the `catch()` block catches and swallows this exception.\r\n\r\nThe fix is to attach the error handler to the original Promise rather than to the one after our handler.\r\n\r\nThis fix exposes two missing expected errors in new SSR related to context. The second commit fixes them by adding the respective invariants.\r\n\r\nTo future proof this, I want to assert on specific error messages instead. I will do so in a follow up PR.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
