{
  "url": "https://api.github.com/repos/facebook/react/issues/9775",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/9775/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/9775/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/9775/events",
  "html_url": "https://github.com/facebook/react/pull/9775",
  "id": 231357510,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTIyNDUyNjg4",
  "number": 9775,
  "title": "Prevent fiber code from leaking into RN stack renderer (and vice versa)",
  "user": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-05-25T14:34:18Z",
  "updated_at": "2017-05-25T21:12:23Z",
  "closed_at": "2017-05-25T17:14:47Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/9775",
    "html_url": "https://github.com/facebook/react/pull/9775",
    "diff_url": "https://github.com/facebook/react/pull/9775.diff",
    "patch_url": "https://github.com/facebook/react/pull/9775.patch"
  },
  "body": "Since `stripEnvVariables` was used to replace `__DEV__` references, I assumed it (and other plugins) we run before requires statements were processed. Obviously I was wrong ðŸ˜¬  and as a result, the RN Stack and Fiber builds were way too large. This is an attempt to mimic the approach taken with DOM renderer and stub out modules that we explicitly don't want to include.\r\n\r\nThe alternative to this would have been to fork `findNodeHandle`, `NativeMethodsMixin`, `ReactNativeBaseComponent`, etc. and essentially avoid using the feature flag. That didn't seem tenable. The previous injection approach _also_ doesn't work here because the circular references it resulted in caused Rollup to choke when creating the modules.\r\n\r\nA quick smoke-test of Ads Manager and Catalyst apps (both stack and fiber) seems good. Jest tests and flow also seem good. And more importantly...\r\n\r\n![screen shot 2017-05-25 at 3 57 59 pm](https://cloud.githubusercontent.com/assets/29597/26455749/fddfea46-4162-11e7-819d-80d99a2713fe.png)",
  "closed_by": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  }
}
