{
  "url": "https://api.github.com/repos/facebook/react/issues/14160",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14160/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14160/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14160/events",
  "html_url": "https://github.com/facebook/react/issues/14160",
  "id": 378965515,
  "node_id": "MDU6SXNzdWUzNzg5NjU1MTU=",
  "number": 14160,
  "title": "XSS Protection: href Object not being html escaped as a props",
  "user": {
    "login": "KJ202",
    "id": 19171765,
    "node_id": "MDQ6VXNlcjE5MTcxNzY1",
    "avatar_url": "https://avatars0.githubusercontent.com/u/19171765?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/KJ202",
    "html_url": "https://github.com/KJ202",
    "followers_url": "https://api.github.com/users/KJ202/followers",
    "following_url": "https://api.github.com/users/KJ202/following{/other_user}",
    "gists_url": "https://api.github.com/users/KJ202/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/KJ202/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/KJ202/subscriptions",
    "organizations_url": "https://api.github.com/users/KJ202/orgs",
    "repos_url": "https://api.github.com/users/KJ202/repos",
    "events_url": "https://api.github.com/users/KJ202/events{/privacy}",
    "received_events_url": "https://api.github.com/users/KJ202/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-11-08T23:48:22Z",
  "updated_at": "2018-11-19T18:43:42Z",
  "closed_at": "2018-11-19T18:43:42Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nI would like to request a bug.\r\n\r\n**What is the current behavior?**\r\nFrom what I know, it is possible to inject object in props. However, this object seems to be html escaped when inserted into the DOM from my observation. \r\n\r\nThus, if I try to add an onerror=alert('XSS') in a <img {this.props.dangerousAtt /> tag through a props, this is gonna be escaped when rendered. Then, I realized that inserting an id='test' is totally possible with a props. So I thought only dangerous javascript injectable attributes are escaped such as onerror,  onload, ...\r\n\r\nHowever, I realized that the href=javascript:alert('1') is not escaped when inserted through a props. The javascript gets executed. Here, I thought it might a bug. \r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n```\r\nclass App extends Component {\r\n  render() {\r\n  const href = {href: \"javascript:alert('1')\"};\r\n    return (\r\n      <div>\r\n      <a {...href}>Click here</a>     \r\n      </div>\r\n    ); \r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n```\r\n\r\n\r\n**What is the expected behavior?**\r\n\r\nI would expect the href object to be escaped as a props, so being treated exactly like onerror or other javascript attributes. \r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nReact version: 16.6.0\r\nBrowser: Chrome 70.0.3538.77",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
