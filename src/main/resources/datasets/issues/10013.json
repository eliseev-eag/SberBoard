{
  "url": "https://api.github.com/repos/facebook/react/issues/10013",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10013/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10013/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10013/events",
  "html_url": "https://github.com/facebook/react/issues/10013",
  "id": 237273884,
  "node_id": "MDU6SXNzdWUyMzcyNzM4ODQ=",
  "number": 10013,
  "title": "dangerouslySetInnerHTML in IE11 for svg elements",
  "user": {
    "login": "OriR",
    "id": 2384068,
    "node_id": "MDQ6VXNlcjIzODQwNjg=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/2384068?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/OriR",
    "html_url": "https://github.com/OriR",
    "followers_url": "https://api.github.com/users/OriR/followers",
    "following_url": "https://api.github.com/users/OriR/following{/other_user}",
    "gists_url": "https://api.github.com/users/OriR/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/OriR/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/OriR/subscriptions",
    "organizations_url": "https://api.github.com/users/OriR/orgs",
    "repos_url": "https://api.github.com/users/OriR/repos",
    "events_url": "https://api.github.com/users/OriR/events{/privacy}",
    "received_events_url": "https://api.github.com/users/OriR/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 127893911,
      "node_id": "MDU6TGFiZWwxMjc4OTM5MTE=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20DOM",
      "name": "Component: DOM",
      "color": "fef2c0",
      "default": false
    },
    {
      "id": 52079258,
      "node_id": "MDU6TGFiZWw1MjA3OTI1OA==",
      "url": "https://api.github.com/repos/facebook/react/labels/Difficulty:%20starter",
      "name": "Difficulty: starter",
      "color": "94ce52",
      "default": false
    },
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2017-06-20T16:38:38Z",
  "updated_at": "2017-11-03T15:27:55Z",
  "closed_at": "2017-10-10T10:54:47Z",
  "author_association": "CONTRIBUTOR",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\nWhen using `dangerouslySetInnerHtml` of svg elements, the DOM nodes from the previous render aren't being removed.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/84v837e9/).**\r\n\r\nSee this [fiddle](https://jsfiddle.net/csmrvzsb/1/)\r\n\r\n**What is the expected behavior?**\r\nThe DOM should only contain the last rendered value for `dangerouslySetInnerHTML`.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nReact - 15.5.4+\r\nBrowser - IE11\r\nDid this work in previous versions of React? Not sure\r\n\r\n\r\nAfter digging around I found #6982 . Which made me think this is happening because of [this line](https://github.com/facebook/react/blob/master/src/renderers/dom/shared/setInnerHTML.js#L37) in `setInnerHTML.js` where it looks like this\r\n```js\r\n  // IE does not have innerHTML for SVG nodes, so instead we inject the\r\n  // new markup in a temp node and then move the child nodes across into\r\n  // the target node\r\n  if (node.namespaceURI === DOMNamespaces.svg && !('innerHTML' in node)) {\r\n    reusableSVGContainer =\r\n      reusableSVGContainer || document.createElement('div');\r\n    reusableSVGContainer.innerHTML = '<svg>' + html + '</svg>';\r\n    var svgNode = reusableSVGContainer.firstChild;\r\n    while (svgNode.firstChild) {\r\n      node.appendChild(svgNode.firstChild);\r\n    }\r\n  }\r\n```\r\n\r\nBecause there's a call to `node.appendChild(svgNode.firstChild);` it will never remove all of the previous nodes but only add the new ones.\r\nBut that's just a guess...",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
