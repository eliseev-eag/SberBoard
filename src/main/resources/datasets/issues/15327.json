{
  "url": "https://api.github.com/repos/facebook/react/issues/15327",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15327/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15327/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15327/events",
  "html_url": "https://github.com/facebook/react/issues/15327",
  "id": 429516566,
  "node_id": "MDU6SXNzdWU0Mjk1MTY1NjY=",
  "number": 15327,
  "title": "onAnimationEnd/onTransitionEnd Issues",
  "user": {
    "login": "geekscorner",
    "id": 7452640,
    "node_id": "MDQ6VXNlcjc0NTI2NDA=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/7452640?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/geekscorner",
    "html_url": "https://github.com/geekscorner",
    "followers_url": "https://api.github.com/users/geekscorner/followers",
    "following_url": "https://api.github.com/users/geekscorner/following{/other_user}",
    "gists_url": "https://api.github.com/users/geekscorner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/geekscorner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/geekscorner/subscriptions",
    "organizations_url": "https://api.github.com/users/geekscorner/orgs",
    "repos_url": "https://api.github.com/users/geekscorner/repos",
    "events_url": "https://api.github.com/users/geekscorner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/geekscorner/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929155,
      "node_id": "MDU6TGFiZWw0MDkyOTE1NQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Question",
      "name": "Type: Question",
      "color": "cc317c",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-04-04T22:54:37Z",
  "updated_at": "2019-04-11T13:27:45Z",
  "closed_at": "2019-04-11T13:27:06Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\n### onAnimationEnd creates unexpected behavior\r\n\r\nIn the following example, I am creating a simple notification component from an array. Each element in the array is used to generate a html element with a class that has a css animation on it. The generated div has an \"onAnimationEnd\" binding which will remove them from the array of notifications. The basic idea is that the notification will fade away (using a CSS animation) and then be removed from the array, or alternatively, I am also allowing the user to manually click on the notification element to remove it.\r\n\r\nThe interesting bug is as follows. If you add two notifications, the first one will trigger its onAnimationEnd and remove itself. The remaining notification will suddenly jump to the end of its css animation and never trigger its own onAnimationEnd. \r\n\r\nEven more curiously if you add four notifications, exactly two of them will have the above bug, while the other two function properly. In fact exactly half of the added elements will trigger onAnimationEnd properly, while the other half will not.\r\n\r\nThe onClick functionality to remove the notifications from the array does NOT cause any unexpected behavior, and thus I am forced to conclude that the fault lies with onAnimationEnd, since they both run the exact same function.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nhttps://codepen.io/msorrentino/pen/xeVrwz\r\n\r\nClick the \"add notification\" button. Then press it again before the first element has faded (7 seconds) . You will notice that the second notification element gets \"fast forwarded\" to the end of its animation when the first notification is removed by its onAnimationEnd trigger. The second notification will then be stuck there, never triggering its own onAnimationEnd.\r\n\r\n**What is the expected behavior?**\r\n\r\nonAnimationEnd should trigger for each element in the loop properly.\r\n\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nCurrent version of 16.8.6 displays this behavior.\r\n",
  "closed_by": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  }
}
