{
  "url": "https://api.github.com/repos/facebook/react/issues/12058",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12058/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12058/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12058/events",
  "html_url": "https://github.com/facebook/react/issues/12058",
  "id": 290146804,
  "node_id": "MDU6SXNzdWUyOTAxNDY4MDQ=",
  "number": 12058,
  "title": "__source makes component stack less useful",
  "user": {
    "login": "billyjanitsch",
    "id": 1158733,
    "node_id": "MDQ6VXNlcjExNTg3MzM=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/1158733?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/billyjanitsch",
    "html_url": "https://github.com/billyjanitsch",
    "followers_url": "https://api.github.com/users/billyjanitsch/followers",
    "following_url": "https://api.github.com/users/billyjanitsch/following{/other_user}",
    "gists_url": "https://api.github.com/users/billyjanitsch/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/billyjanitsch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/billyjanitsch/subscriptions",
    "organizations_url": "https://api.github.com/users/billyjanitsch/orgs",
    "repos_url": "https://api.github.com/users/billyjanitsch/repos",
    "events_url": "https://api.github.com/users/billyjanitsch/events{/privacy}",
    "received_events_url": "https://api.github.com/users/billyjanitsch/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 710375792,
      "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
      "name": "Type: Discussion",
      "color": "fef2c0",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-01-20T00:32:03Z",
  "updated_at": "2018-08-09T02:33:30Z",
  "closed_at": "2018-08-09T02:33:30Z",
  "author_association": "CONTRIBUTOR",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nSomewhere in between.\r\n\r\n**What is the current behavior?**\r\n\r\nWhen I enable `babel-plugin-transform-react-jsx-source` to automatically add a `__source` prop to every component in development, the component stack displayed for certain React warnings changes from displaying the (inferred) name of the rendering component to displaying the filename and line number of the occurrence.\r\n\r\nReact also has access to the file path, but [it is stripped](https://github.com/facebook/react/blob/30dac4e78de02fb427ee82013160ae875128d7a2/packages/shared/describeComponentFrame.js#L20) and only the filename is included. This seems to be based on the assumption that the name of a file always maps exactly to the name of the component it exports. In practice, many people place components in `ComponentName/index.js`, so `__source` currently makes the stack _less_ useful.\r\n\r\nFor example, compare:\r\n```\r\n    in DownloadDropdown (created by Foo)\r\n    in Foo (created by Bar)\r\n    in div (created by Bar)\r\n    in div (created by Bar)\r\n    in div (created by Section)\r\n    in section (created by Section)\r\n    in Section (created by Bar)\r\n    in div (created by App)\r\n    in main (created by App)\r\n    ...\r\n```\r\nto:\r\n```\r\n    in DownloadDropdown (at index.js:53)\r\n    in Foo (at index.js:183)\r\n    in div (at index.js:182)\r\n    in div (at index.js:175)\r\n    in div (at index.js:29)\r\n    in section (at index.js:28)\r\n    in Section (at index.js:173)\r\n    in div (at index.js:26)\r\n    in main (at index.js:24)\r\n    ...\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nI would like the stack to include the full file path, or at least to include the inferred component name alongside the filename.\r\n\r\nWould you accept a PR for either option?\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nReact 16.2.0. This was introduced in #6771 for 15.2.0.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
