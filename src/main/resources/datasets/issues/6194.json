{
  "url": "https://api.github.com/repos/facebook/react/issues/6194",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/6194/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/6194/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/6194/events",
  "html_url": "https://github.com/facebook/react/issues/6194",
  "id": 138694596,
  "node_id": "MDU6SXNzdWUxMzg2OTQ1OTY=",
  "number": 6194,
  "title": "shallow rendering stateless components vs stateful components - different _owner",
  "user": {
    "login": "bmullan91",
    "id": 1939483,
    "node_id": "MDQ6VXNlcjE5Mzk0ODM=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1939483?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bmullan91",
    "html_url": "https://github.com/bmullan91",
    "followers_url": "https://api.github.com/users/bmullan91/followers",
    "following_url": "https://api.github.com/users/bmullan91/following{/other_user}",
    "gists_url": "https://api.github.com/users/bmullan91/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bmullan91/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bmullan91/subscriptions",
    "organizations_url": "https://api.github.com/users/bmullan91/orgs",
    "repos_url": "https://api.github.com/users/bmullan91/repos",
    "events_url": "https://api.github.com/users/bmullan91/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bmullan91/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 204945357,
      "node_id": "MDU6TGFiZWwyMDQ5NDUzNTc=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Shallow%20Renderer",
      "name": "Component: Shallow Renderer",
      "color": "eb6420",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2016-03-05T16:11:38Z",
  "updated_at": "2016-10-27T15:01:28Z",
  "closed_at": "2016-10-27T15:01:28Z",
  "author_association": "NONE",
  "body": "Related to https://github.com/facebook/react/issues/5292, see https://github.com/bmullan91/react-shallow-renderer-bug for my test case and how to reproduce.\n## reproduce\n\n``` bash\ngit clone https://github.com/bmullan91/react-shallow-renderer-bug.git\ncd react-shallow-renderer-bug\nnpm install\nnpm test\n```\n## issue\n\nThe `StatelessComponent` and `StatefulComponent` when rendered with shallowRenderer, there outputs differ in the `_owner` key, see below.\n## test output\n\n```\nTAP version 13\n# compare StatelessComponent shallowRenderer getRenderOutput\nnot ok 1 should be equivalent\n  ---\n    operator: deepEqual\n    expected: |-\n      { $$typeof: 60103, _owner: null, _store: {}, key: null, props: { children: [ 'Hello ', 'Brian' ] }, ref: null, type: 'div' }\n    actual: |-\n      { $$typeof: 60103, _owner: { _context: {}, _currentElement: { $$typeof: 60103, _owner: null, _store: {}, key: null, props: { name: 'Brian' }, ref: null, type: [Function] }, _instance: { _reactInternalInstance: [Circular], context: {}, props: { name: 'Brian' }, refs: {}, state: null, updater: { enqueueCallback: [Function], enqueueCallbackInternal: [Function], enqueueElementInternal: [Function], enqueueForceUpdate: [Function], enqueueReplaceProps: [Function], enqueueReplacePropsInternal: [Function], enqueueReplaceState: [Function], enqueueSetProps: [Function], enqueueSetPropsInternal: [Function], enqueueSetState: [Function], isMounted: [Function] } }, _mountOrder: 1, _pendingCallbacks: null, _pendingElement: null, _pendingForceUpdate: false, _pendingReplaceState: false, _pendingStateQueue: null, _renderedComponent: { _currentElement: [Circular], _renderedOutput: [Circular] }, _rootNodeID: '.13qyw11le68', _topLevelWrapper: null }, _store: {}, key: null, props: { children: [ 'Hello ', 'Brian' ] }, ref: null, type: 'div' }\n    at: Test.<anonymous> (/Users/brianmullan/workspace/react-shallow-renderer-bug/index.js:25:5)\n  ...\n# compare StatefulComponent shallowRenderer getRenderOutput\nok 2 should be equivalent\n\n1..2\n# tests 2\n# pass  1\n# fail  1\n```\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
