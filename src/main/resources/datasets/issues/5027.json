{
  "url": "https://api.github.com/repos/facebook/react/issues/5027",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/5027/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/5027/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/5027/events",
  "html_url": "https://github.com/facebook/react/issues/5027",
  "id": 109322532,
  "node_id": "MDU6SXNzdWUxMDkzMjI1MzI=",
  "number": 5027,
  "title": "ReactTransitionGroup: in-progress transitions should be interruptible, just like CSS transitions",
  "user": {
    "login": "jedwards1211",
    "id": 1448194,
    "node_id": "MDQ6VXNlcjE0NDgxOTQ=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1448194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jedwards1211",
    "html_url": "https://github.com/jedwards1211",
    "followers_url": "https://api.github.com/users/jedwards1211/followers",
    "following_url": "https://api.github.com/users/jedwards1211/following{/other_user}",
    "gists_url": "https://api.github.com/users/jedwards1211/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jedwards1211/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jedwards1211/subscriptions",
    "organizations_url": "https://api.github.com/users/jedwards1211/orgs",
    "repos_url": "https://api.github.com/users/jedwards1211/repos",
    "events_url": "https://api.github.com/users/jedwards1211/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jedwards1211/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2015-10-01T15:20:20Z",
  "updated_at": "2017-02-01T10:04:11Z",
  "closed_at": "2017-01-27T14:40:31Z",
  "author_association": "CONTRIBUTOR",
  "body": "If I remove a child from a `ReactTransitionGroup` before it calls its `componentWillEnter` callback, `ReactTransitionGroup` doesn't call its `componentWillLeave` until `componentWillEnter` calls its callback.\n\nThis may be the intended behavior, but this is not the way CSS transitions behave, at least not in modern browsers I know.  If you have `<div style=\"transition: opacity linear 5s\">`, and you toggle its opacity from `0.01` to `1` every second, the div never finishes going through the first 5 second transition, rather, it gets interrupted after one second and a new transition from about `0.2` back to `0.01` begins.\n\nI have a repo to reproduce this issue here: https://github.com/jedwards1211/react-transition-group-issue\n\nIf you run it and look at the console you will see how component leaving gets held up until components finish entering:\n\n```\n[10:04:31 GMT-0500 (CDT)]: 1 entering...\nApp.js:67 [10:04:31 GMT-0500 (CDT)]: added $(key}\nApp.js:67 [10:04:32 GMT-0500 (CDT)]: removed 1\nApp.js:67 [10:04:34 GMT-0500 (CDT)]: 1 entered\nApp.js:67 [10:04:34 GMT-0500 (CDT)]: 1 leaving...\nApp.js:67 [10:04:34 GMT-0500 (CDT)]: 1 left\nApp.js:67 [10:04:36 GMT-0500 (CDT)]: 2 entering...\nApp.js:67 [10:04:36 GMT-0500 (CDT)]: added $(key}\nApp.js:67 [10:04:37 GMT-0500 (CDT)]: removed 2\nApp.js:67 [10:04:39 GMT-0500 (CDT)]: 2 entered\nApp.js:67 [10:04:39 GMT-0500 (CDT)]: 2 leaving...\nApp.js:67 [10:04:39 GMT-0500 (CDT)]: 2 left\n```\n\nThe 'entered' messages should never appear because the components should leave before they finish entering, like so:\n\n```\n[10:04:31 GMT-0500 (CDT)]: 1 entering...\nApp.js:67 [10:04:31 GMT-0500 (CDT)]: added $(key}\nApp.js:67 [10:04:32 GMT-0500 (CDT)]: removed 1\nApp.js:67 [10:04:32 GMT-0500 (CDT)]: 1 leaving...\nApp.js:67 [10:04:32 GMT-0500 (CDT)]: 1 left\nApp.js:67 [10:04:36 GMT-0500 (CDT)]: 2 entering...\nApp.js:67 [10:04:36 GMT-0500 (CDT)]: added $(key}\nApp.js:67 [10:04:37 GMT-0500 (CDT)]: removed 2\nApp.js:67 [10:04:37 GMT-0500 (CDT)]: 2 leaving...\nApp.js:67 [10:04:37 GMT-0500 (CDT)]: 2 left\n```\n\nHere is a spec for CSS-like `ReactTranstionGroup` behavior:\n- It internally keeps track of whether a component is appearing, entering, or leaving\n- If a component is removed while it's entering or appearing, its state is set to leaving and its `componentWillLeave` is called immediately\n- If a component is added back while it's leaving, its state is set to entering and its `componentWillEnter` is called immediately\n- When `componentWillAppear` calls its callback, no action is taken unless the component is in appearing state.\n- When `componentWillEnter` calls its callback, no action is taken unless the component is in entering state.\n- When `componentWillLeave` calls its callback, no action is taken unless the component is in leaving state.\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
