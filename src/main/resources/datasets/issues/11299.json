{
  "url": "https://api.github.com/repos/facebook/react/issues/11299",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11299/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11299/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11299/events",
  "html_url": "https://github.com/facebook/react/issues/11299",
  "id": 267200825,
  "node_id": "MDU6SXNzdWUyNjcyMDA4MjU=",
  "number": 11299,
  "title": "Express more tests via public API",
  "user": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 588833528,
      "node_id": "MDU6TGFiZWw1ODg4MzM1Mjg=",
      "url": "https://api.github.com/repos/facebook/react/labels/Difficulty:%20medium",
      "name": "Difficulty: medium",
      "color": "fbca04",
      "default": false
    },
    {
      "id": 725156255,
      "node_id": "MDU6TGFiZWw3MjUxNTYyNTU=",
      "url": "https://api.github.com/repos/facebook/react/labels/good%20first%20issue%20(taken)",
      "name": "good first issue (taken)",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 133,
  "created_at": "2017-10-20T14:49:07Z",
  "updated_at": "2018-09-07T14:06:23Z",
  "closed_at": "2018-08-15T15:49:05Z",
  "author_association": "MEMBER",
  "body": "This is a great contribution opportunity.\r\nWe need to rewrite more unit tests in terms of public API.\r\n\r\nThis means that they can only import npm entry points like `react`, `react-dom`, `react-dom/test-utils`, `react-test-renderer`, etc, but not internal modules like `SyntheticEvent` or `ReactDOMComponentTree`. The “bad” requires are already marked with a TODO in tests so you won’t miss them.\r\n\r\nTo help with this:\r\n\r\n1. Find **`// TODO: can we express this test with only public API?`** in the unclaimed test files below.\r\n2. Comment in this issue if you want to take a particular unit test file, with its name.\r\n3. Submit a PR that rewrites the test to use public APIs instead.\r\n\r\nStep 3 requires some thinking. You can use previous examples where we rewrote tests with public API for inspiration. For example:\r\n\r\n* https://github.com/facebook/react/pull/10429\r\n* https://github.com/facebook/react/pull/10281\r\n* https://github.com/facebook/react/pull/9080\r\n* https://github.com/facebook/react/pull/8148\r\n\r\nGenerally, you need to think about how the behavior you’re testing actually reproduces in a React app, and then test for that. In rare cases it may involve exposing some API as public which we’ll need to discuss separately, so don’t hesitate to start a discussion! If you can’t figure out how to rewrite some particular test with a public API, comment here and we can brainstorm.\r\n\r\nHere is the full list of tests that need to change. Some of them may be simple one-liner changes, some may involve a bit of a rewrite, some may require rewriting from scratch. Some may even be impossible, but research leading to that conclusion is still very valuable and we’d love to know that.\r\n\r\nTry them and let us know:\r\n\r\n**Update: all tests are taken now. Subscribe to this issue! They might free up in the future if somebody doesn’t have the time to finish the work. We’ll comment if some test becomes available to try again.**\r\n\r\n- [ ] `ReactBrowserEventEmitter-test.js` (taken by @madeinfree, see https://github.com/facebook/react/issues/11299#issuecomment-355188567)\r\n- [ ] `getNodeForCharacterOffset-test.js` (taken by @accordeiro)\r\n- [ ] `ReactErrorUtils-test.js` (taken by @reznord)\r\n- [x] `BeforeInputEventPlugin-test.js` + `FallbackCompositionState-test.js` (taken by @GordyD)\r\n- [x] `validateDOMNesting-test.js` (taken by @anushreesubramani) https://github.com/facebook/react/pull/11742\r\n- [x] <s>`ReactIncrementalPerf-test.js` (taken by @dphurley)</s> https://github.com/facebook/react/pull/11724\r\n- [x] <s>`SelectEventPlugin-test.js` (taken by @skiritsis)</s> https://github.com/facebook/react/issues/11299\r\n- [x] <s>`ReactTreeTraversal-test.js` (taken by @timjacobi) </s> https://github.com/facebook/react/pull/11664\r\n- [x] <s>`SyntheticKeyboardEvent-test.js` + `getEventCharCode-test.js` (taken by @aarboleda1)</s>\r\n- [x] <s>`escapeTextContentForBrowser-test.js` (taken by @jeremenichelli)</s> https://github.com/facebook/react/pull/11331\r\n- [x] <s>`inputValueTracking-test.js` \r\n- [x] <s>`quoteAttributeValueForBrowser-test.js` (taken by @jeremenichelli)</s> https://github.com/facebook/react/pull/11331\r\n- [x] <s>`ReactDOMComponent-test.js` (taken by @AudyOdi)</s> https://github.com/facebook/react/pull/11337\r\n- [x] <s>`ReactDOMComponentTree-test.js` (taken by @GordyD)</s> https://github.com/facebook/react/pull/11383\r\n- [x] <s>`ReactDOMEventListener-test.js` (taken by @enapupe)</s> https://github.com/facebook/react/pull/11327\r\n- [x] <s>`ReactDOMInput-test.js` (taken by @SadPandaBear)</s> https://github.com/facebook/react/pull/11309\r\n- [x] <s>`ReactDOMServerIntegration-test.js` (taken by @minerado)</s>\r\n- [x] <s>`setInnerHTML-test.js` (taken by @silvestrijonathan)</s> https://github.com/facebook/react/pull/11385\r\nhttps://github.com/facebook/react/pull/11631\r\n- [x] <s>`getEventKey-test.js` (taken by @mjw56)</s> https://github.com/facebook/react/pull/11317\r\n- [x] <s>`SyntheticClipboardEvent-test.js` (taken by @smaniotto)</s> https://github.com/facebook/react/pull/11365\r\n- [x] <s>`SyntheticEvent-test.js` (taken by @timjacobi)</s> https://github.com/facebook/react/pull/11525\r\n- [x] <s>`SyntheticWheelEvent-test.js` (taken by @douglasgimli)</s> https://github.com/facebook/react/pull/11367\r\n- [x] <s>`ChangeEventPlugin-test.js` (taken by @Ethan-Arrowood)</s> https://github.com/facebook/react/pull/11333\r\n- [x] <s>`EnterLeaveEventPlugin-test.js` (taken by @accordeiro)</s> https://github.com/facebook/react/pull/11316\r\n- [x] <s>`ReactCoroutine-test.js` (taken by @jstejada)</s>\r\n- [x] <s>`ReactFiberHostContext-test.js` (taken by @adsonpleal)</s>\r\n\r\n----\r\n\r\n**First-time contributor? Refer to our [contribution instructions](https://reactjs.org/docs/how-to-contribute.html).**\r\n\r\n**Not clear how to fix a specific test? Comment with what you tried, and we can brainstorm.**\r\n\r\n**If you gave up on some test, please post your findings in a comment so we can decide what to do next. It’s fine if you just didn’t find the time or couldn’t figure it out—we can try to help, and maybe somebody else can pick it up later.**\r\n\r\n----",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
