{
  "url": "https://api.github.com/repos/facebook/react/issues/14881",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14881/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14881/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14881/events",
  "html_url": "https://github.com/facebook/react/issues/14881",
  "id": 411657824,
  "node_id": "MDU6SXNzdWU0MTE2NTc4MjQ=",
  "number": 14881,
  "title": "State is not properly cleared in case of broken hooks",
  "user": {
    "login": "theKashey",
    "id": 582410,
    "node_id": "MDQ6VXNlcjU4MjQxMA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/582410?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/theKashey",
    "html_url": "https://github.com/theKashey",
    "followers_url": "https://api.github.com/users/theKashey/followers",
    "following_url": "https://api.github.com/users/theKashey/following{/other_user}",
    "gists_url": "https://api.github.com/users/theKashey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/theKashey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/theKashey/subscriptions",
    "organizations_url": "https://api.github.com/users/theKashey/orgs",
    "repos_url": "https://api.github.com/users/theKashey/repos",
    "events_url": "https://api.github.com/users/theKashey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/theKashey/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 620368407,
      "node_id": "MDU6TGFiZWw2MjAzNjg0MDc=",
      "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information",
      "name": "Resolution: Needs More Information",
      "color": "fffde7",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2019-02-18T21:51:07Z",
  "updated_at": "2019-02-26T21:32:45Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\nWith one hook rendered wrongly, with a fewer hooks for example, rest of the application is also broken.\r\nAll due _skipped_ render cleanup phase.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n```js\r\n <AppWithErrorBoundary>\r\n  <HooksInsideErrorBoundary />\r\n  <AnyFunctionalComponentWithoutHooks />\r\n </AppWithErrorBoundary>\r\n```\r\nThen _break_ hooks.\r\n\r\n- first error boundary called, and an error state is properly set.\r\n- `AnyFunctionalComponentWithoutHooks` is rendered without `currentHook` being reset from the first render.\r\n- `didRenderTooFewHooks` set to true\r\n- error propagated to `AppWithErrorBoundary`\r\n\r\nIn other words - bad hook is poisoning everything behind it.\r\n\r\n**What is the expected behavior?**\r\n\r\nExpected behavior - `error` should be catched by HooksErrorBoundary.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\n16.8.2-",
  "closed_by": null
}
