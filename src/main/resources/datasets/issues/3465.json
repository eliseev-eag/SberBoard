{
  "url": "https://api.github.com/repos/facebook/react/issues/3465",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/3465/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/3465/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/3465/events",
  "html_url": "https://github.com/facebook/react/issues/3465",
  "id": 63126555,
  "node_id": "MDU6SXNzdWU2MzEyNjU1NQ==",
  "number": 3465,
  "title": "Incorrect blame for checksum mismatch due to browsers unescaping HTML",
  "user": {
    "login": "voideanvalue",
    "id": 1803362,
    "node_id": "MDQ6VXNlcjE4MDMzNjI=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1803362?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/voideanvalue",
    "html_url": "https://github.com/voideanvalue",
    "followers_url": "https://api.github.com/users/voideanvalue/followers",
    "following_url": "https://api.github.com/users/voideanvalue/following{/other_user}",
    "gists_url": "https://api.github.com/users/voideanvalue/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/voideanvalue/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/voideanvalue/subscriptions",
    "organizations_url": "https://api.github.com/users/voideanvalue/orgs",
    "repos_url": "https://api.github.com/users/voideanvalue/repos",
    "events_url": "https://api.github.com/users/voideanvalue/events{/privacy}",
    "received_events_url": "https://api.github.com/users/voideanvalue/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2015-03-20T00:43:43Z",
  "updated_at": "2015-03-20T00:47:38Z",
  "closed_at": "2015-03-20T00:47:38Z",
  "author_association": "NONE",
  "body": "React uses `escapeTextContentForBrowser` to escape `'` to `&#x27;` and `\"` to `&quot;` (amongst other things). But browsers seem to unescape back to `'` and `\"`, potentially causing incorrect blame in case of checksum mismatches.\n\nDemo: http://jsfiddle.net/voideanvalue/txoe3dpa/\nIn the console:\n\n```\n(client) \">test &amp;&gt;&lt;&quot;&#x27; test te\n(server) \">test &amp;&gt;&lt;\"' test test</div>\n```\n\nReproducible in latest stable releases of Chrome, Firefox and Safari on OS X.\n\nI'm not sure what would be a good way to fix this. Re-escaping `\"` to `&quot;` and `'` to `&#x27;` in `rootMarkup` before comparing calling `firstDifferenceIndex` (https://github.com/facebook/react/blob/a321247ee5c6a51f4cf9feec4c8989a769bcd78a/src/browser/ui/ReactMount.js#L830) would likely escape unrelated characters as well and unescaping both `markup` and `rootMarkup` before comparing would not produce an exact diff (unless we were to keep track of the unescapes performed before comparing and then revert them while producing the diff string, but that sounds like going through more trouble than might be needed).\n",
  "closed_by": {
    "login": "sophiebits",
    "id": 6820,
    "node_id": "MDQ6VXNlcjY4MjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sophiebits",
    "html_url": "https://github.com/sophiebits",
    "followers_url": "https://api.github.com/users/sophiebits/followers",
    "following_url": "https://api.github.com/users/sophiebits/following{/other_user}",
    "gists_url": "https://api.github.com/users/sophiebits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sophiebits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sophiebits/subscriptions",
    "organizations_url": "https://api.github.com/users/sophiebits/orgs",
    "repos_url": "https://api.github.com/users/sophiebits/repos",
    "events_url": "https://api.github.com/users/sophiebits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sophiebits/received_events",
    "type": "User",
    "site_admin": false
  }
}
