{
  "url": "https://api.github.com/repos/facebook/react/issues/16375",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16375/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16375/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16375/events",
  "html_url": "https://github.com/facebook/react/issues/16375",
  "id": 479932212,
  "node_id": "MDU6SXNzdWU0Nzk5MzIyMTI=",
  "number": 16375,
  "title": "Type of ContextProvider value props from useReducer",
  "user": {
    "login": "moshe444",
    "id": 5114026,
    "node_id": "MDQ6VXNlcjUxMTQwMjY=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/5114026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/moshe444",
    "html_url": "https://github.com/moshe444",
    "followers_url": "https://api.github.com/users/moshe444/followers",
    "following_url": "https://api.github.com/users/moshe444/following{/other_user}",
    "gists_url": "https://api.github.com/users/moshe444/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/moshe444/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/moshe444/subscriptions",
    "organizations_url": "https://api.github.com/users/moshe444/orgs",
    "repos_url": "https://api.github.com/users/moshe444/repos",
    "events_url": "https://api.github.com/users/moshe444/events{/privacy}",
    "received_events_url": "https://api.github.com/users/moshe444/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-08-13T02:40:20Z",
  "updated_at": "2019-08-15T12:58:23Z",
  "closed_at": "2019-08-15T12:58:23Z",
  "author_association": "NONE",
  "body": "I did a chunk of code to use `useContext` and `useReducer` to achieve the local state management. \r\n\r\nBut some type errors poped up,\r\n\r\n```javascript\r\n(property) state: Group\r\nType '{ state: Group; dispatch: Dispatch<Action>; }' is not assignable to type 'Group'.\r\n  Object literal may only specify known properties, and 'state' does not exist in type 'Group'.ts(2322)\r\nindex.d.ts(290, 9): The expected type comes from property 'value' which is declared here on type 'IntrinsicAttributes & ProviderProps<Group>'\r\n```\r\n\r\nTo make the type `Group` to `any` will fix the problem and working well, but I don't really want to do that.\r\n\r\nHere's the code:\r\n\r\n    interface People {\r\n      name: string\r\n      age: number\r\n    }\r\n    \r\n    interface Group {\r\n      a: People\r\n      b: People\r\n    }\r\n    \r\n    interface Action {\r\n      type: string\r\n      payload: number\r\n    }\r\n    \r\n    // const myInitalState: Group = {\r\n    const myInitalState: any = {\r\n      a: {\r\n        name: 'Max',\r\n        age: 16\r\n      },\r\n      b: {\r\n        name: 'Pom',\r\n        age: 22\r\n      }\r\n    }\r\n    \r\n    const myReducer = (state: Group, {type, payload}: Action) => {\r\n      switch (type) {\r\n        case 'a_increase':\r\n          return {...state, a: { ...state.a, age: payload + 1 }}\r\n        case 'b_decrease':\r\n          return {...state, b: { ...state.b, age: payload - 1 }}\r\n        default:\r\n          return state\r\n      }\r\n    }\r\n    \r\n    const MyContext = createContext(myInitalState)\r\n    \r\n    const [state, dispatch] = useReducer(myReducer, myInitalState)\r\n    \r\n    const Comp = () => (\r\n      // this state will cause type error, change myInitialState type to any will fix it\r\n      <MyContext.Provider value={{state, dispatch}}>\r\n        <div>Group</div>\r\n               .\r\n               .\r\n               .\r\n      </MyContext.Provider>\r\n    )\r\n\r\nSo what's going on here? What's the correct type of `<MyContext.Provider value={???}>`.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
