{
  "url": "https://api.github.com/repos/facebook/react/issues/15908",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15908/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15908/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15908/events",
  "html_url": "https://github.com/facebook/react/issues/15908",
  "id": 457049121,
  "node_id": "MDU6SXNzdWU0NTcwNDkxMjE=",
  "number": 15908,
  "title": "Race condition between click and new eventlistener",
  "user": {
    "login": "blaisebrennan",
    "id": 17655953,
    "node_id": "MDQ6VXNlcjE3NjU1OTUz",
    "avatar_url": "https://avatars0.githubusercontent.com/u/17655953?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/blaisebrennan",
    "html_url": "https://github.com/blaisebrennan",
    "followers_url": "https://api.github.com/users/blaisebrennan/followers",
    "following_url": "https://api.github.com/users/blaisebrennan/following{/other_user}",
    "gists_url": "https://api.github.com/users/blaisebrennan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/blaisebrennan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/blaisebrennan/subscriptions",
    "organizations_url": "https://api.github.com/users/blaisebrennan/orgs",
    "repos_url": "https://api.github.com/users/blaisebrennan/repos",
    "events_url": "https://api.github.com/users/blaisebrennan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/blaisebrennan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-06-17T17:18:50Z",
  "updated_at": "2019-09-03T11:51:07Z",
  "closed_at": "2019-09-03T11:51:07Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nPossible bug\r\n\r\n**What is the current behavior?**\r\nClicking a button adds a new Card component to a list of Cards. Each rendered Card adds an event listener (with `React.useEffect()`) to the window so that it can detect when a user \"clicks away\" from the card. This event listener somehow captures the click which created the Card in the first place, falsely registering as a \"click away\" from the new Card. \r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\nI'll put together a JSFiddle if I find some time...\r\n\r\n**What is the expected behavior?**\r\nBecause the eventlistener is added as the new Card is rendered, I expect the eventlistener to only capture future clicks.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nReact 16.8.4, Chrome, Windows\r\n",
  "closed_by": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  }
}
