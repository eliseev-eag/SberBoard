{
  "url": "https://api.github.com/repos/facebook/react/issues/16122",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16122/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16122/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16122/events",
  "html_url": "https://github.com/facebook/react/pull/16122",
  "id": 467418307,
  "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk3MDc0Njg1",
  "number": 16122,
  "title": "[Flare] Migrate from EventComponent to EventResponder",
  "user": {
    "login": "trueadm",
    "id": 1519870,
    "node_id": "MDQ6VXNlcjE1MTk4NzA=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1519870?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/trueadm",
    "html_url": "https://github.com/trueadm",
    "followers_url": "https://api.github.com/users/trueadm/followers",
    "following_url": "https://api.github.com/users/trueadm/following{/other_user}",
    "gists_url": "https://api.github.com/users/trueadm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/trueadm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/trueadm/subscriptions",
    "organizations_url": "https://api.github.com/users/trueadm/orgs",
    "repos_url": "https://api.github.com/users/trueadm/repos",
    "events_url": "https://api.github.com/users/trueadm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/trueadm/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    },
    {
      "id": 1296748300,
      "node_id": "MDU6TGFiZWwxMjk2NzQ4MzAw",
      "url": "https://api.github.com/repos/facebook/react/labels/React%20Flare",
      "name": "React Flare",
      "color": "63f2ff",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 23,
  "created_at": "2019-07-12T13:36:43Z",
  "updated_at": "2019-07-19T13:45:30Z",
  "closed_at": "2019-07-19T13:45:30Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/16122",
    "html_url": "https://github.com/facebook/react/pull/16122",
    "diff_url": "https://github.com/facebook/react/pull/16122.diff",
    "patch_url": "https://github.com/facebook/react/pull/16122.patch"
  },
  "body": "This is a follow up to https://github.com/facebook/react/pull/16101. In that PR, we introduced `useResponder`. After some careful consideration, this PR revises that design slightly so Event Responders are their own component that get used in the render tree rather than the `useResponder` hook.\r\n\r\nThis PR also removes `React.unstable_createEvent` and `React.unstable.useEvent`. We expect to add something similar to those APIs in subsequent follow up PRs.\r\n\r\nBefore you would do:\r\n\r\n```jsx\r\nfunction PressableButton({children, onPress, onHover, onFocus}) {\r\n  return (\r\n    <Press onPress={onPress}>\r\n      <Hover onHover={onHover}>\r\n        <Focus onFocus={onFocus}>\r\n          <div>\r\n            {children}\r\n          </div>\r\n        </Focus>\r\n      </Hover>\r\n    </Press>\r\n  )\r\n}\r\n```\r\n\r\nWith this PR and design, you would do this:\r\n\r\n```jsx\r\nfunction PressableButton({children, onPress, onHover, onFocus}) {\r\n  return (\r\n    <div>\r\n      <PressResponder onPress={onPress} />\r\n      <HoverResponder onHover={onHover} />\r\n      <FocusResponder onFocus={onFocus} />\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\nPress Responders are created in a similar way to how Event Components were created before:\r\n\r\n```jsx\r\nexport PressResponder = React.unstable_createResponder(PressResponderImpl);\r\n```\r\n\r\nWhen it comes to the design, event responders \"attach\" themselves to their nearest host parent. So in the case of:\r\n\r\n```jsx\r\n<div>\r\n  <React.Fragment>\r\n    <FunctionWrapper>\r\n      <EventResponder>\r\n```\r\nThe `<EventResponder>` will attach itself to the `<div>`.\r\n\r\nYou can apply event responders to self-closing elements too (event responders do not created DOM nodes):\r\n\r\n```jsx\r\n<input><FocusResponder /></input>\r\n```\r\n\r\n## The reasons for this change:\r\n- There is now an explicit contract between an event responder and a host component. This is the nearest host component parent to the event responder.\r\n- We now resolve responders as a property of the thing we're interacting with, rather than wrapping around it. This provides an important constraint around how event responders are used, in that it makes extending an abstraction from the outside harder rather than easier.\r\n- By making a responder a child of the target, we can handle conditional cases with ease (the event responder will unmount/mount).\r\n- A target can only have a single type of event responder at a given time. If multiple event responders try to attach to the same target and they are the same event responder, only the first will register and the others will be no-ops (with dev warnings).\r\n- Unlike the other design, using `ref`s is somewhat error prone. The same ref might be passed around and assign conditionally or multiple times, which would be difficult to detect and handle.",
  "closed_by": {
    "login": "trueadm",
    "id": 1519870,
    "node_id": "MDQ6VXNlcjE1MTk4NzA=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1519870?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/trueadm",
    "html_url": "https://github.com/trueadm",
    "followers_url": "https://api.github.com/users/trueadm/followers",
    "following_url": "https://api.github.com/users/trueadm/following{/other_user}",
    "gists_url": "https://api.github.com/users/trueadm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/trueadm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/trueadm/subscriptions",
    "organizations_url": "https://api.github.com/users/trueadm/orgs",
    "repos_url": "https://api.github.com/users/trueadm/repos",
    "events_url": "https://api.github.com/users/trueadm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/trueadm/received_events",
    "type": "User",
    "site_admin": false
  }
}
