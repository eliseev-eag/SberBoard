{
  "url": "https://api.github.com/repos/facebook/react/issues/954",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/954/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/954/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/954/events",
  "html_url": "https://github.com/facebook/react/issues/954",
  "id": 26144676,
  "node_id": "MDU6SXNzdWUyNjE0NDY3Ng==",
  "number": 954,
  "title": "renderComponentToString with events leaks unless component unmounted",
  "user": {
    "login": "glenn-murray-bse",
    "id": 5572466,
    "node_id": "MDQ6VXNlcjU1NzI0NjY=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/5572466?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/glenn-murray-bse",
    "html_url": "https://github.com/glenn-murray-bse",
    "followers_url": "https://api.github.com/users/glenn-murray-bse/followers",
    "following_url": "https://api.github.com/users/glenn-murray-bse/following{/other_user}",
    "gists_url": "https://api.github.com/users/glenn-murray-bse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/glenn-murray-bse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/glenn-murray-bse/subscriptions",
    "organizations_url": "https://api.github.com/users/glenn-murray-bse/orgs",
    "repos_url": "https://api.github.com/users/glenn-murray-bse/repos",
    "events_url": "https://api.github.com/users/glenn-murray-bse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/glenn-murray-bse/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2014-01-23T04:52:56Z",
  "updated_at": "2014-01-29T03:37:52Z",
  "closed_at": "2014-01-29T00:24:52Z",
  "author_association": "NONE",
  "body": "Repeated calls to renderComponentToString with evented components (i.e. onClick={this.handleClick}) will effectively leak memory.\n\nCall unmountComponent on rendered components lest event listening closures remain non-garbage collected.\n\nOnly long lived processes with repeated render calls will notice.\n\nhttp://jsfiddle.net/tS8Nv/1/\n\nAdding component.unmountComponent() at ReactServerRendering.js:54 would fix this, but would break tests which render react root document nodes with an Invariant Violation.\n\n```\nvar Link = React.createClass({\n  leak: function(event) {\n\n  },\n  render: function() {\n    return <a onClick={this.leak} >Test</a>;\n  }\n})\n\nfunction log(str) {\n  console.log(str);\n}\n\nvar root = <html><body><Link /></body></html>\nReact.renderComponentToString(root, log);\nroot.unmountComponent();\n```\n\nrenderComponentToString is API bound to be async so this sample is not future proof.\n",
  "closed_by": {
    "login": "glenn-murray-bse",
    "id": 5572466,
    "node_id": "MDQ6VXNlcjU1NzI0NjY=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/5572466?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/glenn-murray-bse",
    "html_url": "https://github.com/glenn-murray-bse",
    "followers_url": "https://api.github.com/users/glenn-murray-bse/followers",
    "following_url": "https://api.github.com/users/glenn-murray-bse/following{/other_user}",
    "gists_url": "https://api.github.com/users/glenn-murray-bse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/glenn-murray-bse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/glenn-murray-bse/subscriptions",
    "organizations_url": "https://api.github.com/users/glenn-murray-bse/orgs",
    "repos_url": "https://api.github.com/users/glenn-murray-bse/repos",
    "events_url": "https://api.github.com/users/glenn-murray-bse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/glenn-murray-bse/received_events",
    "type": "User",
    "site_admin": false
  }
}
