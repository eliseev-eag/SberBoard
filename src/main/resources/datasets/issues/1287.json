{
  "url": "https://api.github.com/repos/facebook/react/issues/1287",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/1287/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/1287/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/1287/events",
  "html_url": "https://github.com/facebook/react/issues/1287",
  "id": 29967594,
  "node_id": "MDU6SXNzdWUyOTk2NzU5NA==",
  "number": 1287,
  "title": "Invariant Violation: setEnabled(), was asked to report immediately.",
  "user": {
    "login": "yoshuawuyts",
    "id": 2467194,
    "node_id": "MDQ6VXNlcjI0NjcxOTQ=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/2467194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yoshuawuyts",
    "html_url": "https://github.com/yoshuawuyts",
    "followers_url": "https://api.github.com/users/yoshuawuyts/followers",
    "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}",
    "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions",
    "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs",
    "repos_url": "https://api.github.com/users/yoshuawuyts/repos",
    "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 22,
  "created_at": "2014-03-22T17:32:04Z",
  "updated_at": "2015-10-03T10:35:58Z",
  "closed_at": "2014-04-07T18:41:36Z",
  "author_association": "NONE",
  "body": "I'm trying out the testUtils and some things are breaking. On node `0.11.12`:\n**STDOUT:**\n\n```\n~/Code/tests   \n❯ mocha test\n\n  ․․\n\n  1 passing (125ms)\n  1 failing\n\n  1) test our tests should render a label:\n     Error: Invariant Violation: setEnabled(...): Cannot toggle event listening in a Worker thread. This is likely a bug in the framework. Please report immediately.\n      at invariant (/home/yoshua/Code/tests/node_modules/react/lib/invariant.js:52:19)\n      at Object.merge.setEnabled (/home/yoshua/Code/tests/node_modules/react/lib/ReactEventEmitter.js:206:46)\n      at ReactReconcileTransaction.EVENT_SUPPRESSION.initialize (/home/yoshua/Code/tests/node_modules/react/lib/ReactReconcileTransaction.js:58:23)\n      at ReactReconcileTransaction.Mixin.initializeAll (/home/yoshua/Code/tests/node_modules/react/lib/Transaction.js:197:30)\n      at ReactReconcileTransaction.Mixin.perform (/home/yoshua/Code/tests/node_modules/react/lib/Transaction.js:158:12)\n      at ReactComponent.Mixin.mountComponentIntoNode (/home/yoshua/Code/tests/node_modules/react/lib/ReactComponent.js:537:19)\n      at Object.<anonymous> (/home/yoshua/Code/tests/node_modules/react/lib/ReactMount.js:309:25)\n      at Object._renderNewRootComponent (/home/yoshua/Code/tests/node_modules/react/lib/ReactPerf.js:57:21)\n      at Object.ReactMount.renderComponent (/home/yoshua/Code/tests/node_modules/react/lib/ReactMount.js:359:32)\n      at Object.renderComponent (/home/yoshua/Code/tests/node_modules/react/lib/ReactPerf.js:57:21)\n      at Object.ReactTestUtils.renderIntoDocument (/home/yoshua/Code/tests/node_modules/react/lib/ReactTestUtils.js:57:18)\n      at Context.<anonymous> (/home/yoshua/Code/tests/test.js:38:23)\n      at callFn (/home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runnable.js:223:21)\n      at Test.Runnable.run (/home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runnable.js:216:7)\n      at Runner.runTest (/home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runner.js:374:10)\n      at /home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runner.js:452:12\n      at next (/home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runner.js:299:14)\n      at /home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runner.js:309:7\n      at next (/home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runner.js:247:23)\n      at Immediate._onImmediate (/home/yoshua/.nvm/v0.11.12/lib/node_modules/mocha/lib/runner.js:276:5)\n      at processImmediate [as _immediateCallback] (timers.js:374:17)\n```\n\n**test.js:**\n\n``` js\n/**\n * Module dependencies\n */\n\nvar React = require('react/addons');\nvar should = require('should');\nvar mocha = require('mocha');\nvar jsdom = require('jsdom');\nvar utils = React.addons.TestUtils;\n\n/**\n * Initialize variables\n */\n\nvar document;\nvar window;\n\n/**\n * Initialize jsdom\n */\n\nbeforeEach(function() {\n  global.window = jsdom.jsdom().createWindow('<html><body></body></html>');\n  global.document = global.window.document;\n});\n\n/**\n * Tests\n */\n\ndescribe('test our tests', function() {\n  it('should display the window objects', function () {\n    global.window.should.exist;\n    global.document.should.exist;\n  });\n\n  it('should render a label', function () {\n    var label = utils.renderIntoDocument(React.DOM.label(null, 'hi'));\n  })\n})\n```\n\n**package.json:**\n\n``` js\n{\n  \"name\": \"tests\",\n  \"version\": \"0.0.0\",\n  \"description\": \"\",\n  \"main\": \"test.js\",\n  \"dependencies\": {\n    \"react\": \"^0.10.0\"\n  },\n  \"devDependencies\": {\n    \"mocha\": \"^1.18.2\",\n    \"jsdom\": \"^0.10.3\",\n    \"should\": \"^3.2.0-beta1\"\n  },\n  \"scripts\": {\n    \"test\": \"mocha\"\n  },\n  \"author\": \"Yoshua Wuyts\",\n  \"license\": \"MIT\"\n}\n```\n",
  "closed_by": {
    "login": "yoshuawuyts",
    "id": 2467194,
    "node_id": "MDQ6VXNlcjI0NjcxOTQ=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/2467194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yoshuawuyts",
    "html_url": "https://github.com/yoshuawuyts",
    "followers_url": "https://api.github.com/users/yoshuawuyts/followers",
    "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}",
    "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions",
    "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs",
    "repos_url": "https://api.github.com/users/yoshuawuyts/repos",
    "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events",
    "type": "User",
    "site_admin": false
  }
}
