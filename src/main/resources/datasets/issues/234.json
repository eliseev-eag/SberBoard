{
  "url": "https://api.github.com/repos/facebook/react/issues/234",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/234/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/234/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/234/events",
  "html_url": "https://github.com/facebook/react/issues/234",
  "id": 17193888,
  "node_id": "MDU6SXNzdWUxNzE5Mzg4OA==",
  "number": 234,
  "title": "Batching disturbs the natural order of execution",
  "user": {
    "login": "chenglou",
    "id": 1909539,
    "node_id": "MDQ6VXNlcjE5MDk1Mzk=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/1909539?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chenglou",
    "html_url": "https://github.com/chenglou",
    "followers_url": "https://api.github.com/users/chenglou/followers",
    "following_url": "https://api.github.com/users/chenglou/following{/other_user}",
    "gists_url": "https://api.github.com/users/chenglou/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chenglou/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chenglou/subscriptions",
    "organizations_url": "https://api.github.com/users/chenglou/orgs",
    "repos_url": "https://api.github.com/users/chenglou/repos",
    "events_url": "https://api.github.com/users/chenglou/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chenglou/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2013-07-25T04:45:28Z",
  "updated_at": "2014-07-30T06:31:34Z",
  "closed_at": "2014-07-30T06:31:34Z",
  "author_association": "CONTRIBUTOR",
  "body": "Discovered this while upgrading TodoMVC:\n\n``` js\n// in child\nhandleEdit: function () {\n    this.props.onEdit();\n    var node = this.refs.editField.getDOMNode();\n    node.focus();\n    node.setSelectionRange(node.value.length, node.value.length);\n},\n```\n\nThe code calls parent's `onEdit`, which sets a state, triggering a `render` on parent that in turn trickles down to the child. After that, an input field gets focused. This worked well in 0.3 without batching, but now we'll have to put the last few lines inside a function and pass it to `onEdit`, which will `setState` and call the callback. Or else, the render is actually done after `focus`, which makes it useless.\n\nThis appears to be the new way to do stuff in 0.4. I'm putting it here in case there's a solution to this without involving callbacks (although I think any solution would enter in contradiction with the nature of batching). I do prefer batching and I'm ok with the new way, but it does render writing APIs slightly more awkward.\n",
  "closed_by": {
    "login": "chenglou",
    "id": 1909539,
    "node_id": "MDQ6VXNlcjE5MDk1Mzk=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/1909539?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chenglou",
    "html_url": "https://github.com/chenglou",
    "followers_url": "https://api.github.com/users/chenglou/followers",
    "following_url": "https://api.github.com/users/chenglou/following{/other_user}",
    "gists_url": "https://api.github.com/users/chenglou/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chenglou/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chenglou/subscriptions",
    "organizations_url": "https://api.github.com/users/chenglou/orgs",
    "repos_url": "https://api.github.com/users/chenglou/repos",
    "events_url": "https://api.github.com/users/chenglou/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chenglou/received_events",
    "type": "User",
    "site_admin": false
  }
}
