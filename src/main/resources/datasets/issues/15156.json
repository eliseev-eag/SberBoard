{
  "url": "https://api.github.com/repos/facebook/react/issues/15156",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15156/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15156/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15156/events",
  "html_url": "https://github.com/facebook/react/issues/15156",
  "id": 422934541,
  "node_id": "MDU6SXNzdWU0MjI5MzQ1NDE=",
  "number": 15156,
  "title": "Preventing rerenders with React.memo and useContext hook.",
  "user": {
    "login": "pumanitro",
    "id": 7398214,
    "node_id": "MDQ6VXNlcjczOTgyMTQ=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/7398214?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pumanitro",
    "html_url": "https://github.com/pumanitro",
    "followers_url": "https://api.github.com/users/pumanitro/followers",
    "following_url": "https://api.github.com/users/pumanitro/following{/other_user}",
    "gists_url": "https://api.github.com/users/pumanitro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pumanitro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pumanitro/subscriptions",
    "organizations_url": "https://api.github.com/users/pumanitro/orgs",
    "repos_url": "https://api.github.com/users/pumanitro/repos",
    "events_url": "https://api.github.com/users/pumanitro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pumanitro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2019-03-19T20:20:49Z",
  "updated_at": "2019-08-07T14:52:26Z",
  "closed_at": "2019-03-19T21:25:35Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\n*bug*\r\n\r\n**What is the current behavior?**\r\n\r\nI can't rely on data from context API by using (useContext hook) to prevent unnecessary rerenders with React.memo\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n```\r\nReact.memo(() => {\r\nconst [globalState] = useContext(SomeContext);\r\n\r\nrender ...\r\n\r\n}, (prevProps, nextProps) => {\r\n\r\n// How to rely on context in here?\r\n// I need to rerender component only if globalState contains nextProps.value\r\n\r\n});\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nI should have somehow access to the context in React.memo second argument callback to prevent rendering \r\nOr I should have the possibility to return an old instance of the react component in the function body.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n16.8.4\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
