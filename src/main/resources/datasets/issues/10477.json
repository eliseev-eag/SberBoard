{
  "url": "https://api.github.com/repos/facebook/react/issues/10477",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10477/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10477/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10477/events",
  "html_url": "https://github.com/facebook/react/issues/10477",
  "id": 250942770,
  "node_id": "MDU6SXNzdWUyNTA5NDI3NzA=",
  "number": 10477,
  "title": "Object spreads with nested children gives unwanted key error.",
  "user": {
    "login": "bonjowi",
    "id": 9975760,
    "node_id": "MDQ6VXNlcjk5NzU3NjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/9975760?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bonjowi",
    "html_url": "https://github.com/bonjowi",
    "followers_url": "https://api.github.com/users/bonjowi/followers",
    "following_url": "https://api.github.com/users/bonjowi/following{/other_user}",
    "gists_url": "https://api.github.com/users/bonjowi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bonjowi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bonjowi/subscriptions",
    "organizations_url": "https://api.github.com/users/bonjowi/orgs",
    "repos_url": "https://api.github.com/users/bonjowi/repos",
    "events_url": "https://api.github.com/users/bonjowi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bonjowi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 620368407,
      "node_id": "MDU6TGFiZWw2MjAzNjg0MDc=",
      "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information",
      "name": "Resolution: Needs More Information",
      "color": "fffde7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-08-17T13:24:51Z",
  "updated_at": "2017-08-18T08:25:57Z",
  "closed_at": "2017-08-18T08:25:57Z",
  "author_association": "NONE",
  "body": "I believe the following case should not result with a key error. So I would like to know if this is correct behaviour or a bug.\r\n    \r\n**I have produced the following case**\r\n\r\nRender a component which spreads attributes on it's top element, with children.\r\nThe children are [nested](https://facebook.github.io/react/docs/jsx-in-depth.html#jsx-children) and at least one child has an object spread.\r\n\r\nThis situation produces the following key error\r\n> Warning: Each child in an array or iterator should have a unique \"key\" prop. Check the render method of `Component`. It was passed a child from { some parent component }. See https://fb.me/react-warning-keys for more information.\r\n    \r\n**Reproduction**\r\n\r\nI've added the most basic code to reproduce the issue in a [JSFiddle](https://jsfiddle.net/84v837e9/190/). However, I don't see the key error being displayed on JSFiddle.\r\n\r\n1. We have our component which renders it's children and spreads attributes on the top element.\r\n2. We render Component with nested children. Of which at least one has an object spread.\r\n\r\n```\r\nfunction Component({ children }) {\r\n  return (\r\n    <div {...{}}>\r\n      {children}\r\n    </div >\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <Component>\r\n      <p {...{}} />\r\n      <p>Foo</p>\r\n    </Component>\r\n  );\r\n};\r\n```\r\nVariations:\r\n- When the first nested child given to Component is a component, and the Component receives an object spread, the key warning is also being thrown. \r\n- When the object spread is removed from <div> inside Component the key warning is not thrown.\r\n- When the object spread is remove from the first nested child <p> given to Component the key warning is not thrown.\r\n\r\n**Expectation**\r\nI would not expect key errors because there are no arrays of children being rendered.\r\n\r\n**Background**\r\nBuild with react@15.6.1 and react-dom@15.6.1\r\n\r\nI've started getting this problem since I started using airbnb/react-with-styles with aphrodite for styling. It generates objects with possibly both style and className properties which can be spread on to JSX elements. However, the issue persists when react-with-styles is not used. The behaviour seems to come from react.\r\n\r\nIs this correct behaviour?",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
