{
  "url": "https://api.github.com/repos/facebook/react/issues/10686",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10686/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10686/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10686/events",
  "html_url": "https://github.com/facebook/react/issues/10686",
  "id": 257152729,
  "node_id": "MDU6SXNzdWUyNTcxNTI3Mjk=",
  "number": 10686,
  "title": "ReactDOM 15.6.1 vs 16.0.0-rc2 benchmark difference",
  "user": {
    "login": "mobinni",
    "id": 2361292,
    "node_id": "MDQ6VXNlcjIzNjEyOTI=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/2361292?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mobinni",
    "html_url": "https://github.com/mobinni",
    "followers_url": "https://api.github.com/users/mobinni/followers",
    "following_url": "https://api.github.com/users/mobinni/following{/other_user}",
    "gists_url": "https://api.github.com/users/mobinni/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mobinni/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mobinni/subscriptions",
    "organizations_url": "https://api.github.com/users/mobinni/orgs",
    "repos_url": "https://api.github.com/users/mobinni/repos",
    "events_url": "https://api.github.com/users/mobinni/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mobinni/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2017-09-12T19:20:54Z",
  "updated_at": "2017-09-13T12:50:51Z",
  "closed_at": "2017-09-13T02:32:49Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nHey there,\r\n\r\nSo at my work we got into the discussion of what the fastest render cycle would be. Namely, if functional components that render functional components as children would be faster than a class-based component that renders through private function members of the class. \r\n\r\nWe set out to prove it in a very simple and naïve way. We used Benchmark.js to run ReactDOM.render against components that render the same output to different (existing) dom-nodes. \r\n\r\n**What is the current behavior?**\r\n\r\nWe tested it against React 15.6.1 and 16.0.0-rc2 and the results for both tests against all 3 cases were relatively close in terms of ops/sec. However between React 15 and 16 the amount of ops/sec varied so heavily, I wanted to know if the approach taken was the problem or if it shows a flaw in ReactDOM v16.\r\n\r\nI'm not suggesting there is anything wrong, however the results varied so widely, I thought I'd share it here, since maybe someone would have more accurate numbers, or a better way of testing it that would actually highlight the perf.\r\n\r\n**Dev build**\r\nReactDOM 16 results:\r\n```\r\nrender functional component tree x 8,756 ops/sec ±7.80% (49 runs sampled)\r\nrender class based component tree x 13,924 ops/sec ±4.44% (50 runs sampled)\r\nrender class that renders functional components x 12,921 ops/sec ±7.06% (21 runs sampled)\r\nFastest is render class based component tree, render class that renders functional components```\r\n\r\n```\r\n\r\nReacDOM 15.6.1 results: \r\n```\r\nrender functional component tree x 33,815 ops/sec ±4.34% (23 runs sampled)\r\nrender class based component tree x 100,684 ops/sec ±4.01% (43 runs sampled)\r\nrender class that renders functional components x 109,085 ops/sec ±2.48% (56 runs sampled)\r\nFastest is render class based component tree\r\n```\r\n\r\n**Production build**\r\nReactDOM 16 results:\r\n```\r\nrender functional component tree x 299,810 ops/sec ±8.57% (49 runs sampled)\r\nrender class based component tree x 83,106 ops/sec ±8.96% (41 runs sampled)\r\nrender class that renders functional components x 88,360 ops/sec ±4.81% (54 runs sampled)\r\nFastest is render functional component tree\r\n```\r\n\r\nReactDOM 15.6.1 results:\r\n```\r\nrender functional component tree x 200,604 ops/sec ±5.43% (50 runs sampled)\r\nrender class based component tree x 400,852 ops/sec ±4.37% (34 runs sampled)\r\nrender class that renders functional components x 413,435 ops/sec ±1.98% (55 runs sampled)\r\nFastest is render class that renders functional components,render class based component tree\r\n```\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/ebsrpraL/).**\r\n\r\nhttps://github.com/mobinni/react-perf-dom\r\n\r\n**What is the expected behavior?**\r\n```\r\nyarn\r\nyarn build\r\nyarn serve\r\ngo to localhost:9000\r\nopen console, output should show up after it runs the tests\r\n```\r\n\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\n15.6.1/16.0.0-rc2 \r\nChrome 60\r\nnode 7.8.0",
  "closed_by": {
    "login": "mobinni",
    "id": 2361292,
    "node_id": "MDQ6VXNlcjIzNjEyOTI=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/2361292?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mobinni",
    "html_url": "https://github.com/mobinni",
    "followers_url": "https://api.github.com/users/mobinni/followers",
    "following_url": "https://api.github.com/users/mobinni/following{/other_user}",
    "gists_url": "https://api.github.com/users/mobinni/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mobinni/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mobinni/subscriptions",
    "organizations_url": "https://api.github.com/users/mobinni/orgs",
    "repos_url": "https://api.github.com/users/mobinni/repos",
    "events_url": "https://api.github.com/users/mobinni/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mobinni/received_events",
    "type": "User",
    "site_admin": false
  }
}
