{
  "url": "https://api.github.com/repos/facebook/react/issues/14140",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14140/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14140/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14140/events",
  "html_url": "https://github.com/facebook/react/issues/14140",
  "id": 378481009,
  "node_id": "MDU6SXNzdWUzNzg0ODEwMDk=",
  "number": 14140,
  "title": "Suspense fallback component remounts when parent is re-rendered",
  "user": {
    "login": "dmnd",
    "id": 4427,
    "node_id": "MDQ6VXNlcjQ0Mjc=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4427?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dmnd",
    "html_url": "https://github.com/dmnd",
    "followers_url": "https://api.github.com/users/dmnd/followers",
    "following_url": "https://api.github.com/users/dmnd/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmnd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dmnd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmnd/subscriptions",
    "organizations_url": "https://api.github.com/users/dmnd/orgs",
    "repos_url": "https://api.github.com/users/dmnd/repos",
    "events_url": "https://api.github.com/users/dmnd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dmnd/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-11-07T21:41:31Z",
  "updated_at": "2018-11-07T22:49:45Z",
  "closed_at": "2018-11-07T22:48:34Z",
  "author_association": "CONTRIBUTOR",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nI think this might be a bug, but perhaps my understanding of reconciliation is incorrect.\r\n\r\nI'm trying to use `lazy` and `Suspense` as primitives to implement some loading UX requirements.\r\n\r\nSpecifically, I want to render a loading state indicator as a descendant of a lazy component's ancestor. Rendering the indicator in an ancestor seems like the happy path, but I'm trying to do something a little different.\r\n\r\n**What is the current behavior?**\r\n1. Go to https://codesandbox.io/s/rywvy84x34\r\n2. Click the button\r\n3. See it crash\r\n\r\n**What is the expected behavior?**\r\n1. Go to https://codesandbox.io/s/rywvy84x34\r\n2. Click the button\r\n3. See the text is now \"Show lazy (Loading...)\"\r\n4. Wait a bit\r\n5. See the lazy component render\r\n\r\nMy understanding of the reconciler algorithm leads me to expect the fallback component to be mounted only a single time. But what I'm observing is that setting state on the parent component causes the fallback component to unmount then remount, triggering an infinite loop, which then causes React to crash.\r\n\r\nNote that if you wrap both `didMount` and `willMount` in a `setTimout(..., 0)` then things work, except the component is remounting in a loop until the promise is resolved.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nI've only tried this in 16.6.0.",
  "closed_by": {
    "login": "dmnd",
    "id": 4427,
    "node_id": "MDQ6VXNlcjQ0Mjc=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4427?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dmnd",
    "html_url": "https://github.com/dmnd",
    "followers_url": "https://api.github.com/users/dmnd/followers",
    "following_url": "https://api.github.com/users/dmnd/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmnd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dmnd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmnd/subscriptions",
    "organizations_url": "https://api.github.com/users/dmnd/orgs",
    "repos_url": "https://api.github.com/users/dmnd/repos",
    "events_url": "https://api.github.com/users/dmnd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dmnd/received_events",
    "type": "User",
    "site_admin": false
  }
}
