{
  "url": "https://api.github.com/repos/facebook/react/issues/11539",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11539/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11539/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11539/events",
  "html_url": "https://github.com/facebook/react/issues/11539",
  "id": 273327802,
  "node_id": "MDU6SXNzdWUyNzMzMjc4MDI=",
  "number": 11539,
  "title": "input type=checkbox not rendered correctly if nested in html a-tag",
  "user": {
    "login": "Ogglas",
    "id": 4015237,
    "node_id": "MDQ6VXNlcjQwMTUyMzc=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/4015237?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Ogglas",
    "html_url": "https://github.com/Ogglas",
    "followers_url": "https://api.github.com/users/Ogglas/followers",
    "following_url": "https://api.github.com/users/Ogglas/following{/other_user}",
    "gists_url": "https://api.github.com/users/Ogglas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Ogglas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Ogglas/subscriptions",
    "organizations_url": "https://api.github.com/users/Ogglas/orgs",
    "repos_url": "https://api.github.com/users/Ogglas/repos",
    "events_url": "https://api.github.com/users/Ogglas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Ogglas/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-11-13T06:57:27Z",
  "updated_at": "2017-11-16T07:13:13Z",
  "closed_at": "2017-11-13T13:56:05Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\nI have a peculiar problem with using a html `a`-tag with `input type=checkbox`  from React. The thing is that if I click directly on the checkbox and not the `a`-tag the checkbox will not re-render correctly but my state has updated.\r\n\r\nExample: Given the code below I render the component and click directly on the checkbox. In this case showMap will be set to false since we set it to true in the constructor but the checkbox will still be checked in the html view. If I however click on the `a`-tag but not directly on the checkbox both the state showMap is updated correctly as well as the view.\r\n\r\nI can make it work by not calling `event.preventDefault();` in `toggleCheckbox` but if I do that the app will scroll to the top of the page if I click on the `a`-tag.\r\n\r\nExample:\r\n\r\nhttps://codesandbox.io/s/w2x8vqq8xl\r\n\r\nCode:\r\n\r\n```\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\n\r\nconst styles = {\r\n  fontFamily: \"sans-serif\",\r\n  textAlign: \"center\",\r\n  //marginTop: \"1000px\"\r\n};\r\n\r\nclass Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showMap: true\r\n    };\r\n  }\r\n\r\n  toggleCheckbox = event => {\r\n    this.setState({ showMap: !this.state.showMap });\r\n    event.preventDefault();    \r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>{this.state.showMap ? \"Show\" : \"hide\"}</h1>\r\n        <a href=\"#\" role=\"button\" onClick={this.toggleCheckbox}>\r\n          <input\r\n            type=\"checkbox\"\r\n            title=\"test\"\r\n            name=\"showMap\"\r\n            checked={this.state.showMap}\r\n            readOnly\r\n          />\r\n          Show map\r\n        </a>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nconst App = () => (\r\n    <div style={styles}>\r\n      <Menu />\r\n    </div>\r\n);\r\n\r\nrender(<App />, document.getElementById(\"root\"));\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nWhen I press the checkbox it should update visually.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nReact 16, Chrome, Windows.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
