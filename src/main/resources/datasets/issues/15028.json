{
  "url": "https://api.github.com/repos/facebook/react/issues/15028",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15028/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15028/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15028/events",
  "html_url": "https://github.com/facebook/react/issues/15028",
  "id": 417575342,
  "node_id": "MDU6SXNzdWU0MTc1NzUzNDI=",
  "number": 15028,
  "title": "Mutliple state hooks resulting in mis-paint",
  "user": {
    "login": "drKnoxy",
    "id": 604015,
    "node_id": "MDQ6VXNlcjYwNDAxNQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/604015?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/drKnoxy",
    "html_url": "https://github.com/drKnoxy",
    "followers_url": "https://api.github.com/users/drKnoxy/followers",
    "following_url": "https://api.github.com/users/drKnoxy/following{/other_user}",
    "gists_url": "https://api.github.com/users/drKnoxy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/drKnoxy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/drKnoxy/subscriptions",
    "organizations_url": "https://api.github.com/users/drKnoxy/orgs",
    "repos_url": "https://api.github.com/users/drKnoxy/repos",
    "events_url": "https://api.github.com/users/drKnoxy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/drKnoxy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-06T01:10:39Z",
  "updated_at": "2019-03-06T19:00:27Z",
  "closed_at": "2019-03-06T17:50:36Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\nA paint seems to occur between a state update, and before an effect that is \"listening\" to that state gets a chance to run it's synchronous state update function.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nhttps://codesandbox.io/s/x2qnpykl5z\r\n\r\n1. run the profiler\r\n2. click the \"change mode\" button\r\n3. slide through the screenshots from the profile\r\n4. *err* there is a paint with \"old\" data but in the \"new\" mode before the \"showLoader\" boolean is set to true\r\n\r\n**What is the expected behavior?**\r\nI would have expected that there would not be a paint of the state update if useEffect had that state listed as a dependency, and that the paint would wait until useEffect had at least done any state changes that weren't async.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n16.8.3 chrome latest, fedora (but i think all os)",
  "closed_by": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  }
}
