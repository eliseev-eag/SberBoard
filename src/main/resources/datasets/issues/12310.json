{
  "url": "https://api.github.com/repos/facebook/react/issues/12310",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12310/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12310/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12310/events",
  "html_url": "https://github.com/facebook/react/issues/12310",
  "id": 301109892,
  "node_id": "MDU6SXNzdWUzMDExMDk4OTI=",
  "number": 12310,
  "title": "getDerivedStateFromProps and MobX",
  "user": {
    "login": "bradenhs",
    "id": 22484684,
    "node_id": "MDQ6VXNlcjIyNDg0Njg0",
    "avatar_url": "https://avatars1.githubusercontent.com/u/22484684?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bradenhs",
    "html_url": "https://github.com/bradenhs",
    "followers_url": "https://api.github.com/users/bradenhs/followers",
    "following_url": "https://api.github.com/users/bradenhs/following{/other_user}",
    "gists_url": "https://api.github.com/users/bradenhs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bradenhs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bradenhs/subscriptions",
    "organizations_url": "https://api.github.com/users/bradenhs/orgs",
    "repos_url": "https://api.github.com/users/bradenhs/repos",
    "events_url": "https://api.github.com/users/bradenhs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bradenhs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 19,
  "created_at": "2018-02-28T17:17:48Z",
  "updated_at": "2018-08-02T19:43:46Z",
  "closed_at": "2018-08-02T19:43:46Z",
  "author_association": "NONE",
  "body": "I use MobX to manage the application state of react apps I build and ever since I read this [post](https://blog.cloudboost.io/3-reasons-why-i-stopped-using-react-setstate-ab73fc67a42e) I've been using MobX to manage local component state as well. I recently read that React 16.3 will introduce a new static method called `getDerivedStateFromProps` and that some future release will deprecate `componentWillReceiveProps`. I'm worried that deprecating `componentWillReceiveProps` will break some of my components which need to update their state in response to a change in props. **This, of course, wouldn't be an issue except for the fact that `getDerivedStateFromProps` appears to be incompatible with local component state managed by MobX.** One of the things I love about React is that it is so easy to integrate with other tools. The new `getDerivedStateFromProps` static method will reduce some of this flexibility.\r\n\r\nFor those of you who haven't used MobX before the issue here may be a little hard to grasp at first. I've built an example [repo](https://github.com/bradenhs/getDerivedStateFromProps-mobx) where you can see both a MobX and React setState implementation of a component which needs to update it's local state in response to a props change. Take a look at the example, but in brief the core of the issue is that `getDerivedStateFromProps` is a static method and mobx state on the component _instance_ can't be accessed and updated in a static method. `componentWillReceiveProps` is generic enough that updating mobx component state in there is possible in a semantically sound manner. Once it's deprecated, however, I don't know how this will be possible in a non-hacky way.\r\n\r\nI realize I may be a little late with this concern since it appears React 16.3 will be released anytime now. I do, however, think the concern is worth raising since this new change in React will break what is in my view a valid use of React. I'd prefer if another solution was devised which was more flexible for people using React with other tools.\r\n\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
