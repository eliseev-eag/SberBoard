{
  "url": "https://api.github.com/repos/facebook/react/issues/16596",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16596/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16596/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16596/events",
  "html_url": "https://github.com/facebook/react/issues/16596",
  "id": 486341207,
  "node_id": "MDU6SXNzdWU0ODYzNDEyMDc=",
  "number": 16596,
  "title": "Devtools flamegraph component sizes are not proportional to render time",
  "user": {
    "login": "pimterry",
    "id": 1526883,
    "node_id": "MDQ6VXNlcjE1MjY4ODM=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1526883?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pimterry",
    "html_url": "https://github.com/pimterry",
    "followers_url": "https://api.github.com/users/pimterry/followers",
    "following_url": "https://api.github.com/users/pimterry/following{/other_user}",
    "gists_url": "https://api.github.com/users/pimterry/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pimterry/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pimterry/subscriptions",
    "organizations_url": "https://api.github.com/users/pimterry/orgs",
    "repos_url": "https://api.github.com/users/pimterry/repos",
    "events_url": "https://api.github.com/users/pimterry/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pimterry/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2019-08-28T12:08:11Z",
  "updated_at": "2019-08-28T21:31:33Z",
  "closed_at": "2019-08-28T14:57:47Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**: Bug\r\n\r\n**What is the current behavior?**\r\nThe flamegraph appears to be intended to show the component tree with each component sized proportional to the time taken to render it & its children. Either it doesn't do this reliably, or the relative sizes are intended to show something else (in which case: I don't know what). As an example:\r\n\r\n![Screenshot from 2019-08-28 13-53-00](https://user-images.githubusercontent.com/1526883/63853615-7580cd00-c99b-11e9-83b9-0a53d1d954c6.png)\r\n\r\nCompare the sizes of `pane1` & `pane2` (the two direct children of the highlighted SplitPane). Pane1 is approx 75% of the size, and took 3.7ms to render, whilst Pane2 is 25% of the size and took 23.2ms.\r\n\r\nThis UI encourages me to focus on Pane1, but Pane2 is definitely what I should be looking at.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem:**\r\n\r\nI'm not sure of the steps to reproduce this in general, but it's completely reliable when profiling my application in quite a few places, I think this is likely a general issue. Not sure, but I suspect comparing the numbers and relative sizes when profiling any substantial render will find odd mismatches.\r\n\r\nLet me know if that doesn't seem to be true, and I'll find time to do some more testing & build a proper repro.\r\n\r\n**What is the expected behavior?**\r\n\r\nThe components should be sized relative to their overall render time, so you can easily find the most expensive component trees.\r\n\r\nIt's totally possible that the bug here is that my expectations are wrong, in which case I'd love to know what this is _supposed_ to show, and imo it'd be worth considering showing the proportional render time instead.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue?**\r\n\r\nReact: 16.6.3\r\nChrome: 75.0.3770.142 \r\nReact devtools addon: `Created from revision a39d9c3 on 8/26/2019.` \r\n",
  "closed_by": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  }
}
