{
  "url": "https://api.github.com/repos/facebook/react/issues/11787",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11787/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11787/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11787/events",
  "html_url": "https://github.com/facebook/react/pull/11787",
  "id": 279880190,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTU2ODIwNTYz",
  "number": 11787,
  "title": "Refactor the build scripts",
  "user": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-12-06T19:38:30Z",
  "updated_at": "2017-12-06T20:21:11Z",
  "closed_at": "2017-12-06T20:11:33Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/11787",
    "html_url": "https://github.com/facebook/react/pull/11787",
    "diff_url": "https://github.com/facebook/react/pull/11787.diff",
    "patch_url": "https://github.com/facebook/react/pull/11787.patch"
  },
  "body": "This might be a bit hard to review since a few things moved around.\r\nThe code that produces the bundles is exactly the same (just split into a few methods).\r\n\r\nThis mostly changes the code that copies folders and shims:\r\n\r\n* We no longer `process.exit()` all over the place, and instead use the normal try/catch flow.\r\n* We intentionally crash on uncaught Promise rejections.\r\n* The old code was convoluted because it tried to create an npm package folder lazily for every bundle. The new code just creates them at the end (so we don't need to check if one exists).\r\n* Another reason the old code was convoluted is due to all the checks if folders exist before creating them. I just changed our `asyncCopyTo` function to do that automatically.\r\n* I'm no longer creating npm packages in a temp folder, and instead I'm doing it in place. This is easier to read and understand. We're also now doing one pack/unpack cycle per package (instead of per bundle).\r\n\r\nNote I mostly rewrote the folder moving file from scratch.\r\nI found it easier than refactoring the old one.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
