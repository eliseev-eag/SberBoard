{
  "url": "https://api.github.com/repos/facebook/react/issues/12692",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12692/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12692/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12692/events",
  "html_url": "https://github.com/facebook/react/issues/12692",
  "id": 317831870,
  "node_id": "MDU6SXNzdWUzMTc4MzE4NzA=",
  "number": 12692,
  "title": "<textarea autoFocus/> seems to leak DOM nodes",
  "user": {
    "login": "afarnsworth-valve",
    "id": 25236853,
    "node_id": "MDQ6VXNlcjI1MjM2ODUz",
    "avatar_url": "https://avatars2.githubusercontent.com/u/25236853?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/afarnsworth-valve",
    "html_url": "https://github.com/afarnsworth-valve",
    "followers_url": "https://api.github.com/users/afarnsworth-valve/followers",
    "following_url": "https://api.github.com/users/afarnsworth-valve/following{/other_user}",
    "gists_url": "https://api.github.com/users/afarnsworth-valve/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/afarnsworth-valve/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/afarnsworth-valve/subscriptions",
    "organizations_url": "https://api.github.com/users/afarnsworth-valve/orgs",
    "repos_url": "https://api.github.com/users/afarnsworth-valve/repos",
    "events_url": "https://api.github.com/users/afarnsworth-valve/events{/privacy}",
    "received_events_url": "https://api.github.com/users/afarnsworth-valve/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-04-25T23:54:13Z",
  "updated_at": "2018-08-02T19:27:41Z",
  "closed_at": "2018-08-02T19:27:41Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nReport a bug\r\n\r\n**What is the current behavior?**\r\nReact components with <textarea autoFocus> seem to leak DOM nodes after being unmounted, retaining their entire DOM tree.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\nThere's a JS Fiddle here:\r\nhttps://jsfiddle.net/afarnsworth/sw2td7xp/2/\r\n\r\nTo test, open up the Chrome Performance Monitor, and check and uncheck the \"Show stuff\" check box.  The number of DOM Nodes will climb.  Clicking garbage collect will not seem to reclaim any.\r\n![image](https://user-images.githubusercontent.com/25236853/39278237-f579f5c6-48a6-11e8-8f74-aaed1735236d.png)\r\n\r\n\r\nYou can click \"run\" in jsfiddle to release the old nodes.  Uncheck the \"Enable autofocus\" box, and repeat the experiment (click \"Show stuff\" a lot).  This time the DOM nodes seem to get reclaimed.\r\n![image](https://user-images.githubusercontent.com/25236853/39278246-ffaab760-48a6-11e8-81f5-6df1103b89be.png)\r\n\r\nA heap snapshot shows some detached dom trees referenced in React DOM internals\r\n![image](https://user-images.githubusercontent.com/25236853/39278292-3d18d96a-48a7-11e8-9985-74e6464ac289.png)\r\n\r\n\r\n**What is the expected behavior?**\r\nDOM nodes aren't retained after being unmounted.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nReact 16.3, Google Chrome on Windows.\r\n\r\nDon't know if this issue is new or not, our application may have always been affected by this.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
