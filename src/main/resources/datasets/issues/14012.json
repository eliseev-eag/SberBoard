{
  "url": "https://api.github.com/repos/facebook/react/issues/14012",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14012/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14012/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14012/events",
  "html_url": "https://github.com/facebook/react/issues/14012",
  "id": 374799870,
  "node_id": "MDU6SXNzdWUzNzQ3OTk4NzA=",
  "number": 14012,
  "title": "Suspense ping shouldn't suspend if all suspended content is already in fallback mode",
  "user": {
    "login": "RichieAHB",
    "id": 1652187,
    "node_id": "MDQ6VXNlcjE2NTIxODc=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/1652187?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/RichieAHB",
    "html_url": "https://github.com/RichieAHB",
    "followers_url": "https://api.github.com/users/RichieAHB/followers",
    "following_url": "https://api.github.com/users/RichieAHB/following{/other_user}",
    "gists_url": "https://api.github.com/users/RichieAHB/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/RichieAHB/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RichieAHB/subscriptions",
    "organizations_url": "https://api.github.com/users/RichieAHB/orgs",
    "repos_url": "https://api.github.com/users/RichieAHB/repos",
    "events_url": "https://api.github.com/users/RichieAHB/events{/privacy}",
    "received_events_url": "https://api.github.com/users/RichieAHB/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1109407645,
      "node_id": "MDU6TGFiZWwxMTA5NDA3NjQ1",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Suspense",
      "name": "Component: Suspense",
      "color": "8ffcd6",
      "default": false
    },
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2018-10-28T21:22:06Z",
  "updated_at": "2019-03-26T01:40:31Z",
  "closed_at": null,
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\nWhen using suspense and hooks - specifically `useState` and `useEffect` - nested async renders (using `react-cache`) cause state hooks not to be updated. Specifically this happens between the first promise settling and the last promise settling in a `Suspense` component. However the state updates concerned can be outside of the `Suspense` root: https://codesandbox.io/s/wznnxz9pvw\r\n\r\nIn the linked example, moving the mouse will update the displayed coordinates for the first 2000ms (the time at which the first thrown promise resolves) however, after this the UI will not show any updated coordinates until after the final nested promise in the adjacent `Suspense` root settles.\r\n\r\nI may both be using Suspense wrong (given the understandable lack of documentation) as I've been having other bugs with this setup, specifically the above example will sometimes never render beyond the \"loading ...\" placeholder. This is especially noticeable with setting higher timeouts in the `Timeout` component.\r\n\r\nreact 16.7.0-alpha\r\nreact-dom 16.7.0-alpha\r\nreact-cache 2.0.0-alpha\r\n",
  "closed_by": null
}
