{
  "url": "https://api.github.com/repos/facebook/react/issues/14994",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14994/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14994/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14994/events",
  "html_url": "https://github.com/facebook/react/issues/14994",
  "id": 416238549,
  "node_id": "MDU6SXNzdWU0MTYyMzg1NDk=",
  "number": 14994,
  "title": "useState not bailing out when state does not change",
  "user": {
    "login": "perrin4869",
    "id": 5774716,
    "node_id": "MDQ6VXNlcjU3NzQ3MTY=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/5774716?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/perrin4869",
    "html_url": "https://github.com/perrin4869",
    "followers_url": "https://api.github.com/users/perrin4869/followers",
    "following_url": "https://api.github.com/users/perrin4869/following{/other_user}",
    "gists_url": "https://api.github.com/users/perrin4869/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/perrin4869/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/perrin4869/subscriptions",
    "organizations_url": "https://api.github.com/users/perrin4869/orgs",
    "repos_url": "https://api.github.com/users/perrin4869/repos",
    "events_url": "https://api.github.com/users/perrin4869/events{/privacy}",
    "received_events_url": "https://api.github.com/users/perrin4869/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 710375792,
      "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
      "name": "Type: Discussion",
      "color": "fef2c0",
      "default": false
    },
    {
      "id": 710722093,
      "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
      "name": "Type: Needs Investigation",
      "color": "fbca04",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 27,
  "created_at": "2019-03-01T19:05:10Z",
  "updated_at": "2019-05-10T12:02:34Z",
  "closed_at": null,
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\nAs demonstrated in [this](https://codesandbox.io/s/1r539z96r3) codesandbox, trying to implement a pattern similar to the one discussed in https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops results in an infinite loop, even if the value of the state does not change. This seems like a bug, because, as documented [here](https://reactjs.org/docs/hooks-reference.html#bailing-out-of-a-state-update), `If you update a State Hook to the same value as the current state, React will bail out without rendering the children or firing effects.`\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n**What is the expected behavior?**\r\n\r\nSince the state does not change, bail out on the re-render.\r\nThis can be worked around by adding a check before `setState` to check if the state has changed before calling the function.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
