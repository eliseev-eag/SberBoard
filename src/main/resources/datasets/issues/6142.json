{
  "url": "https://api.github.com/repos/facebook/react/issues/6142",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/6142/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/6142/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/6142/events",
  "html_url": "https://github.com/facebook/react/issues/6142",
  "id": 137235999,
  "node_id": "MDU6SXNzdWUxMzcyMzU5OTk=",
  "number": 6142,
  "title": "Allow specifying new children to append vs prepend in ReactTransitionGroup",
  "user": {
    "login": "hellosmithy",
    "id": 866604,
    "node_id": "MDQ6VXNlcjg2NjYwNA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/866604?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hellosmithy",
    "html_url": "https://github.com/hellosmithy",
    "followers_url": "https://api.github.com/users/hellosmithy/followers",
    "following_url": "https://api.github.com/users/hellosmithy/following{/other_user}",
    "gists_url": "https://api.github.com/users/hellosmithy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hellosmithy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hellosmithy/subscriptions",
    "organizations_url": "https://api.github.com/users/hellosmithy/orgs",
    "repos_url": "https://api.github.com/users/hellosmithy/repos",
    "events_url": "https://api.github.com/users/hellosmithy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hellosmithy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-02-29T12:03:57Z",
  "updated_at": "2017-01-27T14:39:28Z",
  "closed_at": "2017-01-27T14:39:28Z",
  "author_association": "NONE",
  "body": "In ReactTransitionGroup given a dynamic array of children e.g. first `['A', 'B']` then `['B', 'C']` while ReactTransitionGroup holds on to the exiting DOM nodes we see `['A', 'B', 'C']` in the DOM before `done()` is called. Then we see `['B', 'C']`. This is all fine. However if we then transition to an entirely new array `['D']` in the DOM we see `['D', 'B', 'C']` instead of `['B', 'C', 'D']`.\n\nSee the following fiddle: https://jsfiddle.net/92he8jge/1/\n\nThis seems to be because in `ReactTransitionGroup` next child mappings are merged with previous child mappings in that order. This is probably fine in most cases but it would be great if we could control the order.\n\nI've got a version of this working locally by adding an `appendNextChildMapping` prop of type boolean which defaults to false. I'd be happy to turn this into a PR. Or perhaps there is another way to achieve this that I'm missing?\n\n**EDIT**: Looking at this some more, it's not clear to me if how it currently works is actually intended behaviour.\nhttps://github.com/facebook/react/blob/master/src/addons/transitions/ReactTransitionChildMapping.js#L90\nIt looks from this comment like it is in fact trying to add the new item after the existing ones but that the object is not preserving intended source order? Is this a bug in the implementation of `mergeChildMappings`?\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
