{
  "url": "https://api.github.com/repos/facebook/react/issues/8282",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/8282/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/8282/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/8282/events",
  "html_url": "https://github.com/facebook/react/pull/8282",
  "id": 188990126,
  "node_id": "MDExOlB1bGxSZXF1ZXN0OTM0ODQwNjk=",
  "number": 8282,
  "title": "Make setState return a promise",
  "user": {
    "login": "peteychuk",
    "id": 3789870,
    "node_id": "MDQ6VXNlcjM3ODk4NzA=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/3789870?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/peteychuk",
    "html_url": "https://github.com/peteychuk",
    "followers_url": "https://api.github.com/users/peteychuk/followers",
    "following_url": "https://api.github.com/users/peteychuk/following{/other_user}",
    "gists_url": "https://api.github.com/users/peteychuk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/peteychuk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/peteychuk/subscriptions",
    "organizations_url": "https://api.github.com/users/peteychuk/orgs",
    "repos_url": "https://api.github.com/users/peteychuk/repos",
    "events_url": "https://api.github.com/users/peteychuk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/peteychuk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2016-11-13T19:49:31Z",
  "updated_at": "2016-11-14T22:56:44Z",
  "closed_at": "2016-11-14T22:56:44Z",
  "author_association": "NONE",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/8282",
    "html_url": "https://github.com/facebook/react/pull/8282",
    "diff_url": "https://github.com/facebook/react/pull/8282.diff",
    "patch_url": "https://github.com/facebook/react/pull/8282.patch"
  },
  "body": "This PR related to #2642 that make setState() return a promise.\r\nTo make setState() back compatible setState() still accepts an optional second argument for callback and returns undefined. If the second argument isn't callback setState() returns Promise.\r\nUsage:\r\n```\r\n# Use callback\r\nthis.setState({ bar: 'bar' }, function() {/* ... */});\r\n\r\n# Use Promise\r\nthis.setState({ bar: 'bar' })\r\n.then(function() {\r\n  /* ... */\r\n});\r\n\r\n# Use await (es2016)\r\nawait this.setState({ bar: 'bar' });\r\n/* ... */\r\n```\r\n\r\nI've been thinking about this to create a new method (for example `asyncState`) but I think it's good to have the single method for single responsibility.\r\n\r\nThe Promise is simple object returns `then` function that resolves after state is updated (doesn't use any libraries like Bluebird, Q, etc). This shouldn't be a performance issue.\r\n\r\nI believe this to be the good feature for developers. Would be much appreciated if we could get this merged in.\r\n\r\nThanks! Let me know if you have any questions.",
  "closed_by": {
    "login": "acdlite",
    "id": 3624098,
    "node_id": "MDQ6VXNlcjM2MjQwOTg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3624098?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acdlite",
    "html_url": "https://github.com/acdlite",
    "followers_url": "https://api.github.com/users/acdlite/followers",
    "following_url": "https://api.github.com/users/acdlite/following{/other_user}",
    "gists_url": "https://api.github.com/users/acdlite/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acdlite/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acdlite/subscriptions",
    "organizations_url": "https://api.github.com/users/acdlite/orgs",
    "repos_url": "https://api.github.com/users/acdlite/repos",
    "events_url": "https://api.github.com/users/acdlite/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acdlite/received_events",
    "type": "User",
    "site_admin": false
  }
}
