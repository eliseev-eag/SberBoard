{
  "url": "https://api.github.com/repos/facebook/react/issues/570",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/570/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/570/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/570/events",
  "html_url": "https://github.com/facebook/react/issues/570",
  "id": 22962399,
  "node_id": "MDU6SXNzdWUyMjk2MjM5OQ==",
  "number": 570,
  "title": "renderComponent without jsx: clone the props object passed in, to avoid pollution",
  "user": {
    "login": "tommyh",
    "id": 348581,
    "node_id": "MDQ6VXNlcjM0ODU4MQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/348581?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tommyh",
    "html_url": "https://github.com/tommyh",
    "followers_url": "https://api.github.com/users/tommyh/followers",
    "following_url": "https://api.github.com/users/tommyh/following{/other_user}",
    "gists_url": "https://api.github.com/users/tommyh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tommyh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tommyh/subscriptions",
    "organizations_url": "https://api.github.com/users/tommyh/orgs",
    "repos_url": "https://api.github.com/users/tommyh/repos",
    "events_url": "https://api.github.com/users/tommyh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tommyh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2013-11-20T00:23:50Z",
  "updated_at": "2015-04-07T16:36:23Z",
  "closed_at": "2013-12-02T02:26:42Z",
  "author_association": "NONE",
  "body": "This issue only manifests when you are using vanilla-js (not-jsx) when making a `React.renderComponent` call.\n\nIssue:  When you pass in an object to `renderComponent`, that object is mutated with the props.  So if you try to use that object again to render a different component, the props from the first component will pollute the props in the second component.\n\nExample code:\n\n```\nvar Hello = React.createClass({\n    getDefaultProps: function(){\n        return {\n            randomNumber: Math.random()\n        };\n    },\n    render: function() {\n        return <div>{this.props.name}: {this.props.randomNumber}</div>;\n    }\n});\n\nvar configData = {\n    foo: \"bar\"\n};\n\nconfigData.name = \"Example1\";\nReact.renderComponent(Hello(configData), document.getElementById(\"example1\"));\n\nconfigData.name = \"Example2\";\nReact.renderComponent(Hello (configData), document.getElementById(\"example2\"));\n```\n\nThe `this.props.randomNumber` from the first component will get carried to the second component because configData will be mutated.\n\nExample of this code: http://jsfiddle.net/ZeNLA/3/\n\nI asked this in reactjs irc, and here was the response:\n\n```\n[16:01] <@zpao> tommyh: it's a good question. one of the ways we keep React fast is to avoid clones when possible\n[16:02] <@zpao> cloning here will be really expensive since this is such a common task. BUT it's not outrageous...\n[16:05] <tommyh> yeah.  i figure most people use jsx so it's not an issue, but as its not a \"mandatory dependency\" it would be a bit of a narly issue to get stung by\n[16:05] <tommyh> and i can definetly code around it, just thought i'd get your guys thoughts on it\n[16:06] <@zpao> thanks for bringing it up... if you could file an issue too where we could discuss this with other people too, that would be helpdful\n```\n",
  "closed_by": {
    "login": "petehunt",
    "id": 239742,
    "node_id": "MDQ6VXNlcjIzOTc0Mg==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/239742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/petehunt",
    "html_url": "https://github.com/petehunt",
    "followers_url": "https://api.github.com/users/petehunt/followers",
    "following_url": "https://api.github.com/users/petehunt/following{/other_user}",
    "gists_url": "https://api.github.com/users/petehunt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/petehunt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/petehunt/subscriptions",
    "organizations_url": "https://api.github.com/users/petehunt/orgs",
    "repos_url": "https://api.github.com/users/petehunt/repos",
    "events_url": "https://api.github.com/users/petehunt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/petehunt/received_events",
    "type": "User",
    "site_admin": false
  }
}
