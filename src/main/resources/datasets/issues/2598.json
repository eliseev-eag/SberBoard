{
  "url": "https://api.github.com/repos/facebook/react/issues/2598",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/2598/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/2598/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/2598/events",
  "html_url": "https://github.com/facebook/react/issues/2598",
  "id": 50065657,
  "node_id": "MDU6SXNzdWU1MDA2NTY1Nw==",
  "number": 2598,
  "title": "Idea/Request: Add global 3rd party extension point to the React object",
  "user": {
    "login": "dougmartin",
    "id": 112938,
    "node_id": "MDQ6VXNlcjExMjkzOA==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/112938?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dougmartin",
    "html_url": "https://github.com/dougmartin",
    "followers_url": "https://api.github.com/users/dougmartin/followers",
    "following_url": "https://api.github.com/users/dougmartin/following{/other_user}",
    "gists_url": "https://api.github.com/users/dougmartin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dougmartin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dougmartin/subscriptions",
    "organizations_url": "https://api.github.com/users/dougmartin/orgs",
    "repos_url": "https://api.github.com/users/dougmartin/repos",
    "events_url": "https://api.github.com/users/dougmartin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dougmartin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 121709921,
      "node_id": "MDU6TGFiZWwxMjE3MDk5MjE=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Feature%20Request",
      "name": "Type: Feature Request",
      "color": "c7def8",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2014-11-25T18:25:58Z",
  "updated_at": "2016-10-27T14:26:05Z",
  "closed_at": "2016-10-27T14:26:05Z",
  "author_association": "NONE",
  "body": "tl/dr: Add an empty bare object called 'x' as a new member of the React object so that 3rd party React tools have a global extension point.\n\nI have a couple of internal tools I use with React that I would like to open source.  Both tools use a singleton object that is referenced and/or modified by components.\n\nI know I could create the object in the root component and pass it down as a prop but the child components may modify the object and that violates the idea of props being read-only.  It also means that if another person open sources a component which uses either of my tools that the user of the component must create that root object in their app and then wire it up down the component tree.\n\nTo keep things clean I would love to have a 3rd party extension space hanging off the React object that I could attach my tool's \"globals\" to so that all the components would have access to it given that they all share the same React global.  My suggestion is just to name it \"x\" and make it a bare object.  The documentation would encourage users to then add their own namespace to the object.\n\nHere are is very simple example that adds a 3rd party global event bus to a blogging app using EventEmitter which could be used both on the server and on the client via Browserify.\n\nIn app.js (the root component):\n\n```\nrequire('react-x-event');\n\nReact.x.event.bus.on('createPost', ...)\n```\n\nIn react-x-event.js\n\n```\nvar events = require('events');\nReact.x.event = {\n  bus: new events.EventEmitter(),\n  handle: function (e, event, data) {\n    e.preventDefault();\n    React.x.event.bus.emit(event, data)\n  }\n}\n```\n\nIn new-post.js (a component view shown at some point by a sub-component of app.js)\n\n```\ncreatePost: function(e) {\n  React.x.event.handle(e, 'createPost', ...)\n}\n\nrender: function () {\n  return <form>\n    ...\n   <button onClick={this.createPost}>Create</button>\n  </form>;\n}\n```\n\nWithout getting lost in the weeds arguing if a global event bus is a good idea for React you can see in this example that I didn't need to wire up the component tree with the bus to allow the sub-component to send a message.  \n\nThere is nothing from stopping me or anyone else from just globally patching the React object to add the x member but I think it would be better to have it \"blessed\" and added to the React code so that there are no conflicts in the future over that member name.  I also think having a common name like 'x' will allow 3rd party module names to announce how they work, eg require('react-x-event').\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
