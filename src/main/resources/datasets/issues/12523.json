{
  "url": "https://api.github.com/repos/facebook/react/issues/12523",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12523/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12523/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12523/events",
  "html_url": "https://github.com/facebook/react/issues/12523",
  "id": 310729193,
  "node_id": "MDU6SXNzdWUzMTA3MjkxOTM=",
  "number": 12523,
  "title": "Should getDerivedStateFromProps suppress 'state not initialized' warning?",
  "user": {
    "login": "Jessidhia",
    "id": 73085,
    "node_id": "MDQ6VXNlcjczMDg1",
    "avatar_url": "https://avatars1.githubusercontent.com/u/73085?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Jessidhia",
    "html_url": "https://github.com/Jessidhia",
    "followers_url": "https://api.github.com/users/Jessidhia/followers",
    "following_url": "https://api.github.com/users/Jessidhia/following{/other_user}",
    "gists_url": "https://api.github.com/users/Jessidhia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Jessidhia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Jessidhia/subscriptions",
    "organizations_url": "https://api.github.com/users/Jessidhia/orgs",
    "repos_url": "https://api.github.com/users/Jessidhia/repos",
    "events_url": "https://api.github.com/users/Jessidhia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Jessidhia/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2018-04-03T07:47:29Z",
  "updated_at": "2018-11-07T09:46:44Z",
  "closed_at": "2018-04-03T15:04:53Z",
  "author_association": "COLLABORATOR",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nEither a bug or a feature, depending on how the team sees it ü§∑‚Äç‚ôÄÔ∏è \r\n\r\n**What is the current behavior?**\r\n\r\nThe presence of `static getDerivedStateFromProps` does not suppress the warning about `state` not being initialized, even if it is always called, even on first render.\r\n\r\n```jsx\r\nclass Foo extends React.Component {\r\n  static getDerivedStateFromProps(props) {\r\n    return { a: props.a }\r\n  }\r\n\r\n  /* // uncommenting the constructor silences the warning, but is redundant work\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { a: props.a }\r\n  }\r\n  */\r\n\r\n  render() {\r\n    // this is slightly silly, but is an example\r\n    return this.state.a\r\n  }\r\n}\r\n```\r\n\r\n**What is the expected behavior?**\r\n`getDerivedStateFromProps` is always called, even on initial render, so maybe it should be considered as having initialized the state. This means that the second argument to it should be allowed to be undefined, as it would be on the first call if state is not initialized by the user. This change would not be a breaking change, as it depends on the user breaking from the pattern of initializing state in the constructor, although it brings memories of `createClass`'s `getInitialState`.\r\n\r\nAlternatively, it should not be called on initial render, and the class implementer would call its own getDerivedStateFromProps and spread its result on its initial state definition. This is clearly not possible anymore now that 16.3.0 is out.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n \r\n16.3.0",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
