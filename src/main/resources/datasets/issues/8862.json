{
  "url": "https://api.github.com/repos/facebook/react/issues/8862",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/8862/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/8862/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/8862/events",
  "html_url": "https://github.com/facebook/react/issues/8862",
  "id": 202994354,
  "node_id": "MDU6SXNzdWUyMDI5OTQzNTQ=",
  "number": 8862,
  "title": "ReactDOM.findDOMNode returns `undefined` unexpectedly in `componentDidMount`",
  "user": {
    "login": "viswans83",
    "id": 1302857,
    "node_id": "MDQ6VXNlcjEzMDI4NTc=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1302857?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/viswans83",
    "html_url": "https://github.com/viswans83",
    "followers_url": "https://api.github.com/users/viswans83/followers",
    "following_url": "https://api.github.com/users/viswans83/following{/other_user}",
    "gists_url": "https://api.github.com/users/viswans83/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/viswans83/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/viswans83/subscriptions",
    "organizations_url": "https://api.github.com/users/viswans83/orgs",
    "repos_url": "https://api.github.com/users/viswans83/repos",
    "events_url": "https://api.github.com/users/viswans83/events{/privacy}",
    "received_events_url": "https://api.github.com/users/viswans83/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-01-25T02:07:25Z",
  "updated_at": "2017-01-25T14:53:46Z",
  "closed_at": "2017-01-25T02:43:54Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\nI have two versions of a simple page. The page produces the text `Hello World!` and tries to register DOM event handlers for a few mouse events on the HTML element:\r\n - underline text on mouse over\r\n - remove underline on mouse out\r\n - make text red color on mouse down\r\n - return text to black color on mouse up\r\n\r\nAnd, finally also sets the elements `style.cursor` to `pointer`. The only difference between the two pages are the way the DOM event handlers are registered on the object returned by `ReactDOM.findDOMNode(...)`.\r\n\r\n### Bad Version\r\nLink: https://jsfiddle.net/rationalrevolt/e2j1sasw/\r\n\r\nThis version binds event handlers like this on `componentDidMount`:\r\n````\r\ncomponentDidMount: function () {\r\n  var _this = this;\r\n  (ReactDOM.findDOMNode(_this.refs.comp)).onmouseover = function () {\r\n    (ReactDOM.findDOMNode(_this.refs.comp)).style.textDecoration = 'underline';\r\n  }\r\n````\r\nThe JSFiddle link for this version produces the below error:\r\n````\r\nUncaught TypeError: Cannot read property 'style' of undefined\r\n    at Object.componentDidMount ((index):91)\r\n    at e.notifyAll (react-dom.min.js:12)\r\n    at r.close (react-dom.min.js:14)\r\n    at r.closeAll (react-dom.min.js:15)\r\n    at r.perform (react-dom.min.js:15)\r\n    at s (react-dom.min.js:14)\r\n    at r.perform (react-dom.min.js:15)\r\n    at Object.batchedUpdates (react-dom.min.js:14)\r\n    at Object.i [as batchedUpdates] (react-dom.min.js:14)\r\n    at Object._renderNewRootComponent (react-dom.min.js:14)\r\n````\r\n### Good Version\r\nLink: https://jsfiddle.net/rationalrevolt/zarwv09p/\r\n\r\nThis version binds event handlers like this on `componentDidMount`:\r\n````\r\ncomponentDidMount: function () {\r\n  (ReactDOM.findDOMNode(this.refs.comp)).onmouseover = function () {\r\n    (ReactDOM.findDOMNode(this.refs.comp)).style.textDecoration = 'underline';\r\n  }.bind(this);\r\n````\r\nThis JSFiddle link for this version behaves as expected.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/reactjs/69z2wepo/).**\r\nJSFiddle links to Bad and Good versions are provided.\r\n\r\n**What is the expected behavior?**\r\nIn my opinion, both the good version and bad version should behave in React 15.4 in the exact same way. Why does the bad version produce an error in React 15.4?\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nTested in Chrome (OS X and Windows), Safari (OS X).\r\nBad version does not work with React 15.4\r\nBad version worked with React 0.13.12",
  "closed_by": {
    "login": "aweary",
    "id": 6886061,
    "node_id": "MDQ6VXNlcjY4ODYwNjE=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6886061?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aweary",
    "html_url": "https://github.com/aweary",
    "followers_url": "https://api.github.com/users/aweary/followers",
    "following_url": "https://api.github.com/users/aweary/following{/other_user}",
    "gists_url": "https://api.github.com/users/aweary/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aweary/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aweary/subscriptions",
    "organizations_url": "https://api.github.com/users/aweary/orgs",
    "repos_url": "https://api.github.com/users/aweary/repos",
    "events_url": "https://api.github.com/users/aweary/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aweary/received_events",
    "type": "User",
    "site_admin": false
  }
}
