{
  "url": "https://api.github.com/repos/facebook/react/issues/13995",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13995/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13995/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13995/events",
  "html_url": "https://github.com/facebook/react/issues/13995",
  "id": 374617572,
  "node_id": "MDU6SXNzdWUzNzQ2MTc1NzI=",
  "number": 13995,
  "title": "hooks not plays well with mobx-react observer",
  "user": {
    "login": "chengcyber",
    "id": 16147702,
    "node_id": "MDQ6VXNlcjE2MTQ3NzAy",
    "avatar_url": "https://avatars1.githubusercontent.com/u/16147702?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chengcyber",
    "html_url": "https://github.com/chengcyber",
    "followers_url": "https://api.github.com/users/chengcyber/followers",
    "following_url": "https://api.github.com/users/chengcyber/following{/other_user}",
    "gists_url": "https://api.github.com/users/chengcyber/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chengcyber/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chengcyber/subscriptions",
    "organizations_url": "https://api.github.com/users/chengcyber/orgs",
    "repos_url": "https://api.github.com/users/chengcyber/repos",
    "events_url": "https://api.github.com/users/chengcyber/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chengcyber/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-10-27T07:36:40Z",
  "updated_at": "2019-02-06T13:21:40Z",
  "closed_at": "2018-10-27T15:04:42Z",
  "author_association": "NONE",
  "body": "\r\n**Do you want to request a *feature* or report a *bug*?**\r\nbug\r\n\r\n**What is the current behavior?**\r\n\r\nMy code is shown below, it complains 'Hooks can only be called inside the body of a function component.'\r\n\r\n```\r\nimport React, { useState } from 'react'\r\nimport { observer } from 'mobx-react'\r\n\r\nimport WishListItemEdit from './WishListItemEdit'\r\n\r\nconst WishListItemView = ({ item }) => {\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    const toggleEditing = () => setIsEditing(!isEditing)\r\n\r\n    if (isEditing) {\r\n        return (\r\n            <WishListItemEdit item={item} />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <li className=\"item\">\r\n            { item.image && <img src={item.image} /> }\r\n            <h3>{item.name}</h3>\r\n            <span>{item.price}</span>\r\n            <span>\r\n                <button onClick={toggleEditing}>Edit</button>\r\n            </span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default observer(WishListItemView)\r\n```\r\n\r\nafter removing the observer, using `export default WishListItemView`, it works.\r\nIs there a conflict between using mobx observer with react hooks? Since the component is no longer an observer component following the mobx pattern.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nI created my repo from CRA, and update both react and react-dom to 16.7-alpha.0\r\n\r\n\r\n**What is the expected behavior?**\r\n\r\nit works well with mobx-react observer\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n",
  "closed_by": {
    "login": "philipp-spiess",
    "id": 458591,
    "node_id": "MDQ6VXNlcjQ1ODU5MQ==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/458591?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/philipp-spiess",
    "html_url": "https://github.com/philipp-spiess",
    "followers_url": "https://api.github.com/users/philipp-spiess/followers",
    "following_url": "https://api.github.com/users/philipp-spiess/following{/other_user}",
    "gists_url": "https://api.github.com/users/philipp-spiess/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/philipp-spiess/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/philipp-spiess/subscriptions",
    "organizations_url": "https://api.github.com/users/philipp-spiess/orgs",
    "repos_url": "https://api.github.com/users/philipp-spiess/repos",
    "events_url": "https://api.github.com/users/philipp-spiess/events{/privacy}",
    "received_events_url": "https://api.github.com/users/philipp-spiess/received_events",
    "type": "User",
    "site_admin": false
  }
}
