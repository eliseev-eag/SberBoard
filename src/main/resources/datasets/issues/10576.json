{
  "url": "https://api.github.com/repos/facebook/react/issues/10576",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10576/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10576/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10576/events",
  "html_url": "https://github.com/facebook/react/issues/10576",
  "id": 254106070,
  "node_id": "MDU6SXNzdWUyNTQxMDYwNzA=",
  "number": 10576,
  "title": "Apparent Slow (25 Bytes per Render) Memory Leak with React / React-Dom?",
  "user": {
    "login": "larkintuckerllc",
    "id": 4379100,
    "node_id": "MDQ6VXNlcjQzNzkxMDA=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/4379100?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/larkintuckerllc",
    "html_url": "https://github.com/larkintuckerllc",
    "followers_url": "https://api.github.com/users/larkintuckerllc/followers",
    "following_url": "https://api.github.com/users/larkintuckerllc/following{/other_user}",
    "gists_url": "https://api.github.com/users/larkintuckerllc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/larkintuckerllc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/larkintuckerllc/subscriptions",
    "organizations_url": "https://api.github.com/users/larkintuckerllc/orgs",
    "repos_url": "https://api.github.com/users/larkintuckerllc/repos",
    "events_url": "https://api.github.com/users/larkintuckerllc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/larkintuckerllc/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-08-30T19:15:09Z",
  "updated_at": "2017-08-30T22:53:59Z",
  "closed_at": "2017-08-30T22:53:59Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\n*bug*\r\n\r\n**What is the current behavior?**\r\n\r\nIn a long-running React application, finding a very slow memory leak (looks to be about 25 bytes per render).  To eliminate virtually everything, wrote the simplest possible examples (at end of issue). \r\n\r\nTest methodology was to\r\n\r\nnote: Also disabled all Chrome extensions before testing and ran the production build (from create-react-app to eliminate any other possible source of leaks).\r\n\r\n1. pause execution early\r\n2. force multiple garbage collections (using Dev > Performance)\r\n3. record starting \"JavaScript memory - LIVE\" using  Google Chrome - Task Manager\r\n4. Run execution for 10,000 iterations.\r\n5. pause and record as in 1-3.\r\n\r\nMemory at start: 8,088K\r\nMemory at end: 8,345K\r\nDifference: 257K\r\n\r\nTo eliminate the browser, ran test with a simple loop (also at end of issue):\r\n\r\nMemory at start: 6,792K\r\nMemory at end: 6,813K\r\nDifference: 21K\r\n\r\nnote: I really cannot account for why this (maybe the console.log?)\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/84v837e9/).**\r\n\r\nSee code snippets at bottom; wanted to eliminate all sources of leaks so did not use JSFIDDLE.\r\n\r\n**What is the expected behavior?**\r\n\r\nExpect the memory usage to be the same as the simple test loop; really should not be any memory growth that is not cleaned up with garbage collection.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nBrowser: Chrome Version 59.0.3071.115 (Official Build) (64-bit) - LINUX\r\nreact: 15.6.1\r\nreact-dom: 15.6.1\r\ncreate-react-app (react-scripts): 1.0.12\r\n\r\nNot sure about previous versions of React.\r\n\r\n**SAMPLE: REACT APPLICATION**\r\n\r\n```\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    window.setInterval(() => {\r\n      this.setState({ test: 'Test' });\r\n    });\r\n  }\r\n  render() {\r\n    window.console.log('TEST');\r\n    return (<div>Test</div>);\r\n  }\r\n}\r\n```\r\n\r\n\r\n**SAMPLE: BASELINE APPLICATION**\r\n\r\n```\r\nwindow.setInterval(() => {\r\n  window.console.log('TEST');\r\n}, 20);\r\n```",
  "closed_by": {
    "login": "larkintuckerllc",
    "id": 4379100,
    "node_id": "MDQ6VXNlcjQzNzkxMDA=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/4379100?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/larkintuckerllc",
    "html_url": "https://github.com/larkintuckerllc",
    "followers_url": "https://api.github.com/users/larkintuckerllc/followers",
    "following_url": "https://api.github.com/users/larkintuckerllc/following{/other_user}",
    "gists_url": "https://api.github.com/users/larkintuckerllc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/larkintuckerllc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/larkintuckerllc/subscriptions",
    "organizations_url": "https://api.github.com/users/larkintuckerllc/orgs",
    "repos_url": "https://api.github.com/users/larkintuckerllc/repos",
    "events_url": "https://api.github.com/users/larkintuckerllc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/larkintuckerllc/received_events",
    "type": "User",
    "site_admin": false
  }
}
