{
  "url": "https://api.github.com/repos/facebook/react/issues/14953",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14953/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14953/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14953/events",
  "html_url": "https://github.com/facebook/react/issues/14953",
  "id": 414335006,
  "node_id": "MDU6SXNzdWU0MTQzMzUwMDY=",
  "number": 14953,
  "title": "Collapse forwardRef and other wrappers in React error stacks",
  "user": {
    "login": "natew",
    "id": 12100,
    "node_id": "MDQ6VXNlcjEyMTAw",
    "avatar_url": "https://avatars0.githubusercontent.com/u/12100?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/natew",
    "html_url": "https://github.com/natew",
    "followers_url": "https://api.github.com/users/natew/followers",
    "following_url": "https://api.github.com/users/natew/following{/other_user}",
    "gists_url": "https://api.github.com/users/natew/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/natew/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/natew/subscriptions",
    "organizations_url": "https://api.github.com/users/natew/orgs",
    "repos_url": "https://api.github.com/users/natew/repos",
    "events_url": "https://api.github.com/users/natew/events{/privacy}",
    "received_events_url": "https://api.github.com/users/natew/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 121709921,
      "node_id": "MDU6TGFiZWwxMjE3MDk5MjE=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Feature%20Request",
      "name": "Type: Feature Request",
      "color": "c7def8",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-02-25T22:20:17Z",
  "updated_at": "2019-03-28T03:43:21Z",
  "closed_at": null,
  "author_association": "NONE",
  "body": "**Feature**\r\n\r\n**What is the current behavior?**\r\n\r\nWith a UI kit that uses forwardRefs, I get error messages like this:\r\n\r\n![image](https://user-images.githubusercontent.com/12100/53372321-61ceae00-3907-11e9-9d20-190315cc7f06.png)\r\n\r\n**What is the expected behavior?**\r\n\r\nIt would look a lot better if forwardRefs were a bit less obtrusive, and if they picked up the functions displayName rather than just the name of the function they wrap.\r\n\r\nIn our UI Kit we have a pattern like:\r\n\r\n```\r\nconst View = forwardRef(function UIView(){ return <div /> })\r\nView.displayName = 'SomeDisplayName'\r\n```\r\n\r\nFor some reason it's not showing that, just showing the inner one. Further the \"bigness\" of ForwardRef() makes it hard to see visually when scanning. Perhaps something more like this would help:\r\n\r\n```\r\nWarning: Encountered two children with the same key, `confluence`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.\r\n    in div (created by ForwardRef(Gloss))\r\n    in Gloss (ForwardRef)\r\n    in Gloss (ForwardRef) (created by OnboardMain)\r\n    in div (created by Gloss (ForwardRef))\r\n    in Gloss (ForwardRef)\r\n    in Gloss (ForwardRef) (created by SliderPane)\r\n```\r\n\r\nFurther, the `created by` information is often more useful to me, but it's never aligned nicely. Could do something like:\r\n\r\n```\r\nWarning: Encountered two children with the same key, `confluence`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.\r\n      in div (created by ForwardRef(Gloss))\r\n      in Gloss (ForwardRef)\r\n    from OnboardMain:\r\n      in Gloss (ForwardRef)\r\n   from Gloss (ForwardRef):\r\n      in div\r\n      in Gloss (ForwardRef)\r\n   from SliderPane:\r\n      in Gloss (ForwardRef)\r\n```\r\n\r\nAll together, if it would pick up displayNames, the stack would be far more readable for me:\r\n\r\n\r\n```\r\nWarning: Encountered two children with the same key, `confluence`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.\r\n      in div (created by Row)\r\n      in View (forwardRef)\r\n    from OnboardMain:\r\n      in Row (forwardRef)\r\n   from Col (forwardRef):\r\n      in div\r\n      in Grid (forwardRef)\r\n   from SliderPane:\r\n      in View (forwardRef)\r\n```\r\n",
  "closed_by": null
}
