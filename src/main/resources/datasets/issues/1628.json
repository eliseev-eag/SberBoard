{
  "url": "https://api.github.com/repos/facebook/react/issues/1628",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/1628/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/1628/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/1628/events",
  "html_url": "https://github.com/facebook/react/issues/1628",
  "id": 34603290,
  "node_id": "MDU6SXNzdWUzNDYwMzI5MA==",
  "number": 1628,
  "title": "Component instance invalid after mounting/rendering to string",
  "user": {
    "login": "skidding",
    "id": 250750,
    "node_id": "MDQ6VXNlcjI1MDc1MA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/250750?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/skidding",
    "html_url": "https://github.com/skidding",
    "followers_url": "https://api.github.com/users/skidding/followers",
    "following_url": "https://api.github.com/users/skidding/following{/other_user}",
    "gists_url": "https://api.github.com/users/skidding/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/skidding/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/skidding/subscriptions",
    "organizations_url": "https://api.github.com/users/skidding/orgs",
    "repos_url": "https://api.github.com/users/skidding/repos",
    "events_url": "https://api.github.com/users/skidding/events{/privacy}",
    "received_events_url": "https://api.github.com/users/skidding/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2014-05-29T23:18:27Z",
  "updated_at": "2014-05-29T23:25:16Z",
  "closed_at": "2014-05-29T23:25:16Z",
  "author_association": "NONE",
  "body": "Here is a simple unit test example that worked with React 0.9 but doesn't with 0.10\n\n``` js\nvar React = require('react');\n\nvar ComponentClass = React.createClass({\n  render: function() {\n    return React.DOM.span(null, 'nada');\n  }\n});\n\ndescribe(\"Foo\", function() {\n  it(\"bar\", function() {\n    var componentInstance = ComponentClass();\n    // React Components need to be rendered to mount\n    React.renderComponentToString(componentInstance);\n    componentInstance.setState({name: 'John'});\n  });\n});\n```\n\n`componentInstance.setState` throws two errors when ran with `node-jasmine` (v1.14.3)\n\n> Invalid access to component property \"setState\" on Unknown at the top level. See http://fb.me/react-warning-descriptors . Use a static method instead: <Unknown />.type.setState(...)\n\nand\n\n> Stacktrace:\n>      ReferenceError: document is not defined\n>     at getActiveElement .../node_modules/react/lib/getActiveElement.js:30:12)\n>     at ReactReconcileTransaction.ReactInputSelection.getSelectionInformation .../node_modules/react/lib/ReactInputSelection.js:48:23)\n>     at ReactReconcileTransaction.Mixin.initializeAll .../node_modules/react/lib/Transaction.js:197:30)\n>     at ReactReconcileTransaction.Mixin.perform .../node_modules/react/lib/Transaction.js:158:12)\n>     at ReactComponent.Mixin.performUpdateIfNecessary .../node_modules/react/lib/ReactComponent.js:478:19)\n>     at ReactCompositeComponentMixin.performUpdateIfNecessary .../node_modules/react/lib/ReactCompositeComponent.js:1157:51)\n>     at Object.enqueueUpdate .../node_modules/react/lib/ReactUpdates.js:107:15)\n>     at ReactCompositeComponentMixin.replaceState .../node_modules/react/lib/ReactCompositeComponent.js:1041:18)\n>     at ReactCompositeComponentMixin.setState .../node_modules/react/lib/ReactCompositeComponent.js:1020:10)\n>     at fn.__reactMembraneFunction .../node_modules/react/lib/ReactCompositeComponent.js:687:19)\n1. How else can I access instance methods? renderComponentToString returns a string only.\n2. Why is the `document` required?\n",
  "closed_by": {
    "login": "sophiebits",
    "id": 6820,
    "node_id": "MDQ6VXNlcjY4MjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sophiebits",
    "html_url": "https://github.com/sophiebits",
    "followers_url": "https://api.github.com/users/sophiebits/followers",
    "following_url": "https://api.github.com/users/sophiebits/following{/other_user}",
    "gists_url": "https://api.github.com/users/sophiebits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sophiebits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sophiebits/subscriptions",
    "organizations_url": "https://api.github.com/users/sophiebits/orgs",
    "repos_url": "https://api.github.com/users/sophiebits/repos",
    "events_url": "https://api.github.com/users/sophiebits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sophiebits/received_events",
    "type": "User",
    "site_admin": false
  }
}
