{
  "url": "https://api.github.com/repos/facebook/react/issues/5560",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/5560/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/5560/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/5560/events",
  "html_url": "https://github.com/facebook/react/issues/5560",
  "id": 119286053,
  "node_id": "MDU6SXNzdWUxMTkyODYwNTM=",
  "number": 5560,
  "title": "Server-side rendering of style attribute always causes invalid checksum",
  "user": {
    "login": "Download",
    "id": 153391,
    "node_id": "MDQ6VXNlcjE1MzM5MQ==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/153391?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Download",
    "html_url": "https://github.com/Download",
    "followers_url": "https://api.github.com/users/Download/followers",
    "following_url": "https://api.github.com/users/Download/following{/other_user}",
    "gists_url": "https://api.github.com/users/Download/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Download/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Download/subscriptions",
    "organizations_url": "https://api.github.com/users/Download/orgs",
    "repos_url": "https://api.github.com/users/Download/repos",
    "events_url": "https://api.github.com/users/Download/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Download/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2015-11-28T11:00:55Z",
  "updated_at": "2015-11-30T23:21:05Z",
  "closed_at": "2015-11-28T19:29:18Z",
  "author_association": "NONE",
  "body": "I'm working on server-side rendering of a React app using Nashorn. It's going ok, I got a basic skeleton app running. However, I've been getting this warning a lot:\n\n> Warning: React attempted to reuse markup in a container but the checksum was invalid.\n\nWhat I find strange is that in most cases, the problem seems to revolve around the `style` attribute:\n\n> Instead, figure out why the markup being generated is different on the client or server:\n>  (client) ScrollSpacerBefore\" style=\"height:0;\" da\n>  (server) ScrollSpacerBefore\" data-reactid=\".fwzq0\n\nThe fragment `style=\"height:0;\"` is missing from the server-rendered piece... If I remove setting the style prop the issue is always resolved...\n\nThis gives me the warning:\n\n``` js\nrender() {\n    var styleBefore = this.props.direction === 'horizontal' ? {width:this.state.sizeBefore} : {height:this.state.sizeBefore};\n    var styleAfter = this.props.direction === 'horizontal' ? {width:this.state.sizeAfter} : {height:this.state.sizeAfter};\n    return (\n        <div className={'Scroller' + this.props.direction}>\n            <div className=\"ScrollSlider\" ref=\"slider\">\n                <div className=\"ScrollSpacer ScrollSpacerBefore\" ref=\"spacerBefore\" style={styleBefore} />\n                {this.state.renderedItems.map(this.props.renderItem)}\n                <div className=\"ScrollSpacer ScrollSpacerAfter\" ref=\"spacerAfter\" style={styleAfter} />\n            </div>\n        </div>\n    );\n}\n```\n\nWhile this fixes it:\n\n``` js\nrender() {\n    var styleBefore = this.props.direction === 'horizontal' ? {width:this.state.sizeBefore} : {height:this.state.sizeBefore};\n    var styleAfter = this.props.direction === 'horizontal' ? {width:this.state.sizeAfter} : {height:this.state.sizeAfter};\n    return (\n        <div className={'Scroller' + this.props.direction}>\n            <div className=\"ScrollSlider\" ref=\"slider\">\n                <div className=\"ScrollSpacer ScrollSpacerBefore\" ref=\"spacerBefore\" /* style={styleBefore} */ />\n                {this.state.renderedItems.map(this.props.renderItem)}\n                <div className=\"ScrollSpacer ScrollSpacerAfter\" ref=\"spacerAfter\" /* style={styleAfter} */ />\n            </div>\n        </div>\n    );\n}\n```\n\n(notice that I commented out the two style props)\n\nIs this intended behavior? If so, what can I do about it?\n",
  "closed_by": {
    "login": "zpao",
    "id": 8445,
    "node_id": "MDQ6VXNlcjg0NDU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zpao",
    "html_url": "https://github.com/zpao",
    "followers_url": "https://api.github.com/users/zpao/followers",
    "following_url": "https://api.github.com/users/zpao/following{/other_user}",
    "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
    "organizations_url": "https://api.github.com/users/zpao/orgs",
    "repos_url": "https://api.github.com/users/zpao/repos",
    "events_url": "https://api.github.com/users/zpao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zpao/received_events",
    "type": "User",
    "site_admin": false
  }
}
