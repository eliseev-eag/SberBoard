{
  "url": "https://api.github.com/repos/facebook/react/issues/16634",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16634/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16634/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16634/events",
  "html_url": "https://github.com/facebook/react/issues/16634",
  "id": 488185159,
  "node_id": "MDU6SXNzdWU0ODgxODUxNTk=",
  "number": 16634,
  "title": "Limitations of context API compared to legacy implementation",
  "user": {
    "login": "use-strict",
    "id": 9483866,
    "node_id": "MDQ6VXNlcjk0ODM4NjY=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/9483866?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/use-strict",
    "html_url": "https://github.com/use-strict",
    "followers_url": "https://api.github.com/users/use-strict/followers",
    "following_url": "https://api.github.com/users/use-strict/following{/other_user}",
    "gists_url": "https://api.github.com/users/use-strict/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/use-strict/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/use-strict/subscriptions",
    "organizations_url": "https://api.github.com/users/use-strict/orgs",
    "repos_url": "https://api.github.com/users/use-strict/repos",
    "events_url": "https://api.github.com/users/use-strict/events{/privacy}",
    "received_events_url": "https://api.github.com/users/use-strict/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929155,
      "node_id": "MDU6TGFiZWw0MDkyOTE1NQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Question",
      "name": "Type: Question",
      "color": "cc317c",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-09-02T13:14:47Z",
  "updated_at": "2019-09-03T13:12:05Z",
  "closed_at": "2019-09-03T13:12:05Z",
  "author_association": "NONE",
  "body": "This isn't technically a bug, but a limitation of the new context API implementation and also a question on whether this should be fixed by React, or if I should implement a custom, in-house, solution instead.\r\n\r\nI have a fairly \"edgy\" use-case with a component library that provides several parent-child components (e.g. tabs, accordions etc.). This looks like a standard context use-case so far. However, the library has to work in a plugin-based environment, meaning the parent and child components are rendered by two completely independent apps (host app and plugins respectively).\r\n\r\nExample:\r\n```jsx\r\n<Accordion> <!-- provided by host app -->\r\n    <!-- provided by separate plugin -->\r\n    <AccordionItem label=\"item 1\">Content</AccordionItem>\r\n    //...\r\n</Accordion>\r\n```\r\n\r\nThus, two separate instances of the component library are created, one for the host app and one in the plugin scope, but they still have to communicate with each other, behind the scenes, while keeping it transparent to the user.\r\n\r\nThis worked seamlessly with the legacy context API, but now with the new one, it breaks. That is because `React.createContext` returns an object that now has to be explicitly shared between the components, by means of an import. But because of the decoupled architecture of the app, and multiple instance of the library being used, this seems impossible to do.\r\n\r\nAs stated in the docs, the legacy context API is deprecated and will be removed in future versions of React (17+?), so I'd like to avoid being stuck on React 16, when that happens.\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
