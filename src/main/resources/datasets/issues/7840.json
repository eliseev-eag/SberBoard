{
  "url": "https://api.github.com/repos/facebook/react/issues/7840",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/7840/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/7840/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/7840/events",
  "html_url": "https://github.com/facebook/react/pull/7840",
  "id": 180374104,
  "node_id": "MDExOlB1bGxSZXF1ZXN0ODc1NDUwNTk=",
  "number": 7840,
  "title": "Fix UMD bundles, making safe to use as required modules",
  "user": {
    "login": "zpao",
    "id": 8445,
    "node_id": "MDQ6VXNlcjg0NDU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zpao",
    "html_url": "https://github.com/zpao",
    "followers_url": "https://api.github.com/users/zpao/followers",
    "following_url": "https://api.github.com/users/zpao/following{/other_user}",
    "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
    "organizations_url": "https://api.github.com/users/zpao/orgs",
    "repos_url": "https://api.github.com/users/zpao/repos",
    "events_url": "https://api.github.com/users/zpao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zpao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/facebook/react/milestones/34",
    "html_url": "https://github.com/facebook/react/milestone/34",
    "labels_url": "https://api.github.com/repos/facebook/react/milestones/34/labels",
    "id": 2015046,
    "node_id": "MDk6TWlsZXN0b25lMjAxNTA0Ng==",
    "number": 34,
    "title": "15.4.0",
    "description": "",
    "creator": {
      "login": "zpao",
      "id": 8445,
      "node_id": "MDQ6VXNlcjg0NDU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zpao",
      "html_url": "https://github.com/zpao",
      "followers_url": "https://api.github.com/users/zpao/followers",
      "following_url": "https://api.github.com/users/zpao/following{/other_user}",
      "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
      "organizations_url": "https://api.github.com/users/zpao/orgs",
      "repos_url": "https://api.github.com/users/zpao/repos",
      "events_url": "https://api.github.com/users/zpao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zpao/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 93,
    "state": "closed",
    "created_at": "2016-09-19T21:13:22Z",
    "updated_at": "2016-11-22T22:43:01Z",
    "due_on": null,
    "closed_at": "2016-11-22T22:43:01Z"
  },
  "comments": 2,
  "created_at": "2016-09-30T18:41:42Z",
  "updated_at": "2016-10-04T21:19:55Z",
  "closed_at": "2016-10-03T22:49:10Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/7840",
    "html_url": "https://github.com/facebook/react/pull/7840",
    "diff_url": "https://github.com/facebook/react/pull/7840.diff",
    "patch_url": "https://github.com/facebook/react/pull/7840.patch"
  },
  "body": "I think this fixes the problem. There's a giant comment in there explaining why and how.\n\nI want to stress that this is a short-term solution. It works and the reasoning is sound but I'm not happy that we need this. It's probably time to start using webpack to bundle but that would have taken me much longer to go do.\n\nByte-wise this should be fine. We're just adding the code that you can see in there. Since we do this after the bundle process is done, that `require('react')` isn't analyzed.\n## Todo:\n- [x] Look for any other expected globals in shims\n- [x] Use this in other bundles\n- [x] Look into the RequireJS situation. I honestly don't care much about that but we should probably make it work. It would require rejiggering the wrapper (since we couldn't execute the UMDed module immediately)\n\ncc @facebook/react-core \n\nFixes #7482 \n## Test Plan:\n- Made a hello world app with webpack and aliased `react` and `react-dom`.\n- Ran the same hello world using the dist files directly (so React & ReactDOM were globals).\n",
  "closed_by": {
    "login": "zpao",
    "id": 8445,
    "node_id": "MDQ6VXNlcjg0NDU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zpao",
    "html_url": "https://github.com/zpao",
    "followers_url": "https://api.github.com/users/zpao/followers",
    "following_url": "https://api.github.com/users/zpao/following{/other_user}",
    "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
    "organizations_url": "https://api.github.com/users/zpao/orgs",
    "repos_url": "https://api.github.com/users/zpao/repos",
    "events_url": "https://api.github.com/users/zpao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zpao/received_events",
    "type": "User",
    "site_admin": false
  }
}
