{
  "url": "https://api.github.com/repos/facebook/react/issues/12268",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12268/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12268/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12268/events",
  "html_url": "https://github.com/facebook/react/issues/12268",
  "id": 299498173,
  "node_id": "MDU6SXNzdWUyOTk0OTgxNzM=",
  "number": 12268,
  "title": "Checkboxes handling going wrong",
  "user": {
    "login": "varunrajasekhar",
    "id": 18426078,
    "node_id": "MDQ6VXNlcjE4NDI2MDc4",
    "avatar_url": "https://avatars0.githubusercontent.com/u/18426078?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/varunrajasekhar",
    "html_url": "https://github.com/varunrajasekhar",
    "followers_url": "https://api.github.com/users/varunrajasekhar/followers",
    "following_url": "https://api.github.com/users/varunrajasekhar/following{/other_user}",
    "gists_url": "https://api.github.com/users/varunrajasekhar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/varunrajasekhar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/varunrajasekhar/subscriptions",
    "organizations_url": "https://api.github.com/users/varunrajasekhar/orgs",
    "repos_url": "https://api.github.com/users/varunrajasekhar/repos",
    "events_url": "https://api.github.com/users/varunrajasekhar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/varunrajasekhar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-02-22T20:32:49Z",
  "updated_at": "2018-08-08T23:14:01Z",
  "closed_at": "2018-08-08T23:14:01Z",
  "author_association": "NONE",
  "body": "I am having a weird issue:\r\nI have a button called assign and when I click on it, a modal with userslist(checkboxes) opens\r\nThis modal has a confirm and cancel button. THe buttons functionality should be such as\r\nWhen I click on confirm, the checked or unchecked data(no matter what selection is made) should save and when I click on cancel any data should revert back to confirmed(saved) data.\r\nI have built my component such that when loading initially, I am copying the state and then the 'copystate' changes are saved to original state when confirmed and when cancelled, original state changes are copied to 'copystate'.\r\nBut what is happening is the state is getting updated no matter what change I make in the copystate. and the copystate and original state are having the same data.\r\n\r\nCan somebody help me with this:\r\nBelow is my render method:\r\n\r\n```\r\nrender() {\r\n    const ready = this.state.ready;\r\n    return (\r\n      <div>\r\n        {ready &&\r\n          this.state.data.addOnProducts.map((val, idx) => {\r\n            const userListIndex = val.indexOf()\r\n            return (\r\n              <div key={idx}>\r\n                <button className={`btn btn--rounded btn--assign`} onClick={() => this.openModal(idx)}>\r\n                  {'assign'}\r\n                </button>\r\n                {this.state.showModal && (\r\n                  <CheckboxList\r\n                    key={idx}\r\n                    list={this.state.newData.addOnProducts[this.state.currentAddOnIndex].usersData.usersList}\r\n                    selectHandler={this.assignHandler}\r\n                    //label={this.state.newData.addOnProducts[this.state.currentAddOnIndex].usersData.usersList}\r\n                  />\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    );\r\n  }\r\n```\r\n\r\nBelow is my assign handler:\r\n\r\n```\r\nassignHandler(idx) {\r\n    const newData = Object.assign({}, this.state.newData);\r\n    console.log('state list',this.state.newData.addOnProducts[this.state.currentAddOnIndex].usersData.usersList);\r\n    console.log('newData list',this.state.newData.addOnProducts[this.state.currentAddOnIndex].usersData.usersList);\r\n    newData.addOnProducts[this.state.currentAddOnIndex].usersData.usersList.map((user, index) => {\r\n      if (index === idx) {\r\n        user.selected = !user.selected;\r\n      }\r\n     return user;\r\n    });\r\n    this.setState(\r\n    {\r\n      newData: Object.assign({}, newData)\r\n    }, function() {\r\n      console.log('state list',this.state.data.addOnProducts[this.state.currentAddOnIndex].usersData.usersList);\r\n      console.log('newData list',this.state.newData.addOnProducts[this.state.currentAddOnIndex].usersData.usersList);\r\n    });\r\n  };\r\n```\r\nThis is Cancel Method:\r\n\r\n```\r\n cancelAssignUsers() {\r\n        const stateUsersList = Object.assign({}, this.state.data.addOnProducts[this.state.currentAddOnIndex].usersData);\r\n        const newDataCopy = Object.assign({}, this.state.newData);\r\n    console.log(stateUsersList.usersList);\r\n        newDataCopy.addOnProducts[this.state.currentAddOnIndex].usersData.usersList = stateUsersList.usersList;\r\n    console.log(newDataCopy.addOnProducts[this.state.currentAddOnIndex].usersData.usersList);\r\n        this.setState({\r\n          showModal: false,\r\n          newData: Object.assign({}, newDataCopy)\r\n        });\r\n  }\r\n```\r\n\r\nthis is my confirm method:\r\n```\r\nconfirmAssignUsers() {\r\n    const newDataUsersList = Object.assign(\r\n      {},\r\n      this.state.newData.addOnProducts[this.state.currentAddOnIndex].usersData\r\n    );\r\n    const stateCopy = Object.assign({}, this.state.data);\r\n    stateCopy.addOnProducts[this.state.currentAddOnIndex].usersData.usersList = newDataUsersList.usersList;\r\nconsole.log(stateCopy.addOnProducts[this.state.currentAddOnIndex].usersData.usersList);\r\n    this.setState({\r\n      showModal: false,\r\n      data: Object.assign({}, stateCopy)\r\n    });\r\n  }\r\n```",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
