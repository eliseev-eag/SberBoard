{
  "url": "https://api.github.com/repos/facebook/react/issues/16190",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16190/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16190/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16190/events",
  "html_url": "https://github.com/facebook/react/issues/16190",
  "id": 472138964,
  "node_id": "MDU6SXNzdWU0NzIxMzg5NjQ=",
  "number": 16190,
  "title": "Question: Context API in conjunction with useState",
  "user": {
    "login": "sergeykaikin",
    "id": 8362026,
    "node_id": "MDQ6VXNlcjgzNjIwMjY=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8362026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sergeykaikin",
    "html_url": "https://github.com/sergeykaikin",
    "followers_url": "https://api.github.com/users/sergeykaikin/followers",
    "following_url": "https://api.github.com/users/sergeykaikin/following{/other_user}",
    "gists_url": "https://api.github.com/users/sergeykaikin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sergeykaikin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sergeykaikin/subscriptions",
    "organizations_url": "https://api.github.com/users/sergeykaikin/orgs",
    "repos_url": "https://api.github.com/users/sergeykaikin/repos",
    "events_url": "https://api.github.com/users/sergeykaikin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sergeykaikin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-07-24T08:07:58Z",
  "updated_at": "2019-07-24T10:27:48Z",
  "closed_at": "2019-07-24T10:27:48Z",
  "author_association": "NONE",
  "body": "I am trying to understand whether it is a good idea to do the following:\r\n\r\n```javascript\r\n// NOTE: I deliberately skipped ValuesContext initialisation to make code shorter\r\n\r\nconst Counter = () => (\r\n  <ValuesContext.Consumer>\r\n    {({ counter, setCounter }) => (\r\n      <span>{counter}</span>\r\n      <button onClick={() => setCounter(counter + 1)}>Increase counter</button>\r\n    )}\r\n  </ValuesContext.Consumer>\r\n);\r\n\r\nconst Text = () => (\r\n  <ValuesContext.Consumer>\r\n    {({ text, setText }) => (\r\n      <span>{text}</span>\r\n      <input type=\"text\" value={text} onChange={({ target: { value } }) => setText(value)} />\r\n    )}\r\n  </ValuesContext.Consumer>\r\n);\r\n\r\nconst App = () => {\r\n  const [activePage, setActivePage] = useState('one');\r\n  const [counter, setCounter] = useState(1);\r\n  const [text, setText] = useState('');\r\n\r\n  return (\r\n    <ValuesContext.Provider value={{\r\n      activePage,\r\n      setActivePage,\r\n      counter,\r\n      setCounter,\r\n      text,\r\n      setText\r\n    }}>\r\n      <button onClick={() => setActivePage(activePage === 'one' ? 'two' : 'one')}>Toggle pages</button>\r\n      {activePage === 'one' && <Counter />}\r\n      {activePage === 'two' && <Text />}\r\n    </ValuesContext.Provider>\r\n  );\r\n};\r\n```\r\n\r\nTechnically I am not breaking [hook rules](https://reactjs.org/docs/hooks-rules.html#explanation) but passing setter functions to other components and those setters may be used inside loops, conditions, or even nested functions. \r\n\r\nSo far everything seems to work fine but I am wondering whether this is a good idea before I start getting weird issues. Do you see/foresee any issues with this approach?\r\n\r\nThanks in advance for your help/advice.",
  "closed_by": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  }
}
