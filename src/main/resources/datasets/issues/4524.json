{
  "url": "https://api.github.com/repos/facebook/react/issues/4524",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/4524/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/4524/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/4524/events",
  "html_url": "https://github.com/facebook/react/issues/4524",
  "id": 98242659,
  "node_id": "MDU6SXNzdWU5ODI0MjY1OQ==",
  "number": 4524,
  "title": "False Warning: Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child.",
  "user": {
    "login": "xpepermint",
    "id": 174279,
    "node_id": "MDQ6VXNlcjE3NDI3OQ==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/174279?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xpepermint",
    "html_url": "https://github.com/xpepermint",
    "followers_url": "https://api.github.com/users/xpepermint/followers",
    "following_url": "https://api.github.com/users/xpepermint/following{/other_user}",
    "gists_url": "https://api.github.com/users/xpepermint/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xpepermint/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xpepermint/subscriptions",
    "organizations_url": "https://api.github.com/users/xpepermint/orgs",
    "repos_url": "https://api.github.com/users/xpepermint/repos",
    "events_url": "https://api.github.com/users/xpepermint/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xpepermint/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2015-07-30T19:21:28Z",
  "updated_at": "2015-07-30T21:37:40Z",
  "closed_at": "2015-07-30T21:37:40Z",
  "author_association": "NONE",
  "body": "Running the code below on the server side, which bootstraps [Alt](alt.js.org) stores, displays a warning message `Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child.` when the the `snapshot` variable has nested JSON objects.\n\n``` js\nexport default (req, res, next) => {\n  Cookie.setRawCookie(req.headers.cookie || '');\n\n  let location = new Location(req.path, req.query);\n  Router.run(routes, location, (error, state, transition) => {\n    if (error) return next(error);\n    if (transition.isCancelled) return res.redirect(transition.redirectInfo.pathname);\n\n    bootstrap(state, req).then(snapshot => {\n      Alt.bootstrap(snapshot); // HERE!!!!!!!!!\n\n      let markup = ReactDomServer.renderToString(<Router {...state}/>);\n      let html = Iso.render(markup, Alt.flush());\n      res.render('index', {html});\n    }).catch(next);\n  });\n};\n```\n\nServer will output this:\n\n``` html\n\n<!DOCTYPE html><html lang=\"en\"><head><title>React App</title><link href=\"http://localhost:4445/bundle.731b7891885111ef8124.css\" media=\"all\" rel=\"stylesheet\" type=\"text/css\"></head><body>\n<div class=\"___iso-html___\" data-key=\"0\"><div data-reactid=\".kdi2muzp4w\" data-react-checksum=\"1597768506\"><div data-reactid=\".kdi2muzp4w.0\"><span data-reactid=\".kdi2muzp4w.0.0\">Authenticated: </span><span data-reactid=\".kdi2muzp4w.0.1\">true</span></div><ul data-reactid=\".kdi2muzp4w.1\"><li data-reactid=\".kdi2muzp4w.1.0\"><a class=\"active\" href=\"/\" data-reactid=\".kdi2muzp4w.1.0.0\">Home</a></li><li data-reactid=\".kdi2muzp4w.1.1\"><a class=\"active\" href=\"/stats\" data-reactid=\".kdi2muzp4w.1.1.0\">Stats</a></li><li data-reactid=\".kdi2muzp4w.1.2\"><a class=\"\" href=\"/login\" data-reactid=\".kdi2muzp4w.1.2.0\">Login</a><span data-reactid=\".kdi2muzp4w.1.2.1\"> | </span><a class=\"\" href=\"/logout\" data-reactid=\".kdi2muzp4w.1.2.2\">Logout</a></li><li data-reactid=\".kdi2muzp4w.1.3\"><a class=\"\" href=\"/projects\" data-reactid=\".kdi2muzp4w.1.3.0\">Projects</a></li></ul><div data-reactid=\".kdi2muzp4w.2\"><div data-reactid=\".kdi2muzp4w.2.0\"><span data-reactid=\".kdi2muzp4w.2.0.0\">Environment: </span><span data-reactid=\".kdi2muzp4w.2.0.1\">development</span></div><div data-reactid=\".kdi2muzp4w.2.1\"><span data-reactid=\".kdi2muzp4w.2.1.0\">Platform: </span><span data-reactid=\".kdi2muzp4w.2.1.1\">darwin</span></div><div data-reactid=\".kdi2muzp4w.2.2\"><span data-reactid=\".kdi2muzp4w.2.2.0\">MemoryUsage: </span><span data-reactid=\".kdi2muzp4w.2.2.1:$rss:0\">98435072</span><span data-reactid=\".kdi2muzp4w.2.2.1:$heapTotal:0\">76464640</span><span data-reactid=\".kdi2muzp4w.2.2.1:$heapUsed:0\">50990096</span></div><div data-reactid=\".kdi2muzp4w.2.3\"><span data-reactid=\".kdi2muzp4w.2.3.0\">Uptime: </span><span data-reactid=\".kdi2muzp4w.2.3.1\">1086.548</span></div></div></div></div>\n<div class=\"___iso-state___\" data-key=\"0\" data-meta=\"{}\" data-state=\"&quot;{\\&quot;SessionStore\\&quot;:{},\\&quot;ProjectStore\\&quot;:{},\\&quot;ProjectsStore\\&quot;:{},\\&quot;StatsStore\\&quot;:{\\&quot;env\\&quot;:\\&quot;development\\&quot;,\\&quot;platform\\&quot;:\\&quot;darwin\\&quot;,\\&quot;memoryUsage\\&quot;:{\\&quot;rss\\&quot;:98435072,\\&quot;heapTotal\\&quot;:76464640,\\&quot;heapUsed\\&quot;:50990096},\\&quot;uptime\\&quot;:1086.548}}&quot;\"></div>\n<script src=\"http://localhost:4445/bundle.731b7891885111ef8124.js\" type=\"text/javascript\" async></script></body></html>\n```\n\nSnapshot variable example:\n\n``` js\n// warning IS visible\n{\"StatsStore\":{\"env\":\"development\",\"platform\":\"darwin\",\"memoryUsage\":{\"rss\":98435072,\"heapTotal\":76464640,\"heapUsed\":50990096},\"uptime\":1086.548}}\n```\n\n``` js\n// warning IS NOT visible\n{\"StatsStore\":{\"env\":\"development\",\"platform\":\"darwin\",\"memoryUsage\": null,\"uptime\":1086.548}}\n```\n\nI'm using `react 0.14.0-beta1` and `react-dom 0.14.0-beta1`. The source code is available [here](https://github.com/xpepermint/isomorphic-react-flux-boilerplate). Any suggestions?\n",
  "closed_by": {
    "login": "xpepermint",
    "id": 174279,
    "node_id": "MDQ6VXNlcjE3NDI3OQ==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/174279?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xpepermint",
    "html_url": "https://github.com/xpepermint",
    "followers_url": "https://api.github.com/users/xpepermint/followers",
    "following_url": "https://api.github.com/users/xpepermint/following{/other_user}",
    "gists_url": "https://api.github.com/users/xpepermint/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xpepermint/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xpepermint/subscriptions",
    "organizations_url": "https://api.github.com/users/xpepermint/orgs",
    "repos_url": "https://api.github.com/users/xpepermint/repos",
    "events_url": "https://api.github.com/users/xpepermint/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xpepermint/received_events",
    "type": "User",
    "site_admin": false
  }
}
