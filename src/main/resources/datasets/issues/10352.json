{
  "url": "https://api.github.com/repos/facebook/react/issues/10352",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10352/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10352/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10352/events",
  "html_url": "https://github.com/facebook/react/issues/10352",
  "id": 247394217,
  "node_id": "MDU6SXNzdWUyNDczOTQyMTc=",
  "number": 10352,
  "title": "Wrong \"Each child should have a key prop\" warning with babel-plugin-transform-react-inline-elements ",
  "user": {
    "login": "lostpebble",
    "id": 1508863,
    "node_id": "MDQ6VXNlcjE1MDg4NjM=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1508863?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lostpebble",
    "html_url": "https://github.com/lostpebble",
    "followers_url": "https://api.github.com/users/lostpebble/followers",
    "following_url": "https://api.github.com/users/lostpebble/following{/other_user}",
    "gists_url": "https://api.github.com/users/lostpebble/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lostpebble/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lostpebble/subscriptions",
    "organizations_url": "https://api.github.com/users/lostpebble/orgs",
    "repos_url": "https://api.github.com/users/lostpebble/repos",
    "events_url": "https://api.github.com/users/lostpebble/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lostpebble/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 17,
  "created_at": "2017-08-02T13:44:14Z",
  "updated_at": "2017-12-31T19:20:50Z",
  "closed_at": "2017-10-04T20:23:48Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nFeature / Bug\r\n\r\n**What is the current behavior?**\r\n\r\n```\r\nWarning: Each child in an array or iterator should have a unique \"key\" prop. See https://fb.me/react-warning-keys for more information.\r\n    in div\r\n    in div\r\n    in LandingPage (created by RouterContext)\r\n    in Transition (created by CSSTransition)\r\n    in CSSTransition\r\n    in div (created by TransitionGroup)\r\n    in TransitionGroup\r\n    in AnimateComponentSwap\r\n    in section\r\n    in div\r\n    in div\r\n    in App (created by inject-App-with-UIStore)\r\n    in inject-App-with-UIStore (created by RouterContext)\r\n    in RouterContext (created by Router)\r\n    in Router\r\n    in MuiThemeProvider\r\n    in Provider\r\n```\r\n\r\nThe warning seems to say there is a `div` inside of a `div` inside of my `LandingPage` component which has incorrect key props.\r\n\r\nBut in actual fact it was this element inside a `div` inside the component that was causing the problem:\r\n\r\n```\r\n<h1 ref=\"landingLabel\" className=\"label\">\r\n    I'm looking for things to do in\r\n</h1>\r\n```\r\n\r\nWhen I add a key prop, such as `key=\"landing-label\"` the warning disappears.\r\n\r\nBut, the warning also disappears when I remove the `ref=\"landingLabel\"` ref string. I know that this is now deprecated, but I don't get any further warnings about it - and it seems like string refs and key prop warnings might be combining somehow.\r\n\r\nAnother reason why it was confusing is because my component does not have any array inside of it for its children, or iterate over anything - which I think is where keys are actually only really required. The component looks like this:\r\n\r\n```\r\n<div className=\"full-page-content\">\r\n   <div className=\"landing-blurb\">\r\n      <div key=\"logo\" className=\"logo\">\r\n        <LogoSvg />\r\n      </div>\r\n      <div className=\"animation\">\r\n         <TransitionGroup>\r\n            {svgAnimation}\r\n         </TransitionGroup>\r\n      </div>\r\n      <h1 ref=\"landingLabel\" className=\"label\">\r\n          I'm looking for things to do in\r\n      </h1>\r\n   </div>\r\n</div>\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nA more targeted warning - either a problem with key props or a problem with string refs... (or both, but clearly separated) And also targeted to the correct element - in this case an `h1` instead of a `div`.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nReact 16.0.0-beta.2\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
