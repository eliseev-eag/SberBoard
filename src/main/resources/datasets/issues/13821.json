{
  "url": "https://api.github.com/repos/facebook/react/issues/13821",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13821/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13821/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13821/events",
  "html_url": "https://github.com/facebook/react/issues/13821",
  "id": 368833780,
  "node_id": "MDU6SXNzdWUzNjg4MzM3ODA=",
  "number": 13821,
  "title": "Context Consumer forcing the first child to always re-render on state change",
  "user": {
    "login": "CarsonMcKinstry",
    "id": 20241451,
    "node_id": "MDQ6VXNlcjIwMjQxNDUx",
    "avatar_url": "https://avatars0.githubusercontent.com/u/20241451?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CarsonMcKinstry",
    "html_url": "https://github.com/CarsonMcKinstry",
    "followers_url": "https://api.github.com/users/CarsonMcKinstry/followers",
    "following_url": "https://api.github.com/users/CarsonMcKinstry/following{/other_user}",
    "gists_url": "https://api.github.com/users/CarsonMcKinstry/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CarsonMcKinstry/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CarsonMcKinstry/subscriptions",
    "organizations_url": "https://api.github.com/users/CarsonMcKinstry/orgs",
    "repos_url": "https://api.github.com/users/CarsonMcKinstry/repos",
    "events_url": "https://api.github.com/users/CarsonMcKinstry/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CarsonMcKinstry/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-10-10T20:14:03Z",
  "updated_at": "2018-10-12T17:05:03Z",
  "closed_at": "2018-10-12T16:48:33Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nbug\r\n\r\n**What is the current behavior?**\r\nWhen using the context API, the first element inside of a consumer will always re-render on context change, whether it should or not. \r\n\r\n![weird-rendering](https://user-images.githubusercontent.com/20241451/46762998-36bc2880-cc9e-11e8-8fec-c5352606e500.gif)\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nWhile I was getting deeper into optimization in react (and getting rid of Redux), I was working on an example component that holds the state of a group of inputs. In the gif above, there is a Provider that holds that state, and then 8 inputs (which have been wrapped in PureComponent) split into 2 groups of 4 that consume the context from a consumer. Each input is looking at a different piece of state. \r\n\r\nIt appears, however, that the first child of a consumer will always re-render, regardless of if it should or not. \r\n\r\nhttps://codesandbox.io/s/yvx63kk87v\r\n\r\n**What is the expected behavior?**\r\n\r\nI would expect that the PureComponents that shouldn't re-render, wouldn't unless its assigned piece of state changed. Unless I'm misunderstanding the reconciliation/rendering step when you're looking at a consumer. \r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nReact - 16.5.2\r\nReact DOM - 16.5.2\r\n\r\nChrome - 69.0.3497.100 (haven't tested others)\r\n\r\nNot sure about if this happened in other versions of react.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
