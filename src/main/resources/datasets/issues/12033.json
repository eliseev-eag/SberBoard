{
  "url": "https://api.github.com/repos/facebook/react/issues/12033",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12033/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12033/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12033/events",
  "html_url": "https://github.com/facebook/react/issues/12033",
  "id": 289190688,
  "node_id": "MDU6SXNzdWUyODkxOTA2ODg=",
  "number": 12033,
  "title": "Refs Must Have Owner Warning",
  "user": {
    "login": "TanninOne",
    "id": 8525754,
    "node_id": "MDQ6VXNlcjg1MjU3NTQ=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8525754?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TanninOne",
    "html_url": "https://github.com/TanninOne",
    "followers_url": "https://api.github.com/users/TanninOne/followers",
    "following_url": "https://api.github.com/users/TanninOne/following{/other_user}",
    "gists_url": "https://api.github.com/users/TanninOne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TanninOne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TanninOne/subscriptions",
    "organizations_url": "https://api.github.com/users/TanninOne/orgs",
    "repos_url": "https://api.github.com/users/TanninOne/repos",
    "events_url": "https://api.github.com/users/TanninOne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TanninOne/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2018-01-17T09:11:10Z",
  "updated_at": "2018-02-06T15:19:06Z",
  "closed_at": "2018-01-28T13:14:22Z",
  "author_association": "NONE",
  "body": "** Reporting a bug\r\n\r\nThe problem I'm having is in the interplay of several packages but I feel that the only package actually doing something wrong here is react.\r\n\r\nVersions:\r\n- react 16.2.0 (also happened with 15.something)\r\n- node.js 7.9 (electron 1.7.10)\r\n- windows 10\r\n\r\n** Current behavior\r\n\r\nI get the error message from here https://reactjs.org/warnings/refs-must-have-owner.html although none of the three explanations is true.\r\nActually react _is_ loaded twice but it's the same version and there is little I can do to prevent it.\r\n\r\nWhat happens, as far as I can understand is this:\r\nmy application imports react from in two ways\r\n  * application -> react\r\n  * application -> node_modules/myapi -> react\r\nboth get the same react module from the same path.\r\nHowever, the myapi module is installed via yarn link.\r\nNow on case-insensitive filesystems, yarn link can cause the file path to have different caseing, i.e. my application is in C:/application but the resolved link (which node uses via require) is c:/application/... so the case of the drive letter changes for the api and everything _require_d from the api.\r\n\r\nSo even though I call \"require('react')\" both times I end up importing\r\nC:/application/node_modules/react/...\r\nand\r\nc:/application/node_modules/react/...\r\n\r\nwhich is obviously the same thing, yet it means react is loaded twice.\r\n\r\nNow the ref that's triggering the error is also not added by me but by react-bootstrap which adds a string-ref.\r\n\r\nSo my code has no bug (I'm not using different react versions or different case when importing react _in my code_)\r\nreact-bootstrap doesn't do anything wrong (because string refs are still allowed).\r\nnode isn't doing anything wrong (since it documents that require isn't guaranteed to always return the instance.)\r\nyarn isn't doing anything wrong (because on a case-insensitive filesystem there is nothing wrong with using different cases for the drive letter between link source and link target.)\r\n\r\nreact however relies on require always returning the same instance, which it can't.\r\n\r\n**What is the expected behavior?**\r\n\r\nReact doesn't rely on behavior that is documented to be unreliable.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
