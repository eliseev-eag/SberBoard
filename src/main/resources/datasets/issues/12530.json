{
  "url": "https://api.github.com/repos/facebook/react/issues/12530",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12530/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12530/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12530/events",
  "html_url": "https://github.com/facebook/react/pull/12530",
  "id": 310979253,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTc5MjA1OTU2",
  "number": 12530,
  "title": "Use object bracket access test for RESERVED_PROPS",
  "user": {
    "login": "Deraen",
    "id": 648087,
    "node_id": "MDQ6VXNlcjY0ODA4Nw==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/648087?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Deraen",
    "html_url": "https://github.com/Deraen",
    "followers_url": "https://api.github.com/users/Deraen/followers",
    "following_url": "https://api.github.com/users/Deraen/following{/other_user}",
    "gists_url": "https://api.github.com/users/Deraen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Deraen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Deraen/subscriptions",
    "organizations_url": "https://api.github.com/users/Deraen/orgs",
    "repos_url": "https://api.github.com/users/Deraen/repos",
    "events_url": "https://api.github.com/users/Deraen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Deraen/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-04-03T20:07:58Z",
  "updated_at": "2018-04-03T20:40:53Z",
  "closed_at": "2018-04-03T20:40:53Z",
  "author_association": "NONE",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/12530",
    "html_url": "https://github.com/facebook/react/pull/12530",
    "diff_url": "https://github.com/facebook/react/pull/12530.diff",
    "patch_url": "https://github.com/facebook/react/pull/12530.patch"
  },
  "body": "Continuing from #12370 with different solution (ping @gaearon)\r\n\r\n- Should be even faster than previous checks using `hasOwnProperty` (if my benchmark works correctly anyway)\r\n- Google Closure Compiler will optimize away static properties from\r\nobjects if properties aren't accessed dynamically. Using bracket access\r\nwill make Closure to keep these properties in optimized code.\r\n\r\n---\r\n\r\nI thought `preserveTypeAnnotations` would keep all JSDoc annotations but `@nocollapse` seems to be different than \"general\" JSDoc comments, so it is not kept.\r\n\r\nAfter failure with that approach I started looking into why https://github.com/facebook/react/blob/master/packages/shared/isTextInputElement.js#L13-L29 works with Closure optimizations (with externs to keep the property names). The function is transpiled into static object and a function which uses brackets to access the object. Turns out, that because the code is using brackets to access the object Closure doesn't optimize the properties away.\r\n\r\nI checked performance difference between hasOwnProperty and brackets, and looks like object bracket access is faster: https://jsperf.com/static-object-check-if-prop-exists/1",
  "closed_by": {
    "login": "Deraen",
    "id": 648087,
    "node_id": "MDQ6VXNlcjY0ODA4Nw==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/648087?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Deraen",
    "html_url": "https://github.com/Deraen",
    "followers_url": "https://api.github.com/users/Deraen/followers",
    "following_url": "https://api.github.com/users/Deraen/following{/other_user}",
    "gists_url": "https://api.github.com/users/Deraen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Deraen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Deraen/subscriptions",
    "organizations_url": "https://api.github.com/users/Deraen/orgs",
    "repos_url": "https://api.github.com/users/Deraen/repos",
    "events_url": "https://api.github.com/users/Deraen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Deraen/received_events",
    "type": "User",
    "site_admin": false
  }
}
