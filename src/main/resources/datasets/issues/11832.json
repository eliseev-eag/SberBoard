{
  "url": "https://api.github.com/repos/facebook/react/issues/11832",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11832/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11832/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11832/events",
  "html_url": "https://github.com/facebook/react/pull/11832",
  "id": 281224013,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTU3NzEzODMw",
  "number": 11832,
  "title": "[Do not merge] Attach all local listeners as captured events",
  "user": {
    "login": "nhunzaker",
    "id": 590904,
    "node_id": "MDQ6VXNlcjU5MDkwNA==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/590904?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nhunzaker",
    "html_url": "https://github.com/nhunzaker",
    "followers_url": "https://api.github.com/users/nhunzaker/followers",
    "following_url": "https://api.github.com/users/nhunzaker/following{/other_user}",
    "gists_url": "https://api.github.com/users/nhunzaker/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nhunzaker/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nhunzaker/subscriptions",
    "organizations_url": "https://api.github.com/users/nhunzaker/orgs",
    "repos_url": "https://api.github.com/users/nhunzaker/repos",
    "events_url": "https://api.github.com/users/nhunzaker/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nhunzaker/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-12-12T01:17:34Z",
  "updated_at": "2018-06-04T21:11:50Z",
  "closed_at": "2018-05-28T14:31:09Z",
  "author_association": "COLLABORATOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/11832",
    "html_url": "https://github.com/facebook/react/pull/11832",
    "diff_url": "https://github.com/facebook/react/pull/11832.diff",
    "patch_url": "https://github.com/facebook/react/pull/11832.patch"
  },
  "body": "I noticed in https://github.com/facebook/react/pull/9333 that events that don't bubble are still captureable (scroll, wheel).  So that got me curious about all of the other events we attach locally for that very reason.\r\n\r\nI've used the following test page to confirm this:\r\nhttps://codepen.io/nhunzaker/pen/babXLO\r\n\r\nhttps://codepen.io/anon/pen/YYKoJW?editors=1010\r\n\r\n**What I need help with**\r\n\r\nIs this even a good idea? ðŸ˜›. Are there any design issues with using captured events this way? \r\n\r\nRight now, this PR only moves the local attachment over, as needed, to ReactBrowserEventEmitter. There is a more aggressive change: **what if we attached all events as capture?** Period. Given bubbling is synthetic anyway, what could go wrong if we attached everything using capture? Then we wouldn't really need to distinguish local listeners other the handful we have for focus and scrolling.\r\n\r\n**Things that still need confirmation:**\r\n\r\n- [x] iframe: onload\r\n- [x] object: onload\r\n- [ ] video,audio: abort, canplay, canplaythrough, durationchange, emptied, encrypted, ended, error, loadeddata, loadedmetadata, loadstart, pause, play, playing, progress, ratechange, seeked, seeking, stalled, suspend, timeupdate, volumechange, waiting\r\n- [ ] source: error\r\n- [x] img ([test](https://codepen.io/anon/pen/YYKoJW?editors=1010)): onload, onerror\r\n- [x] image (svg): onload, onerror\r\n- [x] form: reset, submit\r\n- [x] details: toggle\r\n- [x] input: invalid\r\n- [x] select: invalid\r\n- [x] textarea: invalid\r\n\r\nSo basically media events are left. For all the others, I've tested:\r\n\r\n* Chrome 43, 62\r\n* Firefox 42, 58\r\n* IE 9, IE 10, IE 11\r\n** No SVG Load event\r\n** Details are not supported\r\n* Safari 11, 7.1\r\n** Details does not dispatch until Safari 10.1 - https://codepen.io/nhunzaker/pen/qpBWqo\r\n* Edge 14, 15, 16\r\n** No SVG Load event - https://github.com/facebook/react/issues/11058\r\n** Details are not supported\r\n* Android UTC on 4.4\r\n** Details does not dispatch until Android 5 - https://codepen.io/nhunzaker/pen/qpBWqo\r\n* iOS Safari 7, 10\r\n** Details does not dispatch until Safari 10.1 - https://codepen.io/nhunzaker/pen/qpBWqo\r\n\r\n",
  "closed_by": {
    "login": "nhunzaker",
    "id": 590904,
    "node_id": "MDQ6VXNlcjU5MDkwNA==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/590904?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nhunzaker",
    "html_url": "https://github.com/nhunzaker",
    "followers_url": "https://api.github.com/users/nhunzaker/followers",
    "following_url": "https://api.github.com/users/nhunzaker/following{/other_user}",
    "gists_url": "https://api.github.com/users/nhunzaker/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nhunzaker/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nhunzaker/subscriptions",
    "organizations_url": "https://api.github.com/users/nhunzaker/orgs",
    "repos_url": "https://api.github.com/users/nhunzaker/repos",
    "events_url": "https://api.github.com/users/nhunzaker/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nhunzaker/received_events",
    "type": "User",
    "site_admin": false
  }
}
