{
  "url": "https://api.github.com/repos/facebook/react/issues/13188",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13188/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13188/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13188/events",
  "html_url": "https://github.com/facebook/react/issues/13188",
  "id": 340007877,
  "node_id": "MDU6SXNzdWUzNDAwMDc4Nzc=",
  "number": 13188,
  "title": "If console.error throws while reporting an error, React can enter an invalid internal state",
  "user": {
    "login": "brokentone",
    "id": 956978,
    "node_id": "MDQ6VXNlcjk1Njk3OA==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/956978?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brokentone",
    "html_url": "https://github.com/brokentone",
    "followers_url": "https://api.github.com/users/brokentone/followers",
    "following_url": "https://api.github.com/users/brokentone/following{/other_user}",
    "gists_url": "https://api.github.com/users/brokentone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brokentone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brokentone/subscriptions",
    "organizations_url": "https://api.github.com/users/brokentone/orgs",
    "repos_url": "https://api.github.com/users/brokentone/repos",
    "events_url": "https://api.github.com/users/brokentone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brokentone/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2018-07-10T21:08:48Z",
  "updated_at": "2018-08-02T17:16:56Z",
  "closed_at": "2018-08-02T17:16:56Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\nWhen `ReactFiberScheduler` exceeds the update count and throws the `Maximum update depth exceeded.` invariant, it did not update `nestedUpdateCount` (leaving it in a \"dirty\" state). This has been fixed in this PR yet to be released: https://github.com/facebook/react/pull/13160/files#diff-24152ba0b2ac251decb6a12f41bdf116R1478\r\n\r\nBut out of interest + further concern, I [began to explore](https://github.com/facebook/react/pull/13160#issuecomment-403919095) some concerns around whether ReactDOM (Fiber really) maintaining some \"state\" and in fact, being left dirty in at least some error cases was indeed a concern or had been considered in the community. While `nestedUpdateCount` might be fixed here, I can't imagine it was the only state value which could have issues.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nI created a repo with `create-react-app` which demonstrates my concern: https://github.com/brokentone/react-dom-enzyme\r\n\r\nObserve that you will have 2 test failures. ComponentOne is indeed poorly written, but ComponentTwo is quite simple and should be \"ok.\" Skipping ComponentOne should should ComponentTwo passing.\r\n\r\n**What is the expected behavior?**\r\n\r\nOnly `ComponentOne` should fail in my example.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nUnclear",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
