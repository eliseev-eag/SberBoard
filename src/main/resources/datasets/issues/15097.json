{
  "url": "https://api.github.com/repos/facebook/react/issues/15097",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15097/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15097/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15097/events",
  "html_url": "https://github.com/facebook/react/issues/15097",
  "id": 420420125,
  "node_id": "MDU6SXNzdWU0MjA0MjAxMjU=",
  "number": 15097,
  "title": "[lerna] Invariant Violation: Hooks can only be called inside the body of a function component.",
  "user": {
    "login": "ppinel",
    "id": 2622533,
    "node_id": "MDQ6VXNlcjI2MjI1MzM=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/2622533?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ppinel",
    "html_url": "https://github.com/ppinel",
    "followers_url": "https://api.github.com/users/ppinel/followers",
    "following_url": "https://api.github.com/users/ppinel/following{/other_user}",
    "gists_url": "https://api.github.com/users/ppinel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ppinel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ppinel/subscriptions",
    "organizations_url": "https://api.github.com/users/ppinel/orgs",
    "repos_url": "https://api.github.com/users/ppinel/repos",
    "events_url": "https://api.github.com/users/ppinel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ppinel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2019-03-13T10:21:56Z",
  "updated_at": "2019-10-09T18:32:59Z",
  "closed_at": "2019-03-14T15:23:15Z",
  "author_association": "NONE",
  "body": "Hello,\r\n\r\nI have an error regarding hooks in a lerna architecture project where we import a ux lib made of style component inside a react project.\r\nIf component are host in the same app, error is not thrown.\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nReport a bug\r\n\r\n**What is the current behavior?**\r\n\r\nAn error is thrown:\r\n```\r\nInvariant Violation: Hooks can only be called inside the body of a function component. (https://fb.me/react-invalid-hook-call)\r\n    at invariant (http://localhost/static/js/main.chunk.js:121537:23)\r\n    at resolveDispatcher (http://localhost/static/js/main.chunk.js:122922:36)\r\n    at useRef (http://localhost/static/js/main.chunk.js:122956:28)\r\n    at useStateWithGetter (http://localhost/static/js/main.chunk.js:39121:71)\r\n    at useField (http://localhost/static/js/main.chunk.js:39161:35)\r\n    at http://localhost/static/js/main.chunk.js:39417:27\r\n    at renderWithHooks (http://localhost/static/js/0.chunk.js:70682:22)\r\n    at mountIndeterminateComponent (http://localhost/static/js/0.chunk.js:72686:17)\r\n    at beginWork (http://localhost/static/js/0.chunk.js:73237:20)\r\n    at performUnitOfWork (http://localhost/static/js/0.chunk.js:77166:16)\r\n    at workLoop (http://localhost/static/js/0.chunk.js:77207:28)\r\n    at renderRoot (http://localhost/static/js/0.chunk.js:77287:11)\r\n    at performWorkOnRoot (http://localhost/static/js/0.chunk.js:78232:11)\r\n    at performWork (http://localhost/static/js/0.chunk.js:78142:11)\r\n    at performSyncWork (http://localhost/static/js/0.chunk.js:78116:7)\r\n    at requestWork (http://localhost/static/js/0.chunk.js:77971:9)\r\n    at scheduleWork (http://localhost/static/js/0.chunk.js:77778:9)\r\n    at scheduleRootUpdate (http://localhost/static/js/0.chunk.js:78482:7)\r\n    at updateContainerAtExpirationTime (http://localhost/static/js/0.chunk.js:78508:14)\r\n    at updateContainer (http://localhost/static/js/0.chunk.js:78576:14)\r\n    at ReactRoot.push../node_modules/react-dom/cjs/react-dom.development.js.ReactRoot.render (http://localhost/static/js/0.chunk.js:78889:7)\r\n    at http://localhost/static/js/0.chunk.js:79041:18\r\n    at unbatchedUpdates (http://localhost/static/js/0.chunk.js:78359:14)\r\n    at legacyRenderSubtreeIntoContainer (http://localhost/static/js/0.chunk.js:79037:9)\r\n    at Object.render (http://localhost/static/js/0.chunk.js:79112:16)\r\n    at boot (http://localhost/static/js/main.chunk.js:207505:52)\r\n    at http://localhost/static/js/main.chunk.js:207517:10\r\n```\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\nUse this [public repo](https://github.com/ppinel/test-informed-hooks) and follow the readme.\r\nIt's a good representation of our project's architecture.\r\nYou will experience the error.\r\n\r\n**What is the expected behavior?**\r\nNot throwing an error about hooks and displaying a working form.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nWell, didn't tested before 16.8.0. But using [react-form](https://github.com/react-tools/react-form) instead of [informed](https://github.com/joepuzzo/informed) works.\r\nAn [issue](https://github.com/joepuzzo/informed/issues/167) has been open on informed repository.\r\nII have the feeling that it's more related to React than informed itself.\r\n\r\nI am aware of [this page](https://reactjs.org/warnings/invalid-hook-call-warning.html) but nothing worked.",
  "closed_by": {
    "login": "aweary",
    "id": 6886061,
    "node_id": "MDQ6VXNlcjY4ODYwNjE=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6886061?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aweary",
    "html_url": "https://github.com/aweary",
    "followers_url": "https://api.github.com/users/aweary/followers",
    "following_url": "https://api.github.com/users/aweary/following{/other_user}",
    "gists_url": "https://api.github.com/users/aweary/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aweary/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aweary/subscriptions",
    "organizations_url": "https://api.github.com/users/aweary/orgs",
    "repos_url": "https://api.github.com/users/aweary/repos",
    "events_url": "https://api.github.com/users/aweary/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aweary/received_events",
    "type": "User",
    "site_admin": false
  }
}
