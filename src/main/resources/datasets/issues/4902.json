{
  "url": "https://api.github.com/repos/facebook/react/issues/4902",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/4902/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/4902/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/4902/events",
  "html_url": "https://github.com/facebook/react/issues/4902",
  "id": 107074756,
  "node_id": "MDU6SXNzdWUxMDcwNzQ3NTY=",
  "number": 4902,
  "title": "Invalid property access when rendering server-side with Babel's \"optimisation.react.inlineElements\" enabled.",
  "user": {
    "login": "novacrazy",
    "id": 4708645,
    "node_id": "MDQ6VXNlcjQ3MDg2NDU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/4708645?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/novacrazy",
    "html_url": "https://github.com/novacrazy",
    "followers_url": "https://api.github.com/users/novacrazy/followers",
    "following_url": "https://api.github.com/users/novacrazy/following{/other_user}",
    "gists_url": "https://api.github.com/users/novacrazy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/novacrazy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/novacrazy/subscriptions",
    "organizations_url": "https://api.github.com/users/novacrazy/orgs",
    "repos_url": "https://api.github.com/users/novacrazy/repos",
    "events_url": "https://api.github.com/users/novacrazy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/novacrazy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2015-09-17T21:09:31Z",
  "updated_at": "2015-10-14T09:40:39Z",
  "closed_at": "2015-09-17T21:30:29Z",
  "author_association": "NONE",
  "body": "When trying to render a page server-side I get an error like this:\n\n``` javascript\nTypeError: Cannot read property 'validated' of undefined\n    at validateExplicitKey (~/example.com/react-build/packages/react/lib/ReactElementValidator.js:60:21)\n    at validateChildKeys (~/example.com/react-build/packages/react/lib/ReactElementValidator.js:132:9)\n    at Object.ReactElementValidator.createElement (~/example.com/react-build/packages/react/lib/ReactElementValidator.js:230:7)\n    at Row.render (~/example.com/views/components/bootstrap3/layout/row.jsx:13:24)\n    at ReactCompositeComponentMixin._renderValidatedComponentWithoutOwnerOrContext (~/example.com/react-build/packages/react/lib/ReactCompositeComponent.js:587:34)\n    at ReactCompositeComponentMixin._renderValidatedComponent (~/example.com/react-build/packages/react/lib/ReactCompositeComponent.js:607:32)\n    at wrapper [as _renderValidatedComponent] (~/example.com/react-build/packages/react/lib/ReactPerf.js:66:21)\n    at ReactCompositeComponentMixin.mountComponent (~/example.com/react-build/packages/react/lib/ReactCompositeComponent.js:220:30)\n    at wrapper [as mountComponent] (~/example.com/react-build/packages/react/lib/ReactPerf.js:66:21)\n    at Object.ReactReconciler.mountComponent (~/example.com/react-build/packages/react/lib/ReactReconciler.js:37:35)\n    at ReactDOMComponent.ReactMultiChild.Mixin.mountChildren (~/example.com/react-build/packages/react/lib/ReactMultiChild.js:241:44)\n    at ReactDOMComponent.Mixin._createContentMarkup (~/example.com/react-build/packages/react/lib/ReactDOMComponent.js:552:32)\n    at ReactDOMComponent.Mixin.mountComponent (~/example.com/react-build/packages/react/lib/ReactDOMComponent.js:446:29)\n    at Object.ReactReconciler.mountComponent (~/example.com/react-build/packages/react/lib/ReactReconciler.js:37:35)\n    at ReactCompositeComponentMixin.mountComponent (~/example.com/react-build/packages/react/lib/ReactCompositeComponent.js:225:34)\n    at wrapper [as mountComponent] (~/example.com/react-build/packages/react/lib/ReactPerf.js:66:21)\n    at Object.ReactReconciler.mountComponent (~/example.com/react-build/packages/react/lib/ReactReconciler.js:37:35)\n    at ReactDOMComponent.ReactMultiChild.Mixin.mountChildren (~/example.com/react-build/packages/react/lib/ReactMultiChild.js:241:44)\n    at ReactDOMComponent.Mixin._createContentMarkup (~/example.com/react-build/packages/react/lib/ReactDOMComponent.js:552:32)\n    at ReactDOMComponent.Mixin.mountComponent (~/example.com/react-build/packages/react/lib/ReactDOMComponent.js:446:29)\n    at Object.ReactReconciler.mountComponent (~/example.com/react-build/packages/react/lib/ReactReconciler.js:37:35)\n    at ReactCompositeComponentMixin.mountComponent (~/example.com/react-build/packages/react/lib/ReactCompositeComponent.js:225:34)\n```\n\nWhen using the Babel (5.8.24) transformer `optimisation.react.inlineElements`, after manually fixing https://github.com/babel/babel/issues/2377\n\nHowever, when using the same transformer on my client code it runs just fine in the browser for even my most complex components/pages. \n\nHere is a complete list of my Babel options (for the server):\n\n``` javascript\n{\n    filename:     filename,\n    blacklist:    [\n        'es3.memberExpressionLiterals',\n        'es3.propertyLiterals',\n        'es6.forOf',\n        'es6.properties.shorthand',\n        'es6.templateLiterals'\n    ],\n    optional:     [\n        'strict',\n        'runtime',\n        'spec.undefinedToVoid',\n        'validation.react',\n        'minification.constantFolding',\n        'minification.propertyLiterals',\n        'utility.inlineEnvironmentVariables',\n        'es7.exportExtensions',\n        'es7.classProperties', //For React static properties\n        'optimisation.react.inlineElements',\n        'optimisation.react.constantElements',\n        'es7.decorators'\n    ],\n    ast:          false,\n    sourceMaps:   false,\n    nonStandard:  true, //JSX and Flow\n    compact:      false,\n    comments:     false,\n    retainLines:  true,\n    modules:      \"amd\",\n    loose:        \"all\",\n    experimental: true\n} \n```\n\nwhich might help track it down. The fact it worked in the browser leads me to believe it is not a Babel issue, though.\n\nCurrently I'm using a build of React from the master branch as of about thirty minutes ago.\n",
  "closed_by": {
    "login": "zpao",
    "id": 8445,
    "node_id": "MDQ6VXNlcjg0NDU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zpao",
    "html_url": "https://github.com/zpao",
    "followers_url": "https://api.github.com/users/zpao/followers",
    "following_url": "https://api.github.com/users/zpao/following{/other_user}",
    "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
    "organizations_url": "https://api.github.com/users/zpao/orgs",
    "repos_url": "https://api.github.com/users/zpao/repos",
    "events_url": "https://api.github.com/users/zpao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zpao/received_events",
    "type": "User",
    "site_admin": false
  }
}
