{
  "url": "https://api.github.com/repos/facebook/react/issues/1792",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/1792/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/1792/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/1792/events",
  "html_url": "https://github.com/facebook/react/issues/1792",
  "id": 37208535,
  "node_id": "MDU6SXNzdWUzNzIwODUzNQ==",
  "number": 1792,
  "title": "Testing React Components -- wrapping componentDidUpdate",
  "user": {
    "login": "MalucoMarinero",
    "id": 1691855,
    "node_id": "MDQ6VXNlcjE2OTE4NTU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1691855?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MalucoMarinero",
    "html_url": "https://github.com/MalucoMarinero",
    "followers_url": "https://api.github.com/users/MalucoMarinero/followers",
    "following_url": "https://api.github.com/users/MalucoMarinero/following{/other_user}",
    "gists_url": "https://api.github.com/users/MalucoMarinero/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MalucoMarinero/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MalucoMarinero/subscriptions",
    "organizations_url": "https://api.github.com/users/MalucoMarinero/orgs",
    "repos_url": "https://api.github.com/users/MalucoMarinero/repos",
    "events_url": "https://api.github.com/users/MalucoMarinero/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MalucoMarinero/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2014-07-06T00:00:23Z",
  "updated_at": "2014-07-06T02:18:15Z",
  "closed_at": "2014-07-06T00:25:50Z",
  "author_association": "NONE",
  "body": "I'm working on a library for Generative Testing, as well as testing a state system by feeding it a series of commands and seeing if it breaks. One key issue is that `setState()` is asynchronous, so obviously the test system needs to use promises/callbacks after each step of the test. In order to make it work in this gist:\n\nhttps://gist.github.com/MalucoMarinero/85349e9fff4134f63397\n\n...I've used the following function to wrap a React Components componentDidUpdate for one shot:\n\n```\nfunction callbackOnUpdate(component, callback) {\n    if (!component.componentDidUpdate) {\n        component.componentDidUpdate = function(prevProps, prevState) {\n            callback(prevProps, prevState);\n            component.componentDidUpdate = null;\n        };\n    } else {\n        var originalFunc = component.componentDidUpdate;\n        component.componentDidUpdate = function(prevProps, prevState) {\n            callback(prevProps, prevState);\n            component.componentDidUpdate = originalFunc;\n        };\n    };\n};\n```\n\nThis is part question and part feature request, a) is this an acceptable way to listen for and act upon the DOM update if your intention is not to modify the component, but to just test it, b) if so, is it worth putting a function in the TestUtils module to cover this use case (obviously with a bunch more error checking in there) ? \n",
  "closed_by": {
    "login": "sophiebits",
    "id": 6820,
    "node_id": "MDQ6VXNlcjY4MjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sophiebits",
    "html_url": "https://github.com/sophiebits",
    "followers_url": "https://api.github.com/users/sophiebits/followers",
    "following_url": "https://api.github.com/users/sophiebits/following{/other_user}",
    "gists_url": "https://api.github.com/users/sophiebits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sophiebits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sophiebits/subscriptions",
    "organizations_url": "https://api.github.com/users/sophiebits/orgs",
    "repos_url": "https://api.github.com/users/sophiebits/repos",
    "events_url": "https://api.github.com/users/sophiebits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sophiebits/received_events",
    "type": "User",
    "site_admin": false
  }
}
