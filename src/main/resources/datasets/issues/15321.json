{
  "url": "https://api.github.com/repos/facebook/react/issues/15321",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15321/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15321/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15321/events",
  "html_url": "https://github.com/facebook/react/issues/15321",
  "id": 429365277,
  "node_id": "MDU6SXNzdWU0MjkzNjUyNzc=",
  "number": 15321,
  "title": "useEffect callback isn't executed in `react-test-renderer`'s `create()`",
  "user": {
    "login": "imatt611",
    "id": 26103520,
    "node_id": "MDQ6VXNlcjI2MTAzNTIw",
    "avatar_url": "https://avatars1.githubusercontent.com/u/26103520?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/imatt611",
    "html_url": "https://github.com/imatt611",
    "followers_url": "https://api.github.com/users/imatt611/followers",
    "following_url": "https://api.github.com/users/imatt611/following{/other_user}",
    "gists_url": "https://api.github.com/users/imatt611/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/imatt611/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/imatt611/subscriptions",
    "organizations_url": "https://api.github.com/users/imatt611/orgs",
    "repos_url": "https://api.github.com/users/imatt611/repos",
    "events_url": "https://api.github.com/users/imatt611/events{/privacy}",
    "received_events_url": "https://api.github.com/users/imatt611/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "threepointone",
      "id": 18808,
      "node_id": "MDQ6VXNlcjE4ODA4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/threepointone",
      "html_url": "https://github.com/threepointone",
      "followers_url": "https://api.github.com/users/threepointone/followers",
      "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
      "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
      "organizations_url": "https://api.github.com/users/threepointone/orgs",
      "repos_url": "https://api.github.com/users/threepointone/repos",
      "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/threepointone/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-04-04T16:10:03Z",
  "updated_at": "2019-07-25T00:46:41Z",
  "closed_at": "2019-04-05T12:35:25Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nReport a bug\r\n\r\n**What is the current behavior?**\r\nThe callback provided to `useEffect` is not executed when the component is rendered.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n1. Set up `useEffect` in a component that sets up a listener for events external to the component.\r\n2. Write a test that expects a triggered event to be processed. The event listener will never have been set up.\r\n\r\n[See codesandbox.](https://codesandbox.io/s/rmx3llk2oo)\r\n(Also demonstrated in [this github repo](https://github.com/imatt611/testing-socket-fetch-effect/tree/simplified), though that example is more complex and depends on socket.io-client)\r\n\r\n**What is the expected behavior?**\r\nThe `useEffect` contents are executed, setting up a listener that can be triggered later in a test.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n- React 16.8.3\r\n- React-test-renderer 16.8.6\r\nUnknown whether this worked in previous versions.\r\n",
  "closed_by": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  }
}
