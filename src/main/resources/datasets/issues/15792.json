{
  "url": "https://api.github.com/repos/facebook/react/issues/15792",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15792/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15792/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15792/events",
  "html_url": "https://github.com/facebook/react/issues/15792",
  "id": 450845130,
  "node_id": "MDU6SXNzdWU0NTA4NDUxMzA=",
  "number": 15792,
  "title": "Rules of Hooks don't support top-level exit conditions",
  "user": {
    "login": "fabiospampinato",
    "id": 1812093,
    "node_id": "MDQ6VXNlcjE4MTIwOTM=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1812093?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fabiospampinato",
    "html_url": "https://github.com/fabiospampinato",
    "followers_url": "https://api.github.com/users/fabiospampinato/followers",
    "following_url": "https://api.github.com/users/fabiospampinato/following{/other_user}",
    "gists_url": "https://api.github.com/users/fabiospampinato/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fabiospampinato/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fabiospampinato/subscriptions",
    "organizations_url": "https://api.github.com/users/fabiospampinato/orgs",
    "repos_url": "https://api.github.com/users/fabiospampinato/repos",
    "events_url": "https://api.github.com/users/fabiospampinato/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fabiospampinato/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2019-05-31T15:06:01Z",
  "updated_at": "2019-06-19T04:24:43Z",
  "closed_at": "2019-06-01T15:13:55Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?** bug\r\n\r\n**What is the current behavior?**\r\n\r\nThe following piece of code breaks the rules of hooks:\r\n\r\n```ts\r\nimport {useState} from 'react';\r\nconst MyComponent = () => {\r\n  const [foo, setFoo] = useState ();\r\n  if ( !foo ) return;\r\n  const [bar, setBar] = useState ();\r\n  return null;\r\n};\r\n```\r\n\r\nThe lint rule reports: \r\n\r\n```\r\nReact Hook \"useState\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nMy understanding is that for hooks to work they need to be called always in the same order, otherwise returned values can't be properly mapped to function calls.\r\n\r\nIn my piece of code the hooks are always called in the same order, but some times we exit early, which is slightly beneficial both for performance and for writing clean code.\r\n\r\nShouldn't this just work? \r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?** v16.8.6\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
