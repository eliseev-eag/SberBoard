{
  "url": "https://api.github.com/repos/facebook/react/issues/15567",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15567/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15567/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15567/events",
  "html_url": "https://github.com/facebook/react/pull/15567",
  "id": 440371967,
  "node_id": "MDExOlB1bGxSZXF1ZXN0Mjc1OTQ5Mzk1",
  "number": 15567,
  "title": "Fix interaction tracing for batched update mounts",
  "user": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2019-05-04T21:17:42Z",
  "updated_at": "2019-05-06T19:59:51Z",
  "closed_at": "2019-05-06T19:59:49Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/15567",
    "html_url": "https://github.com/facebook/react/pull/15567",
    "diff_url": "https://github.com/facebook/react/pull/15567.diff",
    "patch_url": "https://github.com/facebook/react/pull/15567.patch"
  },
  "body": "When a root is _mounting_ inside of a batched update (including the `act` test helper) the interactions `Set` in of `ReactFiberScheduler` is empty. This does not impact _updates_, only _mounts_.\r\n\r\nThe reason for this is that in that case, we never recorded the pending interactions on the root.\r\n\r\nTechnically the bug was related to batched updates, not `act`, but it seemed worth adding test coverage for both just in case there were changes in the future.\r\n\r\nI came across this while trying to write profiling tests for the new DevTools (https://github.com/bvaughn/react-devtools-experimental/pull/258). I've tested this change in that PR and verified that it fixes the disconnected interactions.\r\n\r\nResolves #15566",
  "closed_by": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  }
}
