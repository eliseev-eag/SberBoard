{
  "url": "https://api.github.com/repos/facebook/react/issues/7911",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/7911/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/7911/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/7911/events",
  "html_url": "https://github.com/facebook/react/pull/7911",
  "id": 181649907,
  "node_id": "MDExOlB1bGxSZXF1ZXN0ODg0MjQ4ODY=",
  "number": 7911,
  "title": "Add warning for shady-dom use with rendered react components in DEV",
  "user": {
    "login": "kevinzwhuang",
    "id": 7256178,
    "node_id": "MDQ6VXNlcjcyNTYxNzg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/7256178?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kevinzwhuang",
    "html_url": "https://github.com/kevinzwhuang",
    "followers_url": "https://api.github.com/users/kevinzwhuang/followers",
    "following_url": "https://api.github.com/users/kevinzwhuang/following{/other_user}",
    "gists_url": "https://api.github.com/users/kevinzwhuang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kevinzwhuang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kevinzwhuang/subscriptions",
    "organizations_url": "https://api.github.com/users/kevinzwhuang/orgs",
    "repos_url": "https://api.github.com/users/kevinzwhuang/repos",
    "events_url": "https://api.github.com/users/kevinzwhuang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kevinzwhuang/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    },
    {
      "id": 127893911,
      "node_id": "MDU6TGFiZWwxMjc4OTM5MTE=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20DOM",
      "name": "Component: DOM",
      "color": "fef2c0",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "gaearon",
      "id": 810438,
      "node_id": "MDQ6VXNlcjgxMDQzOA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gaearon",
      "html_url": "https://github.com/gaearon",
      "followers_url": "https://api.github.com/users/gaearon/followers",
      "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
      "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
      "organizations_url": "https://api.github.com/users/gaearon/orgs",
      "repos_url": "https://api.github.com/users/gaearon/repos",
      "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gaearon/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/facebook/react/milestones/25",
    "html_url": "https://github.com/facebook/react/milestone/25",
    "labels_url": "https://api.github.com/repos/facebook/react/milestones/25/labels",
    "id": 1691310,
    "node_id": "MDk6TWlsZXN0b25lMTY5MTMxMA==",
    "number": 25,
    "title": "15-lopri",
    "description": "We'll use this milestone to collect all PRs that will be shipped in a version of React v15. As they are cherry-picked to the branch, we will determine what version the next release is (minor or patch) based on the changes.\r\n\r\nWe will create a new milestone and move PRs to that milestone as they are cherry-picked.",
    "creator": {
      "login": "zpao",
      "id": 8445,
      "node_id": "MDQ6VXNlcjg0NDU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zpao",
      "html_url": "https://github.com/zpao",
      "followers_url": "https://api.github.com/users/zpao/followers",
      "following_url": "https://api.github.com/users/zpao/following{/other_user}",
      "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
      "organizations_url": "https://api.github.com/users/zpao/orgs",
      "repos_url": "https://api.github.com/users/zpao/repos",
      "events_url": "https://api.github.com/users/zpao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zpao/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 45,
    "state": "closed",
    "created_at": "2016-04-08T00:06:43Z",
    "updated_at": "2017-10-04T11:52:42Z",
    "due_on": null,
    "closed_at": "2017-10-04T11:52:42Z"
  },
  "comments": 12,
  "created_at": "2016-10-07T11:51:44Z",
  "updated_at": "2016-10-12T09:13:50Z",
  "closed_at": "2016-10-12T09:13:50Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/7911",
    "html_url": "https://github.com/facebook/react/pull/7911",
    "diff_url": "https://github.com/facebook/react/pull/7911.diff",
    "patch_url": "https://github.com/facebook/react/pull/7911.patch"
  },
  "body": "**Description:**\nAs described in #7325, there should be a warning emitted when somebody uses shady dom with React.\n#7383 & #7537 attempted to solve this issue, however they have not been updated or corrected in months. This PR is informed by those discussions and combines those findings into this completed solution with tests.\n\n**Changes Proposed:**\nThis PR fulfills all requirements set by @gaearon's comments: https://github.com/facebook/react/pull/7537#issuecomment-241505692 & https://github.com/facebook/react/pull/7537#issuecomment-241522862\n- [x] Add `isCustomComponentTag` boolean to the _updateDOMProperties signature as its last argument to avoid calling `isCustomComponent(this._tag, props)` multiple times\n- [x] Add call for `var isCustomComponentTag = isCustomComponent(this._tag, props)` to both `mountComponent()` and `updateComponent()` to be consumed by `_updateDOMProperties`\n\nAs per the requirements for this warning, it will only emit to console when:\n- [x] shadyRoot exists on the DOM element\n- [x] only do this in ReactDOMComponent.mountComponent in DEV\n- [x] only perform the check if isCustomComponent(this._tag, props) is true\n- [x] Emit only once even when mounting multiple components using a check for `didWarnShadyDom`\n\nAlso, tests have been added for this warning:\n- [x] Sets a fake `document.createElement` to simulate the creation of the `shadyRoot` property and returns `document.createElement`'s original functionality after resolution, regardless of tests passing/failing.\n- [x] Checks for the shady dom warning emitted when the above requirements are met.\n- [x] Tests that the warning is emitted only **once** even when mounting multiple components to prevent spamming the console.\n\n---\n\ncc: @gaearon \n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
