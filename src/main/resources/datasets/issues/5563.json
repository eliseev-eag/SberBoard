{
  "url": "https://api.github.com/repos/facebook/react/issues/5563",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/5563/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/5563/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/5563/events",
  "html_url": "https://github.com/facebook/react/issues/5563",
  "id": 119346392,
  "node_id": "MDU6SXNzdWUxMTkzNDYzOTI=",
  "number": 5563,
  "title": "Arrow function event callback invoked after target element has been removed",
  "user": {
    "login": "mking",
    "id": 489866,
    "node_id": "MDQ6VXNlcjQ4OTg2Ng==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/489866?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mking",
    "html_url": "https://github.com/mking",
    "followers_url": "https://api.github.com/users/mking/followers",
    "following_url": "https://api.github.com/users/mking/following{/other_user}",
    "gists_url": "https://api.github.com/users/mking/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mking/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mking/subscriptions",
    "organizations_url": "https://api.github.com/users/mking/orgs",
    "repos_url": "https://api.github.com/users/mking/repos",
    "events_url": "https://api.github.com/users/mking/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mking/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2015-11-29T08:30:06Z",
  "updated_at": "2015-12-07T08:13:45Z",
  "closed_at": "2015-12-07T08:13:45Z",
  "author_association": "CONTRIBUTOR",
  "body": "This results in an invariant violation: `findComponentRoot(..., .0.2.1): Unable to find element.`\n\nI have an [example app (~100 lines)](https://github.com/mking/sync-dispatch/blob/master/app/MinimalExample.js) that reproduces the issue. To reproduce it, start the app and select a user from the radio button list.\n\nFrom the call stack at the time of the invariant violation, it looks like React is batching click events. My guess is that, at the time when the batch is being processed, the target element (`.0.2.1`) has been removed from the DOM, but its click handler arrow function has not been removed from the event processing queue.\n\nI tried testing some variations (for example, setting state once in `onUserSelect` and using a bound method instead of an arrow function to define the event handler). In both those cases, the invariant violation did not occur.\n",
  "closed_by": {
    "login": "mking",
    "id": 489866,
    "node_id": "MDQ6VXNlcjQ4OTg2Ng==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/489866?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mking",
    "html_url": "https://github.com/mking",
    "followers_url": "https://api.github.com/users/mking/followers",
    "following_url": "https://api.github.com/users/mking/following{/other_user}",
    "gists_url": "https://api.github.com/users/mking/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mking/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mking/subscriptions",
    "organizations_url": "https://api.github.com/users/mking/orgs",
    "repos_url": "https://api.github.com/users/mking/repos",
    "events_url": "https://api.github.com/users/mking/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mking/received_events",
    "type": "User",
    "site_admin": false
  }
}
