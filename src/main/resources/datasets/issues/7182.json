{
  "url": "https://api.github.com/repos/facebook/react/issues/7182",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/7182/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/7182/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/7182/events",
  "html_url": "https://github.com/facebook/react/issues/7182",
  "id": 163606218,
  "node_id": "MDU6SXNzdWUxNjM2MDYyMTg=",
  "number": 7182,
  "title": "TestUtils shallow renderer triggers componentWillReceiveProps, doesn't trigger componentDidUpdate",
  "user": {
    "login": "perrin4869",
    "id": 5774716,
    "node_id": "MDQ6VXNlcjU3NzQ3MTY=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/5774716?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/perrin4869",
    "html_url": "https://github.com/perrin4869",
    "followers_url": "https://api.github.com/users/perrin4869/followers",
    "following_url": "https://api.github.com/users/perrin4869/following{/other_user}",
    "gists_url": "https://api.github.com/users/perrin4869/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/perrin4869/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/perrin4869/subscriptions",
    "organizations_url": "https://api.github.com/users/perrin4869/orgs",
    "repos_url": "https://api.github.com/users/perrin4869/repos",
    "events_url": "https://api.github.com/users/perrin4869/events{/privacy}",
    "received_events_url": "https://api.github.com/users/perrin4869/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-07-04T05:37:35Z",
  "updated_at": "2018-08-02T21:31:04Z",
  "closed_at": "2016-07-11T00:03:17Z",
  "author_association": "NONE",
  "body": "In the following test, I rerender a component with different props using 3 different methods, and I get 3 different results. I am not sure if they are the intended behaviour or not (I think `renderIntoDocument` is behaving like I'd expect):\n\n``` js\nimport React, { Component } from 'react';\nimport { createRenderer, renderIntoDocument } from 'react-addons-test-utils';\nimport jsdom from 'mocha-jsdom';\n\nimport ReactDOM from 'react-dom';\n\nclass Foo extends Component {\n        componentWillReceiveProps() {\n                console.log('COMPONENT WILL RECEIVE PROPS');\n        }\n\n        componentDidUpdate() {\n                console.log('COMPONENT DID UPDATE');\n        }\n\n        render() {\n                return <div {...this.props}></div>;\n        }\n}\n\ndescribe('test', () => {\n        jsdom();\n\n        it('should trigger correct lifecycle events', () => {\n                console.log('ReactDOM.render');\n                const container = document.createElement('div');\n                ReactDOM.render(<Foo />, container);\n                ReactDOM.render(<Foo id={'myid'} />, container);\n                // COMPONENT WILL RECEIVE PROPS\n                // COMPONENT DID UPDATE\n\n                console.log('TestUtils.renderIntoDocument');\n                renderIntoDocument(<Foo />);\n                renderIntoDocument(<Foo id={'myid'} />);\n\n                console.log('Shallow Renderer');\n                const renderer = createRenderer();\n                renderer.render(<Foo />);\n                renderer.render(<Foo id={'myid'} />);\n                // COMPONENT WILL RECEIVE PROPS\n        });\n});\n```\n\n`componentDidUpdate` is triggered only by `ReactDOM.render`, `componentWillReceiveProps` is triggered by `ReactDOM.render` and by `TestUtils` shallow renderer. I am not sure how to test this feature using `renderIntoDocument`, I think it is not possible.\n\nI would expect `componentDidUpdate` to be triggered by the shallow renderer as well.\n\nI am using Node 6.0 and React 15.2.0.\n",
  "closed_by": {
    "login": "perrin4869",
    "id": 5774716,
    "node_id": "MDQ6VXNlcjU3NzQ3MTY=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/5774716?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/perrin4869",
    "html_url": "https://github.com/perrin4869",
    "followers_url": "https://api.github.com/users/perrin4869/followers",
    "following_url": "https://api.github.com/users/perrin4869/following{/other_user}",
    "gists_url": "https://api.github.com/users/perrin4869/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/perrin4869/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/perrin4869/subscriptions",
    "organizations_url": "https://api.github.com/users/perrin4869/orgs",
    "repos_url": "https://api.github.com/users/perrin4869/repos",
    "events_url": "https://api.github.com/users/perrin4869/events{/privacy}",
    "received_events_url": "https://api.github.com/users/perrin4869/received_events",
    "type": "User",
    "site_admin": false
  }
}
