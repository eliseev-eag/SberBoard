{
  "url": "https://api.github.com/repos/facebook/react/issues/11563",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11563/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11563/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11563/events",
  "html_url": "https://github.com/facebook/react/pull/11563",
  "id": 274141872,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTUyNzYzNzAw",
  "number": 11563,
  "title": "Set correct event type into SimulateNative methods",
  "user": {
    "login": "nhunzaker",
    "id": 590904,
    "node_id": "MDQ6VXNlcjU5MDkwNA==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/590904?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nhunzaker",
    "html_url": "https://github.com/nhunzaker",
    "followers_url": "https://api.github.com/users/nhunzaker/followers",
    "following_url": "https://api.github.com/users/nhunzaker/following{/other_user}",
    "gists_url": "https://api.github.com/users/nhunzaker/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nhunzaker/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nhunzaker/subscriptions",
    "organizations_url": "https://api.github.com/users/nhunzaker/orgs",
    "repos_url": "https://api.github.com/users/nhunzaker/repos",
    "events_url": "https://api.github.com/users/nhunzaker/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nhunzaker/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-11-15T12:38:21Z",
  "updated_at": "2018-06-04T21:11:52Z",
  "closed_at": "2018-01-05T17:08:02Z",
  "author_association": "COLLABORATOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/11563",
    "html_url": "https://github.com/facebook/react/pull/11563",
    "diff_url": "https://github.com/facebook/react/pull/11563.diff",
    "patch_url": "https://github.com/facebook/react/pull/11563.patch"
  },
  "body": "This commit fixes an issue where events generated by the test utils had no type. These events are not real DOM Event objects and their constructor did not assign the provided event type property:\r\n\r\nThis through me for a bit of a loop because I didn't realize the `Event` class was defined locally to this module; that it wasn't a DOM event. I've renamed this constructor to `FakeNativeEvent` for clarity.\r\n\r\nAdditionally, it looks like the Event object was being constructed with the top level type (`topClick` vs `click`). This commit ensures that ReactTestUtils.Simulate and ReactTestUtils.SimulateNative correctly assign the event type.\r\n\r\n**Why does this matter?**\r\n\r\nWorking through https://github.com/facebook/react/pull/11550, which evaluates assigning local listeners instead of event delegation, one of the biggest pieces of overhead is [the `dispatchEvent.bind(topLevelType)` done for every event attachment](https://github.com/facebook/react/blob/master/packages/react-dom/src/events/ReactDOMEventListener.js#L130). I believe we could just use the event type, avoiding the cost of the bind. \r\n\r\n**Other questions**\r\n\r\nDo we need a fake event constructor? Is it incorrect for `ReactTestUtils.SimulateNative` to dispatch a fake DOM event instead of just using the DOM Event constructor?\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
