{
  "url": "https://api.github.com/repos/facebook/react/issues/10100",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10100/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10100/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10100/events",
  "html_url": "https://github.com/facebook/react/issues/10100",
  "id": 240266423,
  "node_id": "MDU6SXNzdWUyNDAyNjY0MjM=",
  "number": 10100,
  "title": "setState callback called with null instead of undefined",
  "user": {
    "login": "gwmccull",
    "id": 580060,
    "node_id": "MDQ6VXNlcjU4MDA2MA==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/580060?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gwmccull",
    "html_url": "https://github.com/gwmccull",
    "followers_url": "https://api.github.com/users/gwmccull/followers",
    "following_url": "https://api.github.com/users/gwmccull/following{/other_user}",
    "gists_url": "https://api.github.com/users/gwmccull/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gwmccull/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gwmccull/subscriptions",
    "organizations_url": "https://api.github.com/users/gwmccull/orgs",
    "repos_url": "https://api.github.com/users/gwmccull/repos",
    "events_url": "https://api.github.com/users/gwmccull/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gwmccull/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/facebook/react/milestones/23",
    "html_url": "https://github.com/facebook/react/milestone/23",
    "labels_url": "https://api.github.com/repos/facebook/react/milestones/23/labels",
    "id": 1670888,
    "node_id": "MDk6TWlsZXN0b25lMTY3MDg4OA==",
    "number": 23,
    "title": "16.0",
    "description": "",
    "creator": {
      "login": "gaearon",
      "id": 810438,
      "node_id": "MDQ6VXNlcjgxMDQzOA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gaearon",
      "html_url": "https://github.com/gaearon",
      "followers_url": "https://api.github.com/users/gaearon/followers",
      "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
      "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
      "organizations_url": "https://api.github.com/users/gaearon/orgs",
      "repos_url": "https://api.github.com/users/gaearon/repos",
      "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gaearon/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 69,
    "state": "closed",
    "created_at": "2016-03-29T02:12:16Z",
    "updated_at": "2017-10-04T11:52:38Z",
    "due_on": null,
    "closed_at": "2017-10-04T11:52:38Z"
  },
  "comments": 4,
  "created_at": "2017-07-03T21:17:44Z",
  "updated_at": "2017-07-12T17:55:20Z",
  "closed_at": "2017-07-12T17:55:19Z",
  "author_association": "CONTRIBUTOR",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nbug\r\n\r\n**What is the current behavior?**\r\nIn React v16, the callback function that is an optional parameter to the `setState` function is called and passed a value of null.  Previously, in React v15, the function was called with a value of undefined.  This change breaks the default parameters feature of JavaScript.\r\n\r\nI discovered this behavior while working on a React Native project (hence the example using View & Text).\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/84v837e9/).**\r\n\r\n```\r\nimport React, {\r\n\tComponent,\r\n} from 'react';\r\n\r\nexport default class MyComp extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({}, (val) => console.log(val))\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<View>\r\n\t\t\t\t<Text>{this.props.climbs}</Text>\r\n\t\t\t</View>\r\n\t\t);\r\n\t}\r\n}\r\n```\r\n\r\n**What is the expected behavior?**\r\nThe callback function will be called with undefined\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nBroken behavior was observed in React 16 alpha 12 and React Native 0.45.1.  \r\n\r\nI replicated the issue in React 15.4.1 and React Native 0.40.0 and it was working as expected.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
