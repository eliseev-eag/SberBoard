{
  "url": "https://api.github.com/repos/facebook/react/issues/10140",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10140/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10140/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10140/events",
  "html_url": "https://github.com/facebook/react/issues/10140",
  "id": 241944244,
  "node_id": "MDU6SXNzdWUyNDE5NDQyNDQ=",
  "number": 10140,
  "title": "Fiber infinite recursion in mounting lifecycle",
  "user": {
    "login": "gre",
    "id": 211411,
    "node_id": "MDQ6VXNlcjIxMTQxMQ==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/211411?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gre",
    "html_url": "https://github.com/gre",
    "followers_url": "https://api.github.com/users/gre/followers",
    "following_url": "https://api.github.com/users/gre/following{/other_user}",
    "gists_url": "https://api.github.com/users/gre/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gre/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gre/subscriptions",
    "organizations_url": "https://api.github.com/users/gre/orgs",
    "repos_url": "https://api.github.com/users/gre/repos",
    "events_url": "https://api.github.com/users/gre/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gre/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/facebook/react/milestones/23",
    "html_url": "https://github.com/facebook/react/milestone/23",
    "labels_url": "https://api.github.com/repos/facebook/react/milestones/23/labels",
    "id": 1670888,
    "node_id": "MDk6TWlsZXN0b25lMTY3MDg4OA==",
    "number": 23,
    "title": "16.0",
    "description": "",
    "creator": {
      "login": "gaearon",
      "id": 810438,
      "node_id": "MDQ6VXNlcjgxMDQzOA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gaearon",
      "html_url": "https://github.com/gaearon",
      "followers_url": "https://api.github.com/users/gaearon/followers",
      "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
      "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
      "organizations_url": "https://api.github.com/users/gaearon/orgs",
      "repos_url": "https://api.github.com/users/gaearon/repos",
      "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gaearon/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 69,
    "state": "closed",
    "created_at": "2016-03-29T02:12:16Z",
    "updated_at": "2017-10-04T11:52:38Z",
    "due_on": null,
    "closed_at": "2017-10-04T11:52:38Z"
  },
  "comments": 11,
  "created_at": "2017-07-11T06:46:11Z",
  "updated_at": "2017-07-13T22:56:03Z",
  "closed_at": "2017-07-13T22:56:03Z",
  "author_association": "CONTRIBUTOR",
  "body": "here is an app https://gist.github.com/gre/52e28f74eda0beccc17e880efe18c250\r\nThere is intentionally a bug in this app: the App component returns `<Demo setVariables={v=>this.setState(..)} variables={..} />` and `Demo` calls `setVariables` in componentDidMount and componentWillReceiveProps (it shouldn't, this is bad user code). What this issue raises is a regression behaviour in React 16 compared to 15.\r\n\r\n\r\nin React 15 : it renders but you directly get a `Uncaught RangeError: Maximum call stack size exceeded`.\r\nin React 16 : nothing renders, the app never loads and the browser is spinning forever! I think React is stuck in an infinite recursion.\r\n\r\nI presume this is because fiber is by nature async. The fact things never ends makes it very hard to investigate and isolate the source of the problem in a large codebase.\r\nshould there be some sort of maximum call stack in Fiber ?\r\n\r\n> Context: When we migrated our app to latest React Native recently, we had a weird freezing case: the app was completely unresponsive (no button works) but you could still do native actions like scroll a ScrollView. however, even the RN devtool menu action was not working (like the inspector) â€“ probably because it involves JS and React was just stuck in this recursion loop.\r\nIn our case, the issue was because calling `relay.setVariables` in lifecycle but with a wrong logic. for some reason our code used to work in the past but now creates this recursion loop.",
  "closed_by": {
    "login": "acdlite",
    "id": 3624098,
    "node_id": "MDQ6VXNlcjM2MjQwOTg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3624098?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acdlite",
    "html_url": "https://github.com/acdlite",
    "followers_url": "https://api.github.com/users/acdlite/followers",
    "following_url": "https://api.github.com/users/acdlite/following{/other_user}",
    "gists_url": "https://api.github.com/users/acdlite/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acdlite/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acdlite/subscriptions",
    "organizations_url": "https://api.github.com/users/acdlite/orgs",
    "repos_url": "https://api.github.com/users/acdlite/repos",
    "events_url": "https://api.github.com/users/acdlite/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acdlite/received_events",
    "type": "User",
    "site_admin": false
  }
}
