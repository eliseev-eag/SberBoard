{
  "url": "https://api.github.com/repos/facebook/react/issues/11221",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11221/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11221/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11221/events",
  "html_url": "https://github.com/facebook/react/issues/11221",
  "id": 265425472,
  "node_id": "MDU6SXNzdWUyNjU0MjU0NzI=",
  "number": 11221,
  "title": "Code snippet in docs unexpectedly throws",
  "user": {
    "login": "shawninder",
    "id": 484730,
    "node_id": "MDQ6VXNlcjQ4NDczMA==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/484730?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shawninder",
    "html_url": "https://github.com/shawninder",
    "followers_url": "https://api.github.com/users/shawninder/followers",
    "following_url": "https://api.github.com/users/shawninder/following{/other_user}",
    "gists_url": "https://api.github.com/users/shawninder/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shawninder/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shawninder/subscriptions",
    "organizations_url": "https://api.github.com/users/shawninder/orgs",
    "repos_url": "https://api.github.com/users/shawninder/repos",
    "events_url": "https://api.github.com/users/shawninder/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shawninder/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-10-13T21:35:41Z",
  "updated_at": "2017-10-17T18:51:18Z",
  "closed_at": "2017-10-16T20:03:58Z",
  "author_association": "NONE",
  "body": "## Bug Report\r\nThe docs present an example code snippet which crashes the js process. See https://reactjs.org/docs/refs-and-the-dom.html#adding-a-ref-to-a-dom-element\r\n\r\nIn particular, notice the highlighted parts of the code snippet and the first sentence under the snipppet, which reads \"React will call the ref callback with the DOM element when the component mounts, and call it with null when it unmounts.\".\r\n\r\n1. If the ref callback is called with null, the callback will be doing `this.textInput = null;`.\r\n2. From that moment on, if a user clicks the second input (the button), the `focusTextInput` method will do `this.textInput.focus();`.\r\n3. But since `this.textInput` is null, it's really doing `this.null.focus();`.\r\n4. Yet `focus` is not a method of `null`, so this will throw\r\n\r\nI would suggest adding a little guard for this in the code snippet so that people can copy-paste without worry, replacing this:\r\n```\r\nthis.textInput.focus();\r\n```\r\nwith this:\r\n```\r\nthis.textInput && this.textInput.focus();\r\n```\r\nor something like this.\r\n\r\nThis was found in the docs for React v16.0.0",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
