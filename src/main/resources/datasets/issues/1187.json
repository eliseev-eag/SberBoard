{
  "url": "https://api.github.com/repos/facebook/react/issues/1187",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/1187/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/1187/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/1187/events",
  "html_url": "https://github.com/facebook/react/issues/1187",
  "id": 28372470,
  "node_id": "MDU6SXNzdWUyODM3MjQ3MA==",
  "number": 1187,
  "title": "Inconsistent calling of setState's callback",
  "user": {
    "login": "nick-thompson",
    "id": 1278445,
    "node_id": "MDQ6VXNlcjEyNzg0NDU=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/1278445?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nick-thompson",
    "html_url": "https://github.com/nick-thompson",
    "followers_url": "https://api.github.com/users/nick-thompson/followers",
    "following_url": "https://api.github.com/users/nick-thompson/following{/other_user}",
    "gists_url": "https://api.github.com/users/nick-thompson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nick-thompson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nick-thompson/subscriptions",
    "organizations_url": "https://api.github.com/users/nick-thompson/orgs",
    "repos_url": "https://api.github.com/users/nick-thompson/repos",
    "events_url": "https://api.github.com/users/nick-thompson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nick-thompson/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 139653724,
      "node_id": "MDU6TGFiZWwxMzk2NTM3MjQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Core%20Utilities",
      "name": "Component: Core Utilities",
      "color": "c5def5",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2014-02-26T21:43:09Z",
  "updated_at": "2017-10-01T22:33:00Z",
  "closed_at": "2017-10-01T22:33:00Z",
  "author_association": "CONTRIBUTOR",
  "body": "When passing a callback to `setState`, such as...\n\n``` js\nthis.setState({react: 'lulz'}, function() {\n  console.log('react updated my state, yay');\n});\n```\n\n... it's unclear whether or not that callback will be called synchronously or asynchronously. Specifically, it seems to be that the callback is executed synchronously after React decides to effect your state changes, but it's unclear whether or not React will effect your state changes asynchronously or synchronously, which makes it hard to reason about how the callback will be called. It seems to me that, for consistency, even when React effects your state changes synchronously, the callback should be shoved off into the event loop to be called asynchronously for the sake of a consistent API.\n\nExample 1: http://jsfiddle.net/DN44g/2/\nThis case shows an example where the callback passed to setState gets called synchronously, because the state change is effected synchronously (look in the console; the numbers only start getting logged after you've clicked \"ok\" on the alert box).\n\nExample 2: http://jsfiddle.net/kb3gN/1385/\nThis case shows an example where the callback is executed asynchronously, because the state change is effected asynchronously; see the comments in the fiddle.\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
