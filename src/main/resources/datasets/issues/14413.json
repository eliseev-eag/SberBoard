{
  "url": "https://api.github.com/repos/facebook/react/issues/14413",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14413/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14413/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14413/events",
  "html_url": "https://github.com/facebook/react/issues/14413",
  "id": 389336610,
  "node_id": "MDU6SXNzdWUzODkzMzY2MTA=",
  "number": 14413,
  "title": "useMemo gets called twice with Suspense",
  "user": {
    "login": "Ephem",
    "id": 7420167,
    "node_id": "MDQ6VXNlcjc0MjAxNjc=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/7420167?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Ephem",
    "html_url": "https://github.com/Ephem",
    "followers_url": "https://api.github.com/users/Ephem/followers",
    "following_url": "https://api.github.com/users/Ephem/following{/other_user}",
    "gists_url": "https://api.github.com/users/Ephem/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Ephem/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Ephem/subscriptions",
    "organizations_url": "https://api.github.com/users/Ephem/orgs",
    "repos_url": "https://api.github.com/users/Ephem/repos",
    "events_url": "https://api.github.com/users/Ephem/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Ephem/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 710722093,
      "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
      "name": "Type: Needs Investigation",
      "color": "fbca04",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-12-10T14:52:02Z",
  "updated_at": "2019-01-18T03:13:41Z",
  "closed_at": "2019-01-18T03:13:41Z",
  "author_association": "CONTRIBUTOR",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nPossible (future) bug\r\n\r\n**What is the current behavior?**\r\n\r\nI have a feeling this might be a known tradeoff because of how the reconciler throws away an unfinished subtree when a Promise is thrown, but since it surprised me and wasn't documented I felt I should report it anyway. If it is known/intended, feel free to close.\r\n\r\nIf a component with useMemo re-renders because of a thrown Promise (Suspense), function is not memoized and gets called twice.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nhttps://codesandbox.io/s/72o4mznvr1\r\n\r\n**What is the expected behavior?**\r\n\r\nuseMemo gets called once?\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\n16.7.0-alpha.2",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
