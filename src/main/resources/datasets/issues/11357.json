{
  "url": "https://api.github.com/repos/facebook/react/issues/11357",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11357/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11357/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11357/events",
  "html_url": "https://github.com/facebook/react/issues/11357",
  "id": 268311304,
  "node_id": "MDU6SXNzdWUyNjgzMTEzMDQ=",
  "number": 11357,
  "title": "[Bug?] onMouseEvent doesn't exsit in canvas",
  "user": {
    "login": "Zaynex",
    "id": 13745971,
    "node_id": "MDQ6VXNlcjEzNzQ1OTcx",
    "avatar_url": "https://avatars0.githubusercontent.com/u/13745971?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Zaynex",
    "html_url": "https://github.com/Zaynex",
    "followers_url": "https://api.github.com/users/Zaynex/followers",
    "following_url": "https://api.github.com/users/Zaynex/following{/other_user}",
    "gists_url": "https://api.github.com/users/Zaynex/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Zaynex/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Zaynex/subscriptions",
    "organizations_url": "https://api.github.com/users/Zaynex/orgs",
    "repos_url": "https://api.github.com/users/Zaynex/repos",
    "events_url": "https://api.github.com/users/Zaynex/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Zaynex/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-10-25T08:36:55Z",
  "updated_at": "2017-10-25T13:40:49Z",
  "closed_at": "2017-10-25T13:40:48Z",
  "author_association": "NONE",
  "body": "I want to report a bug.\r\n```\r\n\"react\": \"^15.4.2\",\r\n\"react-dom\": \"^15.4.2\",\r\n```\r\n\r\nWhen I use onMouseMove event in canvas, I can't get the MouseEvent, But just get Proxy\r\n![image](https://user-images.githubusercontent.com/13745971/31988510-f4ea0540-b9a1-11e7-947e-d9a1b7454a3f.png)\r\n\r\nSo I have to use addEventListener get the MouseEvent\r\n![image](https://user-images.githubusercontent.com/13745971/31988639-5e25d7f0-b9a2-11e7-9bed-0949e10b066d.png)\r\n\r\nHere is my test code\r\n```\r\nimport React, { Component } from 'react'\r\nclass CanvasColor extends Component {\r\n  constructor () {\r\n    super()\r\n    this.color = '#ffffff'\r\n  }\r\n  componentDidMount () {\r\n    this.context = document.querySelector('canvas')\r\n    this.ctx = this.context.getContext('2d')\r\n    this.renderCanvas()\r\n\r\n    this.context.addEventListener('mousemove', this.getColor, false)\r\n  }\r\n\r\n  getColor = (e) => {\r\n    console.log(e, e.target)\r\n    const x = e.layerX\r\n    const y = e.layerY\r\n    const { data } = this.ctx.getImageData(x, y, 1, 1)\r\n    // a to [0, 1]\r\n    data[3] = parseFloat(data[3] / 255)\r\n    this.color = 'rgba(' + data.join(', ') + ')'\r\n    console.log(this.color)\r\n  }\r\n  renderCanvas = () => {\r\n    const imageSource = document.querySelector('img')\r\n    this.context.width = imageSource.width\r\n    this.context.height = imageSource.height\r\n    this.context.style.position = 'absolute'\r\n    this.context.style.zIndex = 2 ** 31 - 1\r\n    this.context.style.top = 0\r\n    this.ctx.drawImage(imageSource, 0, 0, imageSource.width, imageSource.height)\r\n  }\r\n\r\n  onMouseMove = (e) => {\r\n    this.getColor(e)\r\n  }\r\n  render () {\r\n    return (\r\n      <div>\r\n        {/* <canvas width=\"0\" height=\"0\" onMouseMove={this.getColor}></canvas> */}\r\n        <canvas width=\"0\" height=\"0\" ></canvas>\r\n        <img src=\"https://mdn.mozillademos.org/files/5397/rhino.jpg\" alt=\"\" />\r\n      </div>\r\n    )\r\n  }\r\n}",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
