{
  "url": "https://api.github.com/repos/facebook/react/issues/3225",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/3225/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/3225/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/3225/events",
  "html_url": "https://github.com/facebook/react/issues/3225",
  "id": 58483188,
  "node_id": "MDU6SXNzdWU1ODQ4MzE4OA==",
  "number": 3225,
  "title": "JSXTransformer breaks when creating source maps and defineProperty not available",
  "user": {
    "login": "Daniel15",
    "id": 91933,
    "node_id": "MDQ6VXNlcjkxOTMz",
    "avatar_url": "https://avatars2.githubusercontent.com/u/91933?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Daniel15",
    "html_url": "https://github.com/Daniel15",
    "followers_url": "https://api.github.com/users/Daniel15/followers",
    "following_url": "https://api.github.com/users/Daniel15/following{/other_user}",
    "gists_url": "https://api.github.com/users/Daniel15/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Daniel15/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Daniel15/subscriptions",
    "organizations_url": "https://api.github.com/users/Daniel15/orgs",
    "repos_url": "https://api.github.com/users/Daniel15/repos",
    "events_url": "https://api.github.com/users/Daniel15/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Daniel15/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2015-02-22T00:38:29Z",
  "updated_at": "2015-06-18T18:28:49Z",
  "closed_at": "2015-06-18T18:28:49Z",
  "author_association": "MEMBER",
  "body": "If JSXTransformer is called with `sourceMap: true` as an option but the JavaScript environment does not have `Object.defineProperty`, the transformation dies here with an \"Object doesn't support property or method 'defineProperty'\" exception:\n\n```\n  /**\n   * The list of original sources.\n   */\n  Object.defineProperty(SourceMapConsumer.prototype, 'sources', { \n```\n\nThis should degrade more gracefully and simply turn off source maps if not available. If I pass `sourceMap: false` rather than true, everything works fine, so it just seems like some code needs to be gated with an environment check. There does appear to be some logic in JSXTransformer to try and detect this, but it seems like this check is either incomplete or some other code also needs to be wrapped in this check:\n\n```\n// The source-map library relies on Object.defineProperty, but IE8 doesn't\n// support it fully even with es5-sham. Indeed, es5-sham's defineProperty\n// throws when Object.prototype.__defineGetter__ is missing, so we skip building\n// the source map in that case.\nvar supportsAccessors = Object.prototype.hasOwnProperty('__defineGetter__');\n```\n\nAlso see https://github.com/reactjs/React.NET/issues/89\n",
  "closed_by": {
    "login": "zpao",
    "id": 8445,
    "node_id": "MDQ6VXNlcjg0NDU=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/8445?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zpao",
    "html_url": "https://github.com/zpao",
    "followers_url": "https://api.github.com/users/zpao/followers",
    "following_url": "https://api.github.com/users/zpao/following{/other_user}",
    "gists_url": "https://api.github.com/users/zpao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zpao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zpao/subscriptions",
    "organizations_url": "https://api.github.com/users/zpao/orgs",
    "repos_url": "https://api.github.com/users/zpao/repos",
    "events_url": "https://api.github.com/users/zpao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zpao/received_events",
    "type": "User",
    "site_admin": false
  }
}
