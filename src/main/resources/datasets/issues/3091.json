{
  "url": "https://api.github.com/repos/facebook/react/issues/3091",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/3091/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/3091/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/3091/events",
  "html_url": "https://github.com/facebook/react/issues/3091",
  "id": 56967015,
  "node_id": "MDU6SXNzdWU1Njk2NzAxNQ==",
  "number": 3091,
  "title": "React TestUtils Simulate change doesn't change checked state of checkbox",
  "user": {
    "login": "dangerbell",
    "id": 241762,
    "node_id": "MDQ6VXNlcjI0MTc2Mg==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/241762?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dangerbell",
    "html_url": "https://github.com/dangerbell",
    "followers_url": "https://api.github.com/users/dangerbell/followers",
    "following_url": "https://api.github.com/users/dangerbell/following{/other_user}",
    "gists_url": "https://api.github.com/users/dangerbell/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dangerbell/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dangerbell/subscriptions",
    "organizations_url": "https://api.github.com/users/dangerbell/orgs",
    "repos_url": "https://api.github.com/users/dangerbell/repos",
    "events_url": "https://api.github.com/users/dangerbell/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dangerbell/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2015-02-08T20:49:19Z",
  "updated_at": "2015-02-11T02:13:10Z",
  "closed_at": "2015-02-11T02:13:10Z",
  "author_association": "NONE",
  "body": "I'm not sure if this is a React Simulate thing or if it's something to do with how the DOM works in Jest.\n\nI have a simple test to click a checkbox and report the new state back to the component. It worked fine in the browser but the Simulate.change didn't report the new state.\n\nThis example shows the error happening on just the checkbox:\n\n``` javascript\ndescribe('Checkbox', function() {\n  it('should change the \"checked\" state of the checkbox', function() {\n    var changeHandler = function(e) {\n      console.log(e.currentTarget.checked);\n    };\n\n    var checkbox = TestUtils.renderIntoDocument(<input type=\"checkbox\" defaultChecked={false} onChange={changeHandler} />);\n    TestUtils.Simulate.change(checkbox.getDOMNode());\n  });\n});\n```\n\nI expect to see 'true' in the console and that's what happens in the browser (Chrome & FireFox), but not in the test.\n\nIn my understanding the change handler is supposed to happen after the state change on the element.\n\nThe test shows the same behaviour if I use a \"controlled\" or an \"uncontrolled\" component. And shows the same behaviour if I simulate a click event and use a click handler.\n",
  "closed_by": {
    "login": "dangerbell",
    "id": 241762,
    "node_id": "MDQ6VXNlcjI0MTc2Mg==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/241762?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dangerbell",
    "html_url": "https://github.com/dangerbell",
    "followers_url": "https://api.github.com/users/dangerbell/followers",
    "following_url": "https://api.github.com/users/dangerbell/following{/other_user}",
    "gists_url": "https://api.github.com/users/dangerbell/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dangerbell/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dangerbell/subscriptions",
    "organizations_url": "https://api.github.com/users/dangerbell/orgs",
    "repos_url": "https://api.github.com/users/dangerbell/repos",
    "events_url": "https://api.github.com/users/dangerbell/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dangerbell/received_events",
    "type": "User",
    "site_admin": false
  }
}
