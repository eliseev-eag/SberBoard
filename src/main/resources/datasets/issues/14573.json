{
  "url": "https://api.github.com/repos/facebook/react/issues/14573",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14573/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14573/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14573/events",
  "html_url": "https://github.com/facebook/react/issues/14573",
  "id": 398365594,
  "node_id": "MDU6SXNzdWUzOTgzNjU1OTQ=",
  "number": 14573,
  "title": "[Bug] React context break if Context.Consumer is replaced with webpack.resolve.alias",
  "user": {
    "login": "kopax",
    "id": 1866564,
    "node_id": "MDQ6VXNlcjE4NjY1NjQ=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1866564?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kopax",
    "html_url": "https://github.com/kopax",
    "followers_url": "https://api.github.com/users/kopax/followers",
    "following_url": "https://api.github.com/users/kopax/following{/other_user}",
    "gists_url": "https://api.github.com/users/kopax/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kopax/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kopax/subscriptions",
    "organizations_url": "https://api.github.com/users/kopax/orgs",
    "repos_url": "https://api.github.com/users/kopax/repos",
    "events_url": "https://api.github.com/users/kopax/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kopax/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-01-11T16:40:42Z",
  "updated_at": "2019-01-11T18:04:19Z",
  "closed_at": "2019-01-11T18:04:19Z",
  "author_association": "NONE",
  "body": "I need help to understand why Webpack `resolve.alias` and React 16 `context` have issue to work together.\r\n\r\nI want to use [react-admin](https://github.com/marmelab/react-admin/tree/v2.6.0/) with a different internationalization engine.\r\n \r\nUsing `resolve.alias`, I want to plug my `TranslationProvider` that use **react-intl** instead of **polyglot** without forking nor editing their source.\r\n\r\nThis component contain context consumer. I found the context different after I plug the same  code for `TranslationProvider` with `resolve.alias` that is use normal, I expect it to create the same context.\r\n\r\nThe file I am replacing is : https://github.com/marmelab/react-admin/blob/v2.6.1/packages/ra-core/src/i18n/TranslationProvider.tsx\r\n\r\nIt is imported  here https://github.com/marmelab/react-admin/blob/v2.6.1/packages/ra-core/src/CoreAdmin.tsx#L15 \r\n\r\nI have configured `webpack.resolve.alias['./i18n/TranslationProvider'] = join(__dirname, 'src/react-admin-intl/ra-core/i18n/TranslationProvider');`\r\n\r\nWhen I use the alias, the `context.translate` function is different, while the executed code should be equal.\r\n\r\n\r\nIn one case I have `translate` function that look like : \r\n\r\n    $tmp = ƒ (key, options) {\r\n      var phrase, result;\r\n      var opts = options == null ? {} : options;\r\n    \r\n      if (typeof this.phrases[key] === 'string') {\r\n        phrase = this.phrases[key];\r\n      } else if (typeof opts._ === 'str…\r\n\r\nWith the alias it look like:\r\n\r\n\r\n     $tmp = ƒ translate(id) {\r\n        return id;\r\n      }\r\n\r\n\r\nDoes react context get broke when tweak are made through Webpack resolve alias or is it not possible?\r\n\r\nI am out of theory, can anyone explain this?\r\n\r\n\r\n### Version:\r\n\r\n- react 16.7.0\r\n- react-admin 2.6.0\r\n- node v11.2.0\r\n- npm 6.5.0\r\n",
  "closed_by": {
    "login": "kopax",
    "id": 1866564,
    "node_id": "MDQ6VXNlcjE4NjY1NjQ=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1866564?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kopax",
    "html_url": "https://github.com/kopax",
    "followers_url": "https://api.github.com/users/kopax/followers",
    "following_url": "https://api.github.com/users/kopax/following{/other_user}",
    "gists_url": "https://api.github.com/users/kopax/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kopax/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kopax/subscriptions",
    "organizations_url": "https://api.github.com/users/kopax/orgs",
    "repos_url": "https://api.github.com/users/kopax/repos",
    "events_url": "https://api.github.com/users/kopax/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kopax/received_events",
    "type": "User",
    "site_admin": false
  }
}
