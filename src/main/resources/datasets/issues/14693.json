{
  "url": "https://api.github.com/repos/facebook/react/issues/14693",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14693/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14693/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14693/events",
  "html_url": "https://github.com/facebook/react/issues/14693",
  "id": 402786698,
  "node_id": "MDU6SXNzdWU0MDI3ODY2OTg=",
  "number": 14693,
  "title": "onChange event breaking garbage collection?",
  "user": {
    "login": "leemun1",
    "id": 17537040,
    "node_id": "MDQ6VXNlcjE3NTM3MDQw",
    "avatar_url": "https://avatars2.githubusercontent.com/u/17537040?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leemun1",
    "html_url": "https://github.com/leemun1",
    "followers_url": "https://api.github.com/users/leemun1/followers",
    "following_url": "https://api.github.com/users/leemun1/following{/other_user}",
    "gists_url": "https://api.github.com/users/leemun1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leemun1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leemun1/subscriptions",
    "organizations_url": "https://api.github.com/users/leemun1/orgs",
    "repos_url": "https://api.github.com/users/leemun1/repos",
    "events_url": "https://api.github.com/users/leemun1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leemun1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 620368407,
      "node_id": "MDU6TGFiZWw2MjAzNjg0MDc=",
      "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information",
      "name": "Resolution: Needs More Information",
      "color": "fffde7",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-01-24T16:21:43Z",
  "updated_at": "2019-02-08T16:58:32Z",
  "closed_at": null,
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\nGarbage collection seems to \"break\" when an `onChange` event is fired.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n**What is the expected behavior?**\r\nConsistent garbage collection behaviour\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nWindows 10 Home Edition\r\nChrome Version 71.0.3578.98 (Official Build) (64-bit)\r\nReact 16.6.3\r\n\r\n### Some context\r\nIn my application, I have some renderings of 3D models (using three.js)\r\nUsing the `onMouseMove` event on a canvas element, I calculate the current position of my mouse in terms of 3d space, and detects what models are near that position. \r\nI am doing this on the `onMouseMove` event attached to my `<canvas>` component. \r\n\r\nI also use an `<input>` component of type `range`, to change the \"search radius\" for objects detection. I am using the `onChange` synthetic event on this component.\r\n\r\nEverything works fine initially, but as soon as I use the input component, thus firing the `onChange` events, the application starts to lag. I went into the performance monitor in Chrome's DevTools and recorded a performance profile, and noticed that there is something weird happening to GC behaviour before and after the `onChange` events.\r\n\r\n### Screenshot of Chrome Devtools performance monitor\r\n![image](https://user-images.githubusercontent.com/17537040/51691161-3f740880-1fc8-11e9-91a6-0067cd6d4304.png)\r\n\r\nIt seems like GC is working fine before the `onChange` events are fired, but once the events are fired, it changes its behaviour and does not show the \"zigzag\" pattern anymore. \r\n\r\nAnd this is precisely where the app starts lagging, and all function calls take much longer than before.\r\n\r\nCan anyone help me understand what is going on here and how to resolve this issue?\r\n\r\nThank you in advance.",
  "closed_by": null
}
