{
  "url": "https://api.github.com/repos/facebook/react/issues/11895",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11895/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11895/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11895/events",
  "html_url": "https://github.com/facebook/react/issues/11895",
  "id": 283617676,
  "node_id": "MDU6SXNzdWUyODM2MTc2NzY=",
  "number": 11895,
  "title": "TypeError: CSS2Properties doesn’t have an indexed property setter for ‘0’ - Firefox Quantum",
  "user": {
    "login": "codeuniquely",
    "id": 1037719,
    "node_id": "MDQ6VXNlcjEwMzc3MTk=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1037719?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/codeuniquely",
    "html_url": "https://github.com/codeuniquely",
    "followers_url": "https://api.github.com/users/codeuniquely/followers",
    "following_url": "https://api.github.com/users/codeuniquely/following{/other_user}",
    "gists_url": "https://api.github.com/users/codeuniquely/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/codeuniquely/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/codeuniquely/subscriptions",
    "organizations_url": "https://api.github.com/users/codeuniquely/orgs",
    "repos_url": "https://api.github.com/users/codeuniquely/repos",
    "events_url": "https://api.github.com/users/codeuniquely/events{/privacy}",
    "received_events_url": "https://api.github.com/users/codeuniquely/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 620368407,
      "node_id": "MDU6TGFiZWw2MjAzNjg0MDc=",
      "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information",
      "name": "Resolution: Needs More Information",
      "color": "fffde7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2017-12-20T16:19:41Z",
  "updated_at": "2019-05-09T00:44:35Z",
  "closed_at": "2017-12-22T13:17:53Z",
  "author_association": "NONE",
  "body": "React v16.2.0\r\nReactDom V 16.2.0\r\n\r\nReport a *bug*\r\n\r\nAny component that uses inline styles, fails in Firefox Quantum 57.0.1 (64 Bit)\r\n\r\n```\r\nconst styled = Object.assign({}, {\r\n   width: `${percent}%`,\r\n});\r\n\r\n<div className=\"progress-bar\">\r\n  <div className=\"bar\" style={styled} />\r\n</div>\r\n```\r\n    \r\nIf you only use classNames - then everything works as expected - (even wrapping the styles in an Object.assign - as shown above, does not fix this issue)\r\n\r\nThe code fails in React.Dom in the following function:\r\n\r\n```\r\nfunction setValueForStyles(node, styles, getStack) {\r\n  var style = node.style;\r\n  for (var styleName in styles) {\r\n    if (!styles.hasOwnProperty(styleName)) {\r\n      continue;\r\n    }\r\n    var isCustomProperty = styleName.indexOf('--') === 0;\r\n    {\r\n      if (!isCustomProperty) {\r\n        warnValidStyle$1(styleName, styles[styleName], getStack);\r\n      }\r\n    }\r\n    var styleValue = dangerousStyleValue(styleName, styles[styleName], isCustomProperty);\r\n    if (styleName === 'float') {\r\n      styleName = 'cssFloat';\r\n    }\r\n    if (isCustomProperty) {\r\n      style.setProperty(styleName, styleValue);\r\n    } else {\r\n      style[styleName] = styleValue;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIf you inspect the line\r\n```\r\nstyle.setProperty(styleName, styleValue);\r\n```\r\nthen style name and styleValue are fine (matching the values passed in)\r\n\r\nhowever if you inspect the line\r\n```\r\nstyle[styleName] = styleValue;\r\n```\r\n\r\nThen styleName here is *undefined*\r\n\r\nAlso if you inspect the line\r\n```\r\nvar styleValue = dangerousStyleValue(styleName, styles[styleName], isCustomProperty);\r\n```\r\n\r\nThe first argument *styleName* is absolutely fine (and contains values) - but if you look at the second argument *styles[styleName]* then styleName here is undefined...\r\n\r\nQuantum is clearly doing something screwy - but basically any React app run in quantum curreblt breaks.\r\n\r\n*Quantum's console - exception output*\r\n```\r\nsetValueForStyles\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:12727:7\r\nsetInitialDOMProperties\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:13780:7\r\nsetInitialProperties$1\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:13984:3\r\nfinalizeInitialChildren\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:14989:5\r\ncompleteWork\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:8648:19\r\ncompleteUnitOfWork\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10132:18\r\nperformUnitOfWork\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10234:14\r\nworkLoop\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10288:26\r\ncallCallback\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:542:9\r\ninvokeGuardedCallbackDev\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:581:7\r\ninvokeGuardedCallback\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:438:5\r\nrenderRoot\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10366:7\r\nperformWorkOnRoot\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:11014:24\r\nperformWork\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10967:7\r\nrequestWork\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10878:7\r\nscheduleWorkImpl\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10732:11\r\nscheduleWork\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:10689:12\r\nscheduleTopLevelUpdate\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:11193:5\r\nupdateContainer\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:11231:7\r\nrenderSubtreeIntoContainer/<\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:15226:7\r\nunbatchedUpdates\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:11102:12\r\nrenderSubtreeIntoContainer\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:15225:5\r\nrender\r\nwebpack:///./node_modules/react-dom/cjs/react-dom.development.js?:15290:12\r\n<a\r\n```\r\n\r\nI would expect the function to work o Quantum as it does on Chrome, Safari, Edge\r\n\r\nIt looks like a Quantum issue in some why, but can the function be coded so check in some way or look for CSS2Property or whatever it needs to write a style like width directly\r\n",
  "closed_by": {
    "login": "codeuniquely",
    "id": 1037719,
    "node_id": "MDQ6VXNlcjEwMzc3MTk=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1037719?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/codeuniquely",
    "html_url": "https://github.com/codeuniquely",
    "followers_url": "https://api.github.com/users/codeuniquely/followers",
    "following_url": "https://api.github.com/users/codeuniquely/following{/other_user}",
    "gists_url": "https://api.github.com/users/codeuniquely/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/codeuniquely/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/codeuniquely/subscriptions",
    "organizations_url": "https://api.github.com/users/codeuniquely/orgs",
    "repos_url": "https://api.github.com/users/codeuniquely/repos",
    "events_url": "https://api.github.com/users/codeuniquely/events{/privacy}",
    "received_events_url": "https://api.github.com/users/codeuniquely/received_events",
    "type": "User",
    "site_admin": false
  }
}
