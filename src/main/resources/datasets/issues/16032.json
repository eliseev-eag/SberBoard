{
  "url": "https://api.github.com/repos/facebook/react/issues/16032",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16032/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16032/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16032/events",
  "html_url": "https://github.com/facebook/react/issues/16032",
  "id": 463109500,
  "node_id": "MDU6SXNzdWU0NjMxMDk1MDA=",
  "number": 16032,
  "title": "Search filter does not work across the react-table on setState : React JS",
  "user": {
    "login": "vjr12",
    "id": 42905121,
    "node_id": "MDQ6VXNlcjQyOTA1MTIx",
    "avatar_url": "https://avatars3.githubusercontent.com/u/42905121?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vjr12",
    "html_url": "https://github.com/vjr12",
    "followers_url": "https://api.github.com/users/vjr12/followers",
    "following_url": "https://api.github.com/users/vjr12/following{/other_user}",
    "gists_url": "https://api.github.com/users/vjr12/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vjr12/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vjr12/subscriptions",
    "organizations_url": "https://api.github.com/users/vjr12/orgs",
    "repos_url": "https://api.github.com/users/vjr12/repos",
    "events_url": "https://api.github.com/users/vjr12/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vjr12/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-07-02T09:05:11Z",
  "updated_at": "2019-07-02T15:28:12Z",
  "closed_at": "2019-07-02T15:28:12Z",
  "author_association": "NONE",
  "body": "I am using react-table for data grid purposes. All I am trying to implement  a search filter that searches data across the table and filters down by using filter method. I have maintained a separate component for Searching and I set the table's data inside search component. The filtering breaks when the characters are being deleted from the search filter. Am I doing something wrong here. \r\n\r\nSandbox: https://codesandbox.io/s/stoic-gould-kw9iq\r\n\r\nSearchComponent\r\n------------------\r\n``````````````````````````\r\nimport React from \"react\";\r\nimport { Input } from \"semantic-ui-react\";\r\n\r\nexport default class DropDownComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filteredData: [],\r\n      searchInput: \"\"\r\n    };\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({ searchInput: event.target.value }, () =>\r\n      this.globalSearch()\r\n    );\r\n  };\r\n\r\n  globalSearch = () => {\r\n    let { searchInput } = this.state;\r\n    let filteredData = this.props.data.filter(value => {\r\n      return (\r\n        value.firstName.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        value.status.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        value.visits\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(searchInput.toLowerCase())\r\n      );\r\n    });\r\n    this.props.handleSetData(\r\n      (filteredData.length > 0 && filteredData) || searchInput\r\n        ? filteredData\r\n        : this.props.data\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <br />\r\n        <Input\r\n          size=\"large\"\r\n          name=\"searchInput\"\r\n          value={this.state.searchInput || \"\"}\r\n          onChange={this.handleChange}\r\n          label=\"Search\"\r\n        />\r\n        <br />\r\n        <br />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n``````````````````````````\r\nApp Component\r\n-----------------\r\n```````````````````````\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport GlobalSearchComponent from \"./GlobalSearchComponent\";\r\nimport ReactTable from \"react-table\";\r\nimport \"react-table/react-table.css\";\r\nimport \"./styles.css\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: []\r\n      columns: [],\r\n      searchInput: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n    this.getColumns();\r\n  }\r\n\r\n  getColumns = () => {\r\n    let columns = [\r\n      {\r\n        Header: \"First Name\",\r\n        accessor: \"firstName\"\r\n      {\r\n        Header: \"Status\",\r\n        accessor: \"status\"\r\n      },\r\n      {\r\n        Header: \"Visits\",\r\n        accessor: \"visits\"\r\n      }\r\n    ];\r\n    this.setState({ columns });\r\n  };\r\n\r\n  getData = () => {\r\n    let data = [\r\n      { firstName: \"aaaaa\", status: \"Pending\", visits: 155 },\r\n      { firstName: \"aabFaa\", status: \"Pending\", visits: 155 },\r\n      { firstName: \"adaAAaaa\", status: \"Approved\", visits: 1785 },\r\n      { firstName: \"aAaaaa\", status: \"Approved\", visits: 175 },\r\n      { firstName: \"adaSaaa\", status: \"Cancelled\", visits: 165 },\r\n      { firstName: \"aasaaa\", status: \"Cancelled\", visits: 157 },\r\n      { firstName: \"aweaaaaaewea\", status: \"Approved\", visits: 153 },\r\n      { firstName: \"adaAAadsdweaa\", status: \"Approved\", visits: 17585 },\r\n      { firstName: \"aAaaaa\", status: \"Approved\", visits: 175 }\r\n    this.setState({ data });\r\n  };\r\n\r\n  handleSetData = data => {\r\n    console.log(data);\r\n    this.setState({ data });\r\n  };\r\n\r\n  render() {\r\n    let { data, columns } = this.state;\r\n    return (\r\n      <div>\r\n        <GlobalSearchComponent\r\n          data={this.state.data}\r\n          handleSetData={this.handleSetData}\r\n        />\r\n        <ReactTable\r\n          data={data}\r\n          columns={columns}\r\n          defaultPageSize={10}\r\n          className=\"-striped -highlight\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n",
  "closed_by": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  }
}
