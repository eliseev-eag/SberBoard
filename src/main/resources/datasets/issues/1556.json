{
  "url": "https://api.github.com/repos/facebook/react/issues/1556",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/1556/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/1556/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/1556/events",
  "html_url": "https://github.com/facebook/react/pull/1556",
  "id": 33745189,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTYwMjYzMTY=",
  "number": 1556,
  "title": "Update Flux Dispatcher.dispatch and waitFor examples",
  "user": {
    "login": "joshma",
    "id": 64739,
    "node_id": "MDQ6VXNlcjY0NzM5",
    "avatar_url": "https://avatars3.githubusercontent.com/u/64739?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/joshma",
    "html_url": "https://github.com/joshma",
    "followers_url": "https://api.github.com/users/joshma/followers",
    "following_url": "https://api.github.com/users/joshma/following{/other_user}",
    "gists_url": "https://api.github.com/users/joshma/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/joshma/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/joshma/subscriptions",
    "organizations_url": "https://api.github.com/users/joshma/orgs",
    "repos_url": "https://api.github.com/users/joshma/repos",
    "events_url": "https://api.github.com/users/joshma/events{/privacy}",
    "received_events_url": "https://api.github.com/users/joshma/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2014-05-18T04:27:58Z",
  "updated_at": "2014-06-12T15:51:28Z",
  "closed_at": "2014-05-24T06:03:48Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/1556",
    "html_url": "https://github.com/facebook/react/pull/1556",
    "diff_url": "https://github.com/facebook/react/pull/1556.diff",
    "patch_url": "https://github.com/facebook/react/pull/1556.patch"
  },
  "body": "The previous `Dispatcher.dispatch` and `waitFor` examples didn't properly work 1) when a Store callback does `waitFor` on Stores that haven't been reached yet (the corresponding `promise` would not have existed) and 2) when a Store callback waits on another waiting Store. The updated example uses constructs Promises up front and then asynchronously resolves them. It also lets Store callbacks return Promises, which is the only way I could think of to allow chaining waitFor dependencies.\n\nIn my personal implementation I'm using jQuery Deferreds, which give more flexibility in resolving outside the constructor. I'm not 100% sure this is the right way to resolve/reject an ES6 Promise after construction, so someone please let me know if this is a no-no.\n\n(Also, unless the Dispatcher supports nested waitFor() calls, there doesn't seem to be a need to `_clearPromises` after all promises have been resolved, as all callbacks will have been called by then and will have their own references to promises. I found the existing, unnecessary use of `.all()` confusing.)\n",
  "closed_by": {
    "login": "sophiebits",
    "id": 6820,
    "node_id": "MDQ6VXNlcjY4MjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sophiebits",
    "html_url": "https://github.com/sophiebits",
    "followers_url": "https://api.github.com/users/sophiebits/followers",
    "following_url": "https://api.github.com/users/sophiebits/following{/other_user}",
    "gists_url": "https://api.github.com/users/sophiebits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sophiebits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sophiebits/subscriptions",
    "organizations_url": "https://api.github.com/users/sophiebits/orgs",
    "repos_url": "https://api.github.com/users/sophiebits/repos",
    "events_url": "https://api.github.com/users/sophiebits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sophiebits/received_events",
    "type": "User",
    "site_admin": false
  }
}
