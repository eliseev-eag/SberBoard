{
  "url": "https://api.github.com/repos/facebook/react/issues/13728",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13728/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13728/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13728/events",
  "html_url": "https://github.com/facebook/react/pull/13728",
  "id": 363783399,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjE4MTMyODAx",
  "number": 13728,
  "title": "Support class component static contextType attribute",
  "user": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 29,
  "created_at": "2018-09-25T22:01:40Z",
  "updated_at": "2018-12-21T04:53:18Z",
  "closed_at": "2018-09-25T22:49:47Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/13728",
    "html_url": "https://github.com/facebook/react/pull/13728",
    "diff_url": "https://github.com/facebook/react/pull/13728.diff",
    "patch_url": "https://github.com/facebook/react/pull/13728.patch"
  },
  "body": "### Note: the discussion for this proposal is in https://github.com/reactjs/rfcs/pull/65.\r\n\r\nThe main motivation is that continuing to support legacy context makes React slower and larger, and we'd like to be able to help everyone migrate to the new context API as soon as possible. Since the new context API is currently too low-level and/or verbose when used in classes, we are considering adding this higher-level API that feels more familiar and will simplify the migration.\r\n\r\n-----\r\n\r\nNew static `contextType` property is supported for class components. This property can be set to the value returned by `React.createContext()` in order to consume the context value via `this.context`, e.g.:\r\n```js\r\nconst LocaleContext = React.createContext('blue');\r\n\r\nclass LocalizedComponent extends React.Component {\r\n  static contextType = LocaleContext;\r\n\r\n  render() {\r\n    return <div>The locale is: {this.context}</div>\r\n  }\r\n}\r\n```\r\n\r\nResolves #13336\r\n\r\nDEV warnings have been added for the following cases:\r\n* Class component has `contextType` instance property.\r\n* Class component has both `contextType` and `contextTypes` static properties.\r\n* Class component has an invalid `contextType` static property (e.g. mistaken `contextType = Context.Provider`).\r\n* Stateless functional component has an (unsupported) `contextType` property.\r\n\r\nNew tests have been added to verify the following:\r\n* Class lifecycle `nextContext` params.\r\n* Class lifecycle `this.context` values.\r\n* Class is forcefully updated (without `shouldComponentUpdate` being called) when context provider updates.\r\n* All of the above DEV warnings.",
  "closed_by": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  }
}
