{
  "url": "https://api.github.com/repos/facebook/react/issues/14933",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14933/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14933/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14933/events",
  "html_url": "https://github.com/facebook/react/issues/14933",
  "id": 413615158,
  "node_id": "MDU6SXNzdWU0MTM2MTUxNTg=",
  "number": 14933,
  "title": "Add support for functions as children in Suspense",
  "user": {
    "login": "MeiKatz",
    "id": 1072475,
    "node_id": "MDQ6VXNlcjEwNzI0NzU=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1072475?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MeiKatz",
    "html_url": "https://github.com/MeiKatz",
    "followers_url": "https://api.github.com/users/MeiKatz/followers",
    "following_url": "https://api.github.com/users/MeiKatz/following{/other_user}",
    "gists_url": "https://api.github.com/users/MeiKatz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MeiKatz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MeiKatz/subscriptions",
    "organizations_url": "https://api.github.com/users/MeiKatz/orgs",
    "repos_url": "https://api.github.com/users/MeiKatz/repos",
    "events_url": "https://api.github.com/users/MeiKatz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MeiKatz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-02-22T23:12:21Z",
  "updated_at": "2019-02-26T14:31:05Z",
  "closed_at": "2019-02-26T14:31:05Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nFeature\r\n\r\n**What is the current behavior?**\r\n`<Suspense children={() => {}} />` is not supported.\r\n\r\n**What is the expected behavior?**\r\nAs mentioned [here](https://github.com/facebook/react/issues/13947#issuecomment-465743800) before, I hope that there will be support for `children` to be a render prop in `<Suspense />`. Why? I currently have the following case where I dislike to define another component only for loading async data\r\n```javascript\r\nfunction ShowModal({ itemId }) {\r\n  return (\r\n    <Modal open>\r\n      <Suspense fallback={<p>Loading ...</p>}>\r\n      {() => {\r\n        const item = ItemStorage.read(itemId);\r\n\r\n        return (\r\n          <Modal.Header>\r\n            <Modal.Title>{item.name}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n          { /* ... stuff with data of item ... */ }\r\n          </Modal.Body>\r\n        );\r\n      })\r\n      </Suspense>\r\n    </Modal>\r\n  );\r\n}\r\n```\r\nCurrently this does not work because `children` is not allowed to be a function. So I have to define another component whos only task is to load the data and pass it to into the right place. I think there should be an easier solution, like the one used above. (To be honest, the code above works, **but** only because I use a wrapper component around the native React Suspense component.)\r\n\r\nMy currently wrapper component is defined like this:\r\n```javascript\r\nfunction SuspenseRenderChildren({ children }) {\r\n  return children(); // really? :/\r\n}\r\n\r\nfunction Suspense({ children, ...props }) {\r\n  if (typeof children === \"function\") {\r\n    return (\r\n      <React.Suspense {...props}>\r\n        <SuspenseRenderChildren children={children} />\r\n      </React.Suspense>\r\n    );\r\n  } else {\r\n    return (\r\n      <React.Suspense {...props} children={children} />\r\n    );\r\n  }\r\n}\r\n```\r\nTherefore I create some kind of *wrapper hell* because in the worst case I render the following ...\r\n```javascript\r\n<Suspense>\r\n  <React.Suspense>\r\n    <SuspenseRenderChildren />\r\n  </React.Suspense>\r\n</Suspense>\r\n```\r\n... where it could be just ...\r\n```javascript\r\n<React.Suspense />\r\n```",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
