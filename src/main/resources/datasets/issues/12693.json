{
  "url": "https://api.github.com/repos/facebook/react/issues/12693",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12693/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12693/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12693/events",
  "html_url": "https://github.com/facebook/react/issues/12693",
  "id": 317858497,
  "node_id": "MDU6SXNzdWUzMTc4NTg0OTc=",
  "number": 12693,
  "title": "react-test-renderer.create does not work properly with forwardRef components",
  "user": {
    "login": "ajcrites",
    "id": 1308273,
    "node_id": "MDQ6VXNlcjEzMDgyNzM=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1308273?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajcrites",
    "html_url": "https://github.com/ajcrites",
    "followers_url": "https://api.github.com/users/ajcrites/followers",
    "following_url": "https://api.github.com/users/ajcrites/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajcrites/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajcrites/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajcrites/subscriptions",
    "organizations_url": "https://api.github.com/users/ajcrites/orgs",
    "repos_url": "https://api.github.com/users/ajcrites/repos",
    "events_url": "https://api.github.com/users/ajcrites/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajcrites/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-04-26T02:47:56Z",
  "updated_at": "2018-05-02T13:26:56Z",
  "closed_at": "2018-05-01T18:55:28Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\nIf you try to access the `.root` of a component tree of a component created with `forwardRef`, you will get an error\r\n\r\n> `Unexpected object passed to ReactTestInstance constructor`\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nA minimal example is simply a component created with `forwardRef`:\r\n\r\n```js\r\nimport React from \"react\";\r\n\r\nexport default React.forwardRef(() => <div>hello</div>);\r\n```\r\n\r\nNow if you try to use `create` from `react-test-renderer` and access `.root`, you will get\r\n\r\n> Unexpected object passed to ReactTestInstance constructor (tag: 14). This is probably a bug in React.\r\n\r\n```js\r\nimport React from \"react\";\r\nimport { create } from \"react-test-renderer\";\r\n\r\nimport Hello from \"./Hello\";\r\n\r\nit(\"test forwardRef component\", () => {\r\n  const tree = create(<Hello />);\r\n  expect(tree.root);\r\n});\r\n```\r\n\r\nhttps://codesandbox.io/s/vm98x95wx5\r\n\r\n**What is the expected behavior?**\r\nYou should be able to create components created with forwardRef with the test renderer.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n16.3 using jest (forwardRef did not exist previously).",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
