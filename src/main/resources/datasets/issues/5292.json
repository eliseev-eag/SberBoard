{
  "url": "https://api.github.com/repos/facebook/react/issues/5292",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/5292/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/5292/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/5292/events",
  "html_url": "https://github.com/facebook/react/issues/5292",
  "id": 113461889,
  "node_id": "MDU6SXNzdWUxMTM0NjE4ODk=",
  "number": 5292,
  "title": "Change in _owner causes issues with shallow rendered tests",
  "user": {
    "login": "hatched",
    "id": 532033,
    "node_id": "MDQ6VXNlcjUzMjAzMw==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/532033?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hatched",
    "html_url": "https://github.com/hatched",
    "followers_url": "https://api.github.com/users/hatched/followers",
    "following_url": "https://api.github.com/users/hatched/following{/other_user}",
    "gists_url": "https://api.github.com/users/hatched/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hatched/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hatched/subscriptions",
    "organizations_url": "https://api.github.com/users/hatched/orgs",
    "repos_url": "https://api.github.com/users/hatched/repos",
    "events_url": "https://api.github.com/users/hatched/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hatched/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2015-10-26T22:09:52Z",
  "updated_at": "2016-04-14T17:57:34Z",
  "closed_at": "2016-04-14T17:54:16Z",
  "author_association": "NONE",
  "body": "There appears to have been a change in how `_owner` is generated between 0.13 and 0.14 which is causing a number of our shallow rendered tests to fail when upgrading because the deepEquals fails on the `_owner` property. Here is a simple example component which exhibits the issue.\n\n``` JavaScript\n'use strict';\n\nfdescribe('ComponentTest', function() {\n\n  it('passes in 0.13 but fails in 0.14', function() {\n    var components = {};\n    components.tester = React.createClass({\n\n      getInitialState: function() {\n        return this.generateState();\n      },\n\n      generateState: function() {\n        var state = {};\n        state.body = (\n          <ul className=\"foo\">\n            <li><div>Item 1</div></li>\n            <li>Item 2</li>\n          </ul>);\n        return state;\n      },\n\n      render: function() {\n        return (\n          <div className=\"foo\">\n            {this.state.body}\n          </div>);\n      }\n    });\n\n    var shallowRenderer = testUtils.createRenderer();\n    shallowRenderer.render(<components.tester />);\n    var output = shallowRenderer.getRenderOutput();\n\n    assert.deepEqual(output,\n      <div className=\"foo\">\n        <ul className=\"foo\">\n          <li><div>Item 1</div></li>\n          <li>Item 2</li>\n        </ul>\n      </div>);\n  });\n});\n```\n\n```\n    AssertionError: expected { '$typeof': 60103,\n      type: 'div',\n      key: null,\n      ref: null,\n      props: \n       { className: 'foo',\n         children: \n          { '$typeof': 60103,\n            type: 'ul',\n            key: null,\n            ref: null,\n            props: [Object],\n            _owner: [Object],\n            _store: {} } },\n      _owner: null,\n      _store: {} } to deeply equal { '$typeof': 60103,\n      type: 'div',\n      key: null,\n      ref: null,\n      props: \n       { className: 'foo',\n         children: \n          { '$typeof': 60103,\n            type: 'ul',\n            key: null,\n            ref: null,\n            props: [Object],\n            _owner: null,\n            _store: {} } },\n      _owner: null,\n      _store: {} }\n\n```\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
