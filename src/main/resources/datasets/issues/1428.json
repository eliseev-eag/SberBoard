{
  "url": "https://api.github.com/repos/facebook/react/issues/1428",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/1428/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/1428/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/1428/events",
  "html_url": "https://github.com/facebook/react/pull/1428",
  "id": 31890051,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ5NjM2OTk=",
  "number": 1428,
  "title": "Render to string or markup is broken for React.DOM.select",
  "user": {
    "login": "yazaddaruvala",
    "id": 812652,
    "node_id": "MDQ6VXNlcjgxMjY1Mg==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/812652?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yazaddaruvala",
    "html_url": "https://github.com/yazaddaruvala",
    "followers_url": "https://api.github.com/users/yazaddaruvala/followers",
    "following_url": "https://api.github.com/users/yazaddaruvala/following{/other_user}",
    "gists_url": "https://api.github.com/users/yazaddaruvala/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yazaddaruvala/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yazaddaruvala/subscriptions",
    "organizations_url": "https://api.github.com/users/yazaddaruvala/orgs",
    "repos_url": "https://api.github.com/users/yazaddaruvala/repos",
    "events_url": "https://api.github.com/users/yazaddaruvala/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yazaddaruvala/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2014-04-21T10:28:47Z",
  "updated_at": "2014-06-12T11:13:48Z",
  "closed_at": "2014-05-18T04:25:10Z",
  "author_association": "NONE",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/1428",
    "html_url": "https://github.com/facebook/react/pull/1428",
    "diff_url": "https://github.com/facebook/react/pull/1428.diff",
    "patch_url": "https://github.com/facebook/react/pull/1428.patch"
  },
  "body": "Providing a value or a default value to a select doesn't do anything while rendering that component to a string or markup. http://jsfiddle.net/tsNqr/2/. Let me know if you need more info than this.\n\nActually I decided to help.\n_Problem_:\nThe issue is that `ReactDOMSelect` has a dependence on `getDOMNode()` so as to mark child `<option>`s as selected. It does this as a post render mutation on the DOM.\n\nFor obvious reasons this doesn't work for rendering to a string.\n\n_Solution_:\nInstead of marking the children as selected in a post render hook, I just mark their descriptors as selected (or not) before they are rendered.\n\n_Notes_:\nSince React's mantra is all about not mutating things and that the render method defines how the component looks at all possible times. The current `ReactDOMSelect` implementation seems pretty counter intuitive to me. All the tests pass but my worry is that the current implementation was forced this way in order to fix an obscure bug..? If you guys know why its done this way, please let me know, we can try to find another fix.\n\n_PS._\nI'd like to add these validations to `ReactDOMSelect`, let me know what you think\n`this.props.children.all(_.type === 'option')`\n`this.props.value xor this.props.defaultValue xor this.props.children.any(_.props.selected != null)`\n",
  "closed_by": {
    "login": "sophiebits",
    "id": 6820,
    "node_id": "MDQ6VXNlcjY4MjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sophiebits",
    "html_url": "https://github.com/sophiebits",
    "followers_url": "https://api.github.com/users/sophiebits/followers",
    "following_url": "https://api.github.com/users/sophiebits/following{/other_user}",
    "gists_url": "https://api.github.com/users/sophiebits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sophiebits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sophiebits/subscriptions",
    "organizations_url": "https://api.github.com/users/sophiebits/orgs",
    "repos_url": "https://api.github.com/users/sophiebits/repos",
    "events_url": "https://api.github.com/users/sophiebits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sophiebits/received_events",
    "type": "User",
    "site_admin": false
  }
}
