{
  "url": "https://api.github.com/repos/facebook/react/issues/13098",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13098/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13098/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13098/events",
  "html_url": "https://github.com/facebook/react/pull/13098",
  "id": 335067851,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTk2ODgxMjU4",
  "number": 13098,
  "title": "Suspending outside async tree",
  "user": {
    "login": "acdlite",
    "id": 3624098,
    "node_id": "MDQ6VXNlcjM2MjQwOTg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3624098?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acdlite",
    "html_url": "https://github.com/acdlite",
    "followers_url": "https://api.github.com/users/acdlite/followers",
    "following_url": "https://api.github.com/users/acdlite/following{/other_user}",
    "gists_url": "https://api.github.com/users/acdlite/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acdlite/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acdlite/subscriptions",
    "organizations_url": "https://api.github.com/users/acdlite/orgs",
    "repos_url": "https://api.github.com/users/acdlite/repos",
    "events_url": "https://api.github.com/users/acdlite/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acdlite/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-06-23T04:35:35Z",
  "updated_at": "2018-07-04T02:49:15Z",
  "closed_at": "2018-07-04T02:44:19Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/13098",
    "html_url": "https://github.com/facebook/react/pull/13098",
    "diff_url": "https://github.com/facebook/react/pull/13098.diff",
    "patch_url": "https://github.com/facebook/react/pull/13098.patch"
  },
  "body": "## Depends on #13092\r\n\r\nWe can support components that suspend outside of an async mode tree by immediately committing their placeholders.\r\n\r\nIn strict mode, the Timeout acts effectively like an error boundary. Within a single render pass, we unwind to the nearest Timeout and re-render the placeholder view.\r\n\r\nOutside of strict mode, it's not safe to unwind and re-render the siblings without committing. (Technically, this is true of error boundaries, too, though probably not a huge deal, since we don't support using error boundaries for control flow (yet, at least)). We need to be clever. What we do is pretend the suspended component rendered null.* There's no unwinding. The siblings commit like normal.\r\n\r\nThen, in the commit phase, schedule an update on the Timeout to synchronously re-render the placeholder. Although this requires an extra commit, it will not be observable. And because the siblings were not blocked from committing, they don't have to be strict mode compatible.\r\n\r\nAnother caveat is that if a component suspends during an async render, but it's captured by a non async Timeout, we need to revert to sync mode. In other words, if any non-async component renders, the entire tree must complete and commit without yielding.\r\n\r\n**The downside of rendering null is that the existing children will be deleted. We should hide them instead. I'll work on this in a follow-up.*",
  "closed_by": {
    "login": "acdlite",
    "id": 3624098,
    "node_id": "MDQ6VXNlcjM2MjQwOTg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/3624098?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acdlite",
    "html_url": "https://github.com/acdlite",
    "followers_url": "https://api.github.com/users/acdlite/followers",
    "following_url": "https://api.github.com/users/acdlite/following{/other_user}",
    "gists_url": "https://api.github.com/users/acdlite/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acdlite/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acdlite/subscriptions",
    "organizations_url": "https://api.github.com/users/acdlite/orgs",
    "repos_url": "https://api.github.com/users/acdlite/repos",
    "events_url": "https://api.github.com/users/acdlite/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acdlite/received_events",
    "type": "User",
    "site_admin": false
  }
}
