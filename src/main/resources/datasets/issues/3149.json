{
  "url": "https://api.github.com/repos/facebook/react/issues/3149",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/3149/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/3149/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/3149/events",
  "html_url": "https://github.com/facebook/react/issues/3149",
  "id": 57693085,
  "node_id": "MDU6SXNzdWU1NzY5MzA4NQ==",
  "number": 3149,
  "title": "React not updating DOM",
  "user": {
    "login": "digitalkaoz",
    "id": 293591,
    "node_id": "MDQ6VXNlcjI5MzU5MQ==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/293591?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/digitalkaoz",
    "html_url": "https://github.com/digitalkaoz",
    "followers_url": "https://api.github.com/users/digitalkaoz/followers",
    "following_url": "https://api.github.com/users/digitalkaoz/following{/other_user}",
    "gists_url": "https://api.github.com/users/digitalkaoz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/digitalkaoz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/digitalkaoz/subscriptions",
    "organizations_url": "https://api.github.com/users/digitalkaoz/orgs",
    "repos_url": "https://api.github.com/users/digitalkaoz/repos",
    "events_url": "https://api.github.com/users/digitalkaoz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/digitalkaoz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2015-02-14T13:31:42Z",
  "updated_at": "2015-02-14T20:01:03Z",
  "closed_at": "2015-02-14T20:01:03Z",
  "author_association": "NONE",
  "body": "it seems react doesnt updates the DOM with this approach:\n\n(simply update the img src every 10 seconds)\n\nif i set a breakpoint in `render` i see that `this.state.url` is always the latest and correct url.\nin react-dev-tools the component gets updated every 10 seconds with the new url, but if i look into the DOM tab i see that its still the `initialUrl`. Any hints on that? Im clueless about what might be wrong :/ (using 0.12.2)\n\nsee http://jsfiddle.net/58a6dubg/7/ for a demo.\n\n``` jsx\nvar React = require('react');\n\nvar RandomImage = React.createClass({\n\n    getDefaultProps: function () {\n        return {\n            initialUrl: null\n        };\n    },\n\n    getInitialState : function () {\n        return {\n            url: null\n        };\n    },\n\n    componentDidMount : function () {\n        setInterval(this.reloadImage, 10000);\n    },\n\n    reloadImage : function() {\n        var image = new Image();\n        var that = this;\n\n        image.onload = function () {\n            that.setState({url : this.src});\n        };\n\n        image.src = this.refs.image.getDOMNode().src.split('?')[0] + \"?\" + Date.now();\n    },\n\n    render : function () {\n        return <img ref=\"image\" src={this.state.url || this.props.initialUrl} />;\n    }\n});\n\nmodule.exports = RandomImage;\n```\n",
  "closed_by": {
    "login": "digitalkaoz",
    "id": 293591,
    "node_id": "MDQ6VXNlcjI5MzU5MQ==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/293591?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/digitalkaoz",
    "html_url": "https://github.com/digitalkaoz",
    "followers_url": "https://api.github.com/users/digitalkaoz/followers",
    "following_url": "https://api.github.com/users/digitalkaoz/following{/other_user}",
    "gists_url": "https://api.github.com/users/digitalkaoz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/digitalkaoz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/digitalkaoz/subscriptions",
    "organizations_url": "https://api.github.com/users/digitalkaoz/orgs",
    "repos_url": "https://api.github.com/users/digitalkaoz/repos",
    "events_url": "https://api.github.com/users/digitalkaoz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/digitalkaoz/received_events",
    "type": "User",
    "site_admin": false
  }
}
