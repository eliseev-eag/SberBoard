{
  "url": "https://api.github.com/repos/facebook/react/issues/14151",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14151/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14151/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14151/events",
  "html_url": "https://github.com/facebook/react/issues/14151",
  "id": 378609472,
  "node_id": "MDU6SXNzdWUzNzg2MDk0NzI=",
  "number": 14151,
  "title": "Exporting context from App.js returns an empty object",
  "user": {
    "login": "MarcoPal",
    "id": 31657671,
    "node_id": "MDQ6VXNlcjMxNjU3Njcx",
    "avatar_url": "https://avatars3.githubusercontent.com/u/31657671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MarcoPal",
    "html_url": "https://github.com/MarcoPal",
    "followers_url": "https://api.github.com/users/MarcoPal/followers",
    "following_url": "https://api.github.com/users/MarcoPal/following{/other_user}",
    "gists_url": "https://api.github.com/users/MarcoPal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MarcoPal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MarcoPal/subscriptions",
    "organizations_url": "https://api.github.com/users/MarcoPal/orgs",
    "repos_url": "https://api.github.com/users/MarcoPal/repos",
    "events_url": "https://api.github.com/users/MarcoPal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MarcoPal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-11-08T07:29:25Z",
  "updated_at": "2018-11-08T16:26:03Z",
  "closed_at": "2018-11-08T16:26:03Z",
  "author_association": "NONE",
  "body": "I just noticed that exporting a context directly from the App.js file returns an empty object, is that a correct behavior? \r\n\r\n#### Working example:\r\nFile: mycontext.js\r\n```\r\nimport React from 'react'\r\nexport const MyContext = React.createContext();\r\n```\r\n\r\nFile: App.js\r\n```\r\nimport React from \"react\";\r\nimport {MyContext} from \"./mycontext\";\r\nimport MyButton from \"./MyButton\";\r\n\r\nclass App extends React.Component {\r\n    render () {\r\n        return (\r\n            <div>\r\n                <MyContext.Provider value={{context: 'Test'}}>\r\n                    <MyButton>\r\n                        my button\r\n                    </MyButton>\r\n                </MyContext.Provider>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\nFile: MyButton.js\r\n```\r\nimport React from \"react\";\r\nimport {MyContext} from \"./mycontext\";\r\n\r\nclass MyButton extends React.Component {\r\n    render () {\r\n        console.log('MyButton props:', this.props, 'MyButton context:', this.context);\r\n        return (\r\n            <button\r\n                {...this.props}\r\n            />\r\n        );\r\n    }\r\n}\r\nMyButton.contextType = MyContext;\r\n\r\nexport default MyButton;\r\n```\r\n\r\n\r\n#### Not working example:\r\nFile: App.js\r\n```\r\nimport React from \"react\";\r\nimport MyButton from \"./MyButton\";\r\n\r\nexport const MyContext = React.createContext();\r\n\r\nclass App extends React.Component {\r\n    render () {\r\n        return (\r\n            <div>\r\n                <MyContext.Provider value={{context: 'Test'}}>\r\n                    <MyButton>\r\n                        my button\r\n                    </MyButton>\r\n                </MyContext.Provider>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n```\r\nFile: MyButton.js\r\n```\r\nimport React from \"react\";\r\nimport {MyContext} from \"./App\";\r\n\r\nclass MyButton extends React.Component {\r\n    render () {\r\n        console.log('MyButton props:', this.props, 'MyButton context:', this.context);\r\n        return (\r\n            <button\r\n                {...this.props}\r\n            />\r\n        );\r\n    }\r\n}\r\nMyButton.contextType = MyContext;\r\n\r\nexport default MyButton;\r\n```\r\nHere this.context is an empty object\r\n\r\n\r\n\r\n\r\n#### package.json\r\n```\r\n{\r\n  \"name\": \"react-context-test\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"react\": \"^16.6.1\",\r\n    \"react-dom\": \"^16.6.1\",\r\n    \"react-scripts\": \"2.1.1\"\r\n  },\r\n  \"scripts\": {\r\n    \"start\": \"react-scripts start\",\r\n    \"build\": \"react-scripts build\",\r\n    \"test\": \"react-scripts test\",\r\n    \"eject\": \"react-scripts eject\"\r\n  },\r\n  \"eslintConfig\": {\r\n    \"extends\": \"react-app\"\r\n  },\r\n  \"browserslist\": [\r\n    \">0.2%\",\r\n    \"not dead\",\r\n    \"not ie <= 11\",\r\n    \"not op_mini all\"\r\n  ]\r\n}\r\n\r\n```",
  "closed_by": {
    "login": "MarcoPal",
    "id": 31657671,
    "node_id": "MDQ6VXNlcjMxNjU3Njcx",
    "avatar_url": "https://avatars3.githubusercontent.com/u/31657671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MarcoPal",
    "html_url": "https://github.com/MarcoPal",
    "followers_url": "https://api.github.com/users/MarcoPal/followers",
    "following_url": "https://api.github.com/users/MarcoPal/following{/other_user}",
    "gists_url": "https://api.github.com/users/MarcoPal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MarcoPal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MarcoPal/subscriptions",
    "organizations_url": "https://api.github.com/users/MarcoPal/orgs",
    "repos_url": "https://api.github.com/users/MarcoPal/repos",
    "events_url": "https://api.github.com/users/MarcoPal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MarcoPal/received_events",
    "type": "User",
    "site_admin": false
  }
}
