{
  "url": "https://api.github.com/repos/facebook/react/issues/15903",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15903/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15903/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15903/events",
  "html_url": "https://github.com/facebook/react/issues/15903",
  "id": 456832213,
  "node_id": "MDU6SXNzdWU0NTY4MzIyMTM=",
  "number": 15903,
  "title": "Behavior intermediate state in useEffect",
  "user": {
    "login": "zaytsevyura",
    "id": 29068869,
    "node_id": "MDQ6VXNlcjI5MDY4ODY5",
    "avatar_url": "https://avatars2.githubusercontent.com/u/29068869?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zaytsevyura",
    "html_url": "https://github.com/zaytsevyura",
    "followers_url": "https://api.github.com/users/zaytsevyura/followers",
    "following_url": "https://api.github.com/users/zaytsevyura/following{/other_user}",
    "gists_url": "https://api.github.com/users/zaytsevyura/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zaytsevyura/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zaytsevyura/subscriptions",
    "organizations_url": "https://api.github.com/users/zaytsevyura/orgs",
    "repos_url": "https://api.github.com/users/zaytsevyura/repos",
    "events_url": "https://api.github.com/users/zaytsevyura/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zaytsevyura/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-06-17T09:27:30Z",
  "updated_at": "2019-08-11T19:51:16Z",
  "closed_at": "2019-08-11T19:51:06Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nfeature\r\n\r\n**What is the current behavior?**\r\nI have some issue about useEffect hook.\r\nIn my application i use redux, and when i begean to use react hooks, i encountered the following problem, for example:\r\n1. In the main page (home root) i need to get list of posts.\r\nEarlier i used in componentDidMount dispatch to redux and with redux-saga get data form server\r\nNow i do the same but in useEffect\r\n2. When i click on some post I have to go to the post page (change routing like to /post/:id)\r\nNotice: in this step (in my store i already have list of all posts)\r\nWhen i returned to main page i see a flicker that is due to the fact that store already have posts list and he render them, after which it is called useEffect and we do dispatch again to get data form server and updtate store (posts and component).\r\n\r\n**What is the expected behavior?**\r\nWith сomponentDidMount no such problem  -  the user can't see the intermediate state.\r\nFor solution this problem i see two ways: the first in useEffect on unsubscribe function call action for reset list posts in store. The second way it's use useLayoutEffect instead useEffect.\r\nBut I'm not sure that these is the right decisions. Are there other right solutions ? Can i do useEffect like componentDidMount, to user won’t see the intermediate state ?\r\n",
  "closed_by": {
    "login": "zaytsevyura",
    "id": 29068869,
    "node_id": "MDQ6VXNlcjI5MDY4ODY5",
    "avatar_url": "https://avatars2.githubusercontent.com/u/29068869?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zaytsevyura",
    "html_url": "https://github.com/zaytsevyura",
    "followers_url": "https://api.github.com/users/zaytsevyura/followers",
    "following_url": "https://api.github.com/users/zaytsevyura/following{/other_user}",
    "gists_url": "https://api.github.com/users/zaytsevyura/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zaytsevyura/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zaytsevyura/subscriptions",
    "organizations_url": "https://api.github.com/users/zaytsevyura/orgs",
    "repos_url": "https://api.github.com/users/zaytsevyura/repos",
    "events_url": "https://api.github.com/users/zaytsevyura/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zaytsevyura/received_events",
    "type": "User",
    "site_admin": false
  }
}
