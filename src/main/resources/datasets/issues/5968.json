{
  "url": "https://api.github.com/repos/facebook/react/issues/5968",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/5968/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/5968/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/5968/events",
  "html_url": "https://github.com/facebook/react/issues/5968",
  "id": 130817328,
  "node_id": "MDU6SXNzdWUxMzA4MTczMjg=",
  "number": 5968,
  "title": "TypeError: Cannot set property 'initialValue' of null. ReactDOMSelect.postUpdateWrapper",
  "user": {
    "login": "browniefed",
    "id": 1714673,
    "node_id": "MDQ6VXNlcjE3MTQ2NzM=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1714673?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/browniefed",
    "html_url": "https://github.com/browniefed",
    "followers_url": "https://api.github.com/users/browniefed/followers",
    "following_url": "https://api.github.com/users/browniefed/following{/other_user}",
    "gists_url": "https://api.github.com/users/browniefed/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/browniefed/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/browniefed/subscriptions",
    "organizations_url": "https://api.github.com/users/browniefed/orgs",
    "repos_url": "https://api.github.com/users/browniefed/repos",
    "events_url": "https://api.github.com/users/browniefed/events{/privacy}",
    "received_events_url": "https://api.github.com/users/browniefed/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2016-02-02T21:09:23Z",
  "updated_at": "2017-06-02T13:23:30Z",
  "closed_at": "2016-02-02T22:02:48Z",
  "author_association": "NONE",
  "body": "## Issue\n\nUsing latest .14.7 I'm running into an issue error with select and `ReactDOMSelect:158` when navigating away from one place to another place which is causing a select to throw even though it should and is unmounted.\n\nError being: `TypeError: Cannot set property 'initialValue' of null at Object.ReactDOMSelect.postUpdateWrapper (http://localhost:3992/assets/js/main.js:22153:38)`\n\nOther reports of this happening are here https://github.com/erikras/redux-form/issues/321\n## Setup\n\nCurrently integrating into an app in pieces, So I render our `Router` into an empty container that renders components that render into their appropriate DOM containers.\n## Seemingly the error?\n\nI've narrowed it down to calling `unmountComponentAtNode(this.section)` which occurs in a `componentDidUpdate`. I removed it and the error stops happening.\n\nI realize that mounting to an existing node that is a React root will cause an unmount and mount the correct things.\n## Repro\n\nI've attempted to reproduce it but no luck at the moment even though I've narrowed it down to the `unmountComponentAtNode` call.\n\nThe click is originating in a different ReactDOM.render container so I'm not sure if it is an eventing thing where clicks from different ReactDOM roots are applying to everywhere else?\n## Stack Trace\n\n```\nReactDOMSelect.postUpdateWrapper (ReactDOMSelect.js:158)\npostUpdateSelectWrapper (ReactDOMComponent.js:303)\nassign.notifyAll (CallbackQueue.js:65)\nON_DOM_READY_QUEUEING.close (ReactReconcileT…nsaction.js:81)\nMixin.closeAll (Transaction.js:202)\nMixin.perform (Transaction.js:149)\nMixin.perform (Transaction.js:136)\nassign.perform (ReactUpdates.js:86)\nflushBatchedUpdates (ReactUpdates.js:147)\nReactUpdates_flushBatchedUpdates (ReactPerf.js:66)\nMixin.closeAll (Transaction.js:202)\nMixin.perform (Transaction.js:149)\nReactDefaultBatchingStrategy.batchedUpdates (ReactDefaultBat…Strategy.js:62)\nbatchedUpdates (ReactUpdates.js:94)\nReactEventListener.dispatchEvent (ReactEventListener.js:204) //Mouse click event of me clicking on a different container render.\n```\n## Code\n\nMy code causing the issue looks like so.\n\n```\nimport React, { Component, PropTypes } from \"react\";\nimport { render, unmountComponentAtNode } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport ApplicationsRenderer from \"./applications\";\n\nlet getContainer = () =>  document.getElementById('dashboard-body');\n\nexport default class DashboardRenderer extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n    this.renderIntoContainer = this.renderIntoContainer.bind(this);\n  }\n  componentDidMount() {\n    this.renderIntoContainer();\n  }\n\n  renderIntoContainer() {\n    let { store, container: Container } = this.props.route;\n    let { router } = this.context;\n    this.section = getContainer();\n    if (this.section) {\n        unmountComponentAtNode(this.section)\n        render(\n        <Provider store={store}>\n          <Container router={router} key={Container} />\n        </Provider>,\n        this.section\n      );\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    let { container } = this.props.route;\n    let { container: prevContainer } = prevProps.route;\n\n    if (container !== prevContainer) {\n      this.renderIntoContainer();\n    }\n  }\n\n  componentWillUnmount() {\n    unmountComponentAtNode(this.section)\n  }\n\n  render() {\n    return null;\n  }\n}\n\nDashboardRenderer.contextTypes = {\n  router: PropTypes.object\n}\n\n```\n",
  "closed_by": {
    "login": "jimfb",
    "id": 9595985,
    "node_id": "MDQ6VXNlcjk1OTU5ODU=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/9595985?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jimfb",
    "html_url": "https://github.com/jimfb",
    "followers_url": "https://api.github.com/users/jimfb/followers",
    "following_url": "https://api.github.com/users/jimfb/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimfb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jimfb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jimfb/subscriptions",
    "organizations_url": "https://api.github.com/users/jimfb/orgs",
    "repos_url": "https://api.github.com/users/jimfb/repos",
    "events_url": "https://api.github.com/users/jimfb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jimfb/received_events",
    "type": "User",
    "site_admin": false
  }
}
