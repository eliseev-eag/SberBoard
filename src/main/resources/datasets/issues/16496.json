{
  "url": "https://api.github.com/repos/facebook/react/issues/16496",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16496/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16496/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16496/events",
  "html_url": "https://github.com/facebook/react/issues/16496",
  "id": 482557603,
  "node_id": "MDU6SXNzdWU0ODI1NTc2MDM=",
  "number": 16496,
  "title": "DevTools: Write tests for preserving selection",
  "user": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 710573595,
      "node_id": "MDU6TGFiZWw3MTA1NzM1OTU=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools",
      "name": "Component: Developer Tools",
      "color": "fbca04",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2019-08-19T22:27:51Z",
  "updated_at": "2019-08-19T22:27:51Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "body": "See https://github.com/bvaughn/react-devtools-experimental/pull/215. It would be nice to have test coverage for it.\r\n\r\n---\r\nI got stuck here:\r\n\r\n```js\r\n    const Component = () => <div>Hi</div>;\r\n\r\n    act(() =>\r\n      ReactDOM.render(<Component />, document.createElement('div'))\r\n    );\r\n    const id = store.getElementIDAtIndex(0);\r\n    const rendererID = store.getRendererIDForElement(id);\r\n\r\n    act(() => {\r\n      global.bridge.send('selectElement', { id, rendererID });\r\n    })\r\n```\r\n\r\nThis test fails on master because bridge object is shared between agent and store. Separating it and emulating having two bridges didn't work because of some regression in the Suspense test. I haven't dug into why because the stack trace display is obscured and points to the wrong line in the test. The stack trace display points to the wrong line likely because of regenerator code. The regenerator code is likely coming from `babel-preset-env` thinking we need to polyfill async/await. I don't know why `babel-preset-env` doesn't realize my Node already has async/await. At that point I punted on this.\r\n\r\n---\r\nOriginally reported by @gaearon via https://github.com/bvaughn/react-devtools-experimental/issues/219",
  "closed_by": null
}
