{
  "url": "https://api.github.com/repos/facebook/react/issues/11781",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11781/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11781/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11781/events",
  "html_url": "https://github.com/facebook/react/issues/11781",
  "id": 279550533,
  "node_id": "MDU6SXNzdWUyNzk1NTA1MzM=",
  "number": 11781,
  "title": "Component unmounts directly after mount",
  "user": {
    "login": "MMeent",
    "id": 2960313,
    "node_id": "MDQ6VXNlcjI5NjAzMTM=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/2960313?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MMeent",
    "html_url": "https://github.com/MMeent",
    "followers_url": "https://api.github.com/users/MMeent/followers",
    "following_url": "https://api.github.com/users/MMeent/following{/other_user}",
    "gists_url": "https://api.github.com/users/MMeent/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MMeent/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MMeent/subscriptions",
    "organizations_url": "https://api.github.com/users/MMeent/orgs",
    "repos_url": "https://api.github.com/users/MMeent/repos",
    "events_url": "https://api.github.com/users/MMeent/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MMeent/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 620368407,
      "node_id": "MDU6TGFiZWw2MjAzNjg0MDc=",
      "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information",
      "name": "Resolution: Needs More Information",
      "color": "fffde7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2017-12-05T22:14:02Z",
  "updated_at": "2018-12-13T19:34:56Z",
  "closed_at": "2018-01-02T15:50:24Z",
  "author_association": "NONE",
  "body": "Some of my wrapper components get into the state 'mounted=false' directly after mounting. The componentWillUnmount doesn't fire and the components are still mounted into the DOM, but state changes fired in that component's context (e.g. in onClick listeners) result in errors and no unmounting. I cannot reproduce this issue on jsfiddle, possibly due to differences in environment. I currently don't have much time to explain, but here are two gists of the components which together break.\r\n\r\ngist of breaking component: https://gist.github.com/MMeent/68f8c06d905969b80552412d38baddbf  \r\nusage: https://gist.github.com/MMeent/d97d3856240d889abb84027b14eac652\r\n\r\nOne of the issues I've found is that literally directly after mounting (`window.setTimeout(() => console.log(this.updater.isMounted()), 1)` prints false)\r\n\r\nEnvironment:\r\n\r\nFF 58 (beta)\r\nReact 16.2.0\r\nBabel 6.something, plugins:\r\n - env (FF >54, chrome last 2 versions, safari last 2 versions)\r\n - stage-0-without-async,\r\n - react\r\n\r\nusing react-hot-loader, but this happens after page reload as well.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
