{
  "url": "https://api.github.com/repos/facebook/react/issues/14020",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14020/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14020/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14020/events",
  "html_url": "https://github.com/facebook/react/issues/14020",
  "id": 374986998,
  "node_id": "MDU6SXNzdWUzNzQ5ODY5OTg=",
  "number": 14020,
  "title": "Cases where hooks don't currently provide a good answer vs HOC",
  "user": {
    "login": "arieh",
    "id": 90932,
    "node_id": "MDQ6VXNlcjkwOTMy",
    "avatar_url": "https://avatars0.githubusercontent.com/u/90932?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/arieh",
    "html_url": "https://github.com/arieh",
    "followers_url": "https://api.github.com/users/arieh/followers",
    "following_url": "https://api.github.com/users/arieh/following{/other_user}",
    "gists_url": "https://api.github.com/users/arieh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/arieh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arieh/subscriptions",
    "organizations_url": "https://api.github.com/users/arieh/orgs",
    "repos_url": "https://api.github.com/users/arieh/repos",
    "events_url": "https://api.github.com/users/arieh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/arieh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929155,
      "node_id": "MDU6TGFiZWw0MDkyOTE1NQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Question",
      "name": "Type: Question",
      "color": "cc317c",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-10-29T12:13:54Z",
  "updated_at": "2018-10-30T02:34:02Z",
  "closed_at": "2018-10-30T02:34:02Z",
  "author_association": "NONE",
  "body": "(unsure if this is the right place, so trying it out)\r\n\r\nI've noticed that the new React Hooks feature is aiming at providing an alternative composition pattern to HOC and render functions, but I believe that many of the use cases solved by HOC (at the framework level) cannot currently be addressed by the new hooks API. \r\n\r\nSpecifically, there is not way to incorporate React Hooks with React.memo. Unless I am incorrect, this means that any system that would like to implement optimisations based on external context, such as the react-redux `connect` function (that uses `mapStateToProps` to implement an efficient `shouldComponentUpdate`) will still need to rely on a HOC/render-prop to automate this optimisation.\r\n\r\nThe reason I am bringing this up is because one of the main benefits stated in the documentation is to reduce framework level use of HOC that \"pollute\" the tree, of which the react-redux connect HOC is probably the most prevalent use case. \r\n\r\nAdditionally redux (and `useRedux`) are specifically brought up as an exemplary use case, although with the current system it will cause large optimisation issues (since with no optimised `shouldComponentUpdate`, every \"connected\" component will re-render on every state change).\r\n(Although this might fit into the documentation repo, this is a discussion / opinion and I do not feel it is a \"mistake\" that I should report, but rather a discussion on importance).\r\n\r\nAn example solution for this could be if there was a way to use contexts in `React.memo` (which unless I'm incorrect only have access to `props` and `prevProps`)",
  "closed_by": {
    "login": "aweary",
    "id": 6886061,
    "node_id": "MDQ6VXNlcjY4ODYwNjE=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6886061?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aweary",
    "html_url": "https://github.com/aweary",
    "followers_url": "https://api.github.com/users/aweary/followers",
    "following_url": "https://api.github.com/users/aweary/following{/other_user}",
    "gists_url": "https://api.github.com/users/aweary/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aweary/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aweary/subscriptions",
    "organizations_url": "https://api.github.com/users/aweary/orgs",
    "repos_url": "https://api.github.com/users/aweary/repos",
    "events_url": "https://api.github.com/users/aweary/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aweary/received_events",
    "type": "User",
    "site_admin": false
  }
}
