{
  "url": "https://api.github.com/repos/facebook/react/issues/15494",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15494/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15494/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15494/events",
  "html_url": "https://github.com/facebook/react/issues/15494",
  "id": 437016972,
  "node_id": "MDU6SXNzdWU0MzcwMTY5NzI=",
  "number": 15494,
  "title": "Declarative vs. imperative coding style using Hooks",
  "user": {
    "login": "johnloven",
    "id": 11856040,
    "node_id": "MDQ6VXNlcjExODU2MDQw",
    "avatar_url": "https://avatars1.githubusercontent.com/u/11856040?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/johnloven",
    "html_url": "https://github.com/johnloven",
    "followers_url": "https://api.github.com/users/johnloven/followers",
    "following_url": "https://api.github.com/users/johnloven/following{/other_user}",
    "gists_url": "https://api.github.com/users/johnloven/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/johnloven/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/johnloven/subscriptions",
    "organizations_url": "https://api.github.com/users/johnloven/orgs",
    "repos_url": "https://api.github.com/users/johnloven/repos",
    "events_url": "https://api.github.com/users/johnloven/events{/privacy}",
    "received_events_url": "https://api.github.com/users/johnloven/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929155,
      "node_id": "MDU6TGFiZWw0MDkyOTE1NQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Question",
      "name": "Type: Question",
      "color": "cc317c",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-04-25T05:38:14Z",
  "updated_at": "2019-04-25T10:49:33Z",
  "closed_at": "2019-04-25T09:18:31Z",
  "author_association": "NONE",
  "body": "_If this should be asked on Stack Overflow instead, please let me know and feel free to close the issue._\r\n\r\nConsider a component that fetches some data in a custom hook, saves the fetched data in a state hook, and notifies the user that data has been fetched using a prop callback.\r\n\r\nNotifying the user can be done imperatively:\r\n\r\n```js\r\nfunction Component(props) {\r\n  const [ data, setData ] = useState(null);\r\n\r\n  useApi(\"/api/data\")\r\n    .then(setData)\r\n    .then(props.onFetched);\r\n\r\n  return dataToElements(data);\r\n}\r\n```\r\n\r\nor declaratively using an effect hook:\r\n\r\n```js\r\nfunction Component(props) {\r\n  const [ data, setData ] = useState(null);\r\n\r\n  useApi(\"/api/data\")\r\n    .then(setData);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      props.onFetched();\r\n    }\r\n  }, [ data ]);\r\n\r\n  return dataToElements(data);\r\n}\r\n```\r\n\r\nReact seems to promote a declarative approach. But what I've found is that when components grow large and complex, using declarative effect hooks makes the flow of data and actions quite hard to follow. If you're not careful, a lot of things start to depend on a lot of other things, and the predicted results become non-intuitive and hard to wrap your head around.\r\n\r\nI would like to know other peoples' opinions on this matter, and whether or not an imperative approach might sometimes be better. ",
  "closed_by": {
    "login": "threepointone",
    "id": 18808,
    "node_id": "MDQ6VXNlcjE4ODA4",
    "avatar_url": "https://avatars2.githubusercontent.com/u/18808?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/threepointone",
    "html_url": "https://github.com/threepointone",
    "followers_url": "https://api.github.com/users/threepointone/followers",
    "following_url": "https://api.github.com/users/threepointone/following{/other_user}",
    "gists_url": "https://api.github.com/users/threepointone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/threepointone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/threepointone/subscriptions",
    "organizations_url": "https://api.github.com/users/threepointone/orgs",
    "repos_url": "https://api.github.com/users/threepointone/repos",
    "events_url": "https://api.github.com/users/threepointone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/threepointone/received_events",
    "type": "User",
    "site_admin": false
  }
}
