{
  "url": "https://api.github.com/repos/facebook/react/issues/9390",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/9390/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/9390/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/9390/events",
  "html_url": "https://github.com/facebook/react/issues/9390",
  "id": 220524779,
  "node_id": "MDU6SXNzdWUyMjA1MjQ3Nzk=",
  "number": 9390,
  "title": "Caret misplaced after preventDefault in onBeforeInput",
  "user": {
    "login": "ouchxp",
    "id": 1253729,
    "node_id": "MDQ6VXNlcjEyNTM3Mjk=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/1253729?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ouchxp",
    "html_url": "https://github.com/ouchxp",
    "followers_url": "https://api.github.com/users/ouchxp/followers",
    "following_url": "https://api.github.com/users/ouchxp/following{/other_user}",
    "gists_url": "https://api.github.com/users/ouchxp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ouchxp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ouchxp/subscriptions",
    "organizations_url": "https://api.github.com/users/ouchxp/orgs",
    "repos_url": "https://api.github.com/users/ouchxp/repos",
    "events_url": "https://api.github.com/users/ouchxp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ouchxp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-04-10T02:51:16Z",
  "updated_at": "2017-04-10T15:34:40Z",
  "closed_at": "2017-04-10T15:34:40Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBUG\r\n\r\n**What is the current behavior?**\r\nWhen using e.preventDefault to omit some emoji input from MacOS's emoji picker, the caret still moving as if the character already been input.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem**\r\nhttps://jsfiddle.net/m6z0xn4r/181/\r\n![apr-10-2017 14-44-06](https://cloud.githubusercontent.com/assets/1253729/24844149/b5afc4fa-1dfc-11e7-9b49-83b57d1f5e4b.gif)\r\nAs we can see from the gif, I prevent everything in onBeforeInput. I'm trying to insert an emoji using MacOS's emoji picker. The caret then moved to the wrong position.\r\n\r\nThis issue is not only happen to contentEditable element but also apply to input element as well.\r\n\r\n**What is the expected behavior?**\r\nCaret should stay still if the input being blocked in onBeforeInput.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nTested react 15.3 and above, Chrome on MacOS is affected.\r\n",
  "closed_by": {
    "login": "aweary",
    "id": 6886061,
    "node_id": "MDQ6VXNlcjY4ODYwNjE=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6886061?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aweary",
    "html_url": "https://github.com/aweary",
    "followers_url": "https://api.github.com/users/aweary/followers",
    "following_url": "https://api.github.com/users/aweary/following{/other_user}",
    "gists_url": "https://api.github.com/users/aweary/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aweary/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aweary/subscriptions",
    "organizations_url": "https://api.github.com/users/aweary/orgs",
    "repos_url": "https://api.github.com/users/aweary/repos",
    "events_url": "https://api.github.com/users/aweary/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aweary/received_events",
    "type": "User",
    "site_admin": false
  }
}
