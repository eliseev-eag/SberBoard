{
  "url": "https://api.github.com/repos/facebook/react/issues/16946",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16946/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16946/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16946/events",
  "html_url": "https://github.com/facebook/react/issues/16946",
  "id": 499810793,
  "node_id": "MDU6SXNzdWU0OTk4MTA3OTM=",
  "number": 16946,
  "title": "Context api higger than 16.3 available in props (functional component) with react-router-v5",
  "user": {
    "login": "mjaracz",
    "id": 8504673,
    "node_id": "MDQ6VXNlcjg1MDQ2NzM=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/8504673?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mjaracz",
    "html_url": "https://github.com/mjaracz",
    "followers_url": "https://api.github.com/users/mjaracz/followers",
    "following_url": "https://api.github.com/users/mjaracz/following{/other_user}",
    "gists_url": "https://api.github.com/users/mjaracz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mjaracz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mjaracz/subscriptions",
    "organizations_url": "https://api.github.com/users/mjaracz/orgs",
    "repos_url": "https://api.github.com/users/mjaracz/repos",
    "events_url": "https://api.github.com/users/mjaracz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mjaracz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-09-28T19:13:14Z",
  "updated_at": "2019-09-28T19:21:34Z",
  "closed_at": null,
  "author_association": "NONE",
  "body": "My code where I configur my context Provider is like belowe:\r\n\r\n```\r\nimport React, {createContext} from 'react';\r\n\r\nconst InitialContext = {\r\n\texampleValue: [],\r\n\taction: () => {}\r\n};\r\n\r\nexport const ThemeContext = createContext(InitialContext);\r\nexport function ThemeProvider(props) {\r\n\tconst context = {\r\n\t\texampleValue: [],\r\n\t\taction: () => {}\r\n\t};\r\n\tconst contextAction = updateValue => context => {\r\n\t\tcontext.exampleValue.push(updateValue)\r\n                return context\r\n\t};\r\n\treturn (\r\n\t\t<ThemeContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\t...context,\r\n\t\t\t\taction: contextAction\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</ThemeContext.Provider>\r\n\t)\r\n}\r\n```\r\n\r\nAnd my Consumer based for Context Object\r\n\r\n```\r\nimport React from 'react';\r\nimport {ThemeContext} from './ThemeProvider';\r\n\r\nexport const ThemeConsumer = (props) => {\r\n\tconst {children} = props;\r\n\treturn (\r\n\t\t<ThemeContext.Consumer>\r\n\t\t\t{({exampleValue, action}) => {\r\n\t\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\t\texampleValue: exampleValue,\r\n\t\t\t\t\taction: action\r\n\t\t\t\t})\r\n\t\t\t}}\r\n\t\t</ThemeContext.Consumer>\r\n\t)\r\n};\r\n```\r\n\r\nAnd finally my root App component with routing configuration  \r\n\r\n```\r\n\r\nimport React from 'react';\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport {ThemeProvider} from './context/ThemeProvider';\r\n\r\nimport Layout from './Layout/Layout';\r\nimport {ThemeConsumer} from \"./context/ThemeConsumer\";\r\nimport {useStyles} from './styles';\r\n\r\n\r\nfunction App() {\r\n\tuseStyles();\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<ThemeProvider>\r\n\t\t\t\t<ThemeConsumer>\r\n\t\t\t\t    <Route path=\"/examplecomponent\" component={exampleComponent}/>\r\n\t\t\t\t</ThemeConsumer>\r\n\t\t\t</ThemeProvider>\r\n\t\t</Router>\r\n\t)\r\n}\r\n\r\nexport default App;\r\n\r\n```",
  "closed_by": null
}
