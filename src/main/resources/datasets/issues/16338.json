{
  "url": "https://api.github.com/repos/facebook/react/issues/16338",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16338/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16338/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16338/events",
  "html_url": "https://github.com/facebook/react/pull/16338",
  "id": 479108407,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MzA2MDg5MjE5",
  "number": 16338,
  "title": "Release script supports publishing a subset of packages",
  "user": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-08-09T18:15:28Z",
  "updated_at": "2019-08-09T20:12:03Z",
  "closed_at": "2019-08-09T20:12:01Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/16338",
    "html_url": "https://github.com/facebook/react/pull/16338",
    "diff_url": "https://github.com/facebook/react/pull/16338.diff",
    "patch_url": "https://github.com/facebook/react/pull/16338.patch"
  },
  "body": "Sometimes it's useful to skip publishing one or more packages. In the past, we've done this by temporarily editing the local `package.json` to mark it as a \"private\" package, but this is kind of janky. The release script should support this since it can add some additional automated checks to make sure we don't publish something invalid.\r\n\r\n## Release flow\r\n\r\n### Step 1: Prepare canary\r\nIn this case, we still prepare all of the packages. (This greatly simplifies the following script steps.) For the packages we plan to \"skip\" as part of publishing, we just confirm the already published version numbers.\r\n![step-1-updatedKapture 2019-08-09 at 11 13 26](https://user-images.githubusercontent.com/29597/62799872-bff6e400-ba96-11e9-929d-067754666999.gif)\r\n\r\n### Step 2: Publish filtered set of packages\r\nWhen it is time to publish, we can specify one or more packages as \"skipped\". The updated script will confirm that we really want to skip them, and ensure that doing so wouldn't leave us in an invalid state (depending on something that hasn't already been released).\r\n\r\n![step-2-updated-Kapture 2019-08-09 at 11 39 38](https://user-images.githubusercontent.com/29597/62801363-6d1f2b80-ba9a-11e9-96a4-cd891185d740.gif)\r\n\r\nNote that this is still an advanced technique and something that should be done carefully and with consideration.\r\n\r\n## Error handling\r\n\r\n### Guard against typos\r\n![invalid-package-Kapture 2019-08-09 at 9 21 03](https://user-images.githubusercontent.com/29597/62798504-3e518700-ba93-11e9-8415-ad31a86ac530.gif)\r\n\r\n### Guard against publishing a dependency on an unpublished version\r\n![invalid-skipped-version-Kapture 2019-08-09 at 9 22 35](https://user-images.githubusercontent.com/29597/62798505-3e518700-ba93-11e9-802c-3bf519d30057.gif)\r\n",
  "closed_by": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  }
}
