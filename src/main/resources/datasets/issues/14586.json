{
  "url": "https://api.github.com/repos/facebook/react/issues/14586",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14586/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14586/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14586/events",
  "html_url": "https://github.com/facebook/react/issues/14586",
  "id": 398765620,
  "node_id": "MDU6SXNzdWUzOTg3NjU2MjA=",
  "number": 14586,
  "title": "Context is assigned to `undefined` when it's declared in JSX",
  "user": {
    "login": "moonformeli",
    "id": 25758965,
    "node_id": "MDQ6VXNlcjI1NzU4OTY1",
    "avatar_url": "https://avatars0.githubusercontent.com/u/25758965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/moonformeli",
    "html_url": "https://github.com/moonformeli",
    "followers_url": "https://api.github.com/users/moonformeli/followers",
    "following_url": "https://api.github.com/users/moonformeli/following{/other_user}",
    "gists_url": "https://api.github.com/users/moonformeli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/moonformeli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/moonformeli/subscriptions",
    "organizations_url": "https://api.github.com/users/moonformeli/orgs",
    "repos_url": "https://api.github.com/users/moonformeli/repos",
    "events_url": "https://api.github.com/users/moonformeli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/moonformeli/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-01-14T06:45:03Z",
  "updated_at": "2019-01-14T08:33:24Z",
  "closed_at": "2019-01-14T08:33:24Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nbug\r\nRelated issue: [#14418](https://github.com/facebook/react/issues/14418)\r\n\r\n**What is the current behavior?**\r\n```context``` variable is set to ```undefined``` in the codes below, when it's used in JSX.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n```javascript\r\n// test.js\r\n\r\nexport const handlClick = function() {\r\n  console.dir(this); // == undefined;\r\n}\r\n```\r\n```javascript\r\n// App.js\r\nimport { handleClick } from './test';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n       <a onClick={handleClick}>Click me</a>\r\n    );\r\n  }\r\n}\r\n```\r\n\r\n**What is the expected behavior?**\r\nEither ```window``` or ```App``` or something that isn't ```undefined```\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n```javascript\r\n{\r\n  \"name\": \"r\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"react\": \"^16.7.0\",\r\n    \"react-dom\": \"^16.7.0\",\r\n    \"react-scripts\": \"2.1.3\"\r\n  },\r\n  \"scripts\": {\r\n    \"start\": \"react-scripts start\",\r\n    \"build\": \"react-scripts build\",\r\n    \"test\": \"react-scripts test\",\r\n    \"eject\": \"react-scripts eject\"\r\n  },\r\n  \"eslintConfig\": {\r\n    \"extends\": \"react-app\"\r\n  },\r\n  \"browserslist\": [\r\n    \">0.2%\",\r\n    \"not dead\",\r\n    \"not ie <= 11\",\r\n    \"not op_mini all\"\r\n  ]\r\n}\r\n\r\n```\r\n\r\nExtra: Used _create-react-app_ to set this demo project up, using _web storm_ as the IDE.\r\n\r\nThrough debugging my own code, I found this unexpected bug and started to track of its paths. And found out there's a function invoked midst its path and I think this invoked function ended up passing the ```undefined``` context to the endpoint, my own function.\r\nI attached the code lines I found, I'm not still sure if this is related to this issue, though.\r\nThanks for your time.\r\n\r\n```javascript\r\n// react-dom.development.js\r\nfunction executeDispatch(event, simulated, listener, inst) {\r\n  var type = event.type || 'unknown-event';\r\n  event.currentTarget = getNodeFromInstance(inst);\r\n  invokeGuardedCallbackAndCatchFirstError(type, listener, undefined, event);\r\n  event.currentTarget = null;\r\n}\r\n```\r\n",
  "closed_by": {
    "login": "moonformeli",
    "id": 25758965,
    "node_id": "MDQ6VXNlcjI1NzU4OTY1",
    "avatar_url": "https://avatars0.githubusercontent.com/u/25758965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/moonformeli",
    "html_url": "https://github.com/moonformeli",
    "followers_url": "https://api.github.com/users/moonformeli/followers",
    "following_url": "https://api.github.com/users/moonformeli/following{/other_user}",
    "gists_url": "https://api.github.com/users/moonformeli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/moonformeli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/moonformeli/subscriptions",
    "organizations_url": "https://api.github.com/users/moonformeli/orgs",
    "repos_url": "https://api.github.com/users/moonformeli/repos",
    "events_url": "https://api.github.com/users/moonformeli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/moonformeli/received_events",
    "type": "User",
    "site_admin": false
  }
}
