{
  "url": "https://api.github.com/repos/facebook/react/issues/2731",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/2731/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/2731/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/2731/events",
  "html_url": "https://github.com/facebook/react/issues/2731",
  "id": 52265781,
  "node_id": "MDU6SXNzdWU1MjI2NTc4MQ==",
  "number": 2731,
  "title": "ReactMount.nodeCache leaks objects during unmount",
  "user": {
    "login": "1st1",
    "id": 239003,
    "node_id": "MDQ6VXNlcjIzOTAwMw==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/239003?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/1st1",
    "html_url": "https://github.com/1st1",
    "followers_url": "https://api.github.com/users/1st1/followers",
    "following_url": "https://api.github.com/users/1st1/following{/other_user}",
    "gists_url": "https://api.github.com/users/1st1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/1st1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/1st1/subscriptions",
    "organizations_url": "https://api.github.com/users/1st1/orgs",
    "repos_url": "https://api.github.com/users/1st1/repos",
    "events_url": "https://api.github.com/users/1st1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/1st1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 139653724,
      "node_id": "MDU6TGFiZWwxMzk2NTM3MjQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Core%20Utilities",
      "name": "Component: Core Utilities",
      "color": "c5def5",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2014-12-17T17:11:39Z",
  "updated_at": "2016-04-25T22:29:54Z",
  "closed_at": "2016-04-25T22:29:54Z",
  "author_association": "NONE",
  "body": "The scenario for this is pretty easy to reproduce:\n1. Suppose we have a popup implementation -- there is a function to render popup view (react element) in an overlay div element, and a function to unmount the view and destroy the overlay.\n2. In that popup we have a button element, with its onClick set to call the destroy popup function.\n3. When a user clicks that button, React.unmountComponentAtNode is called, and react cleans everything up (ReactMount.nodeCache is empty), but then, react starts to process the blur event (remember, the user clicked the button to close the popup, so it was focused), and that resurrects the button element in ReactMount.nodeCache.\n4. The button DOM element ends up being stuck in nodeCache forever, but the worst part of it is that a lot of DOM nodes (sometimes hundreds) are not subject for GC anymore.\n",
  "closed_by": {
    "login": "sophiebits",
    "id": 6820,
    "node_id": "MDQ6VXNlcjY4MjA=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sophiebits",
    "html_url": "https://github.com/sophiebits",
    "followers_url": "https://api.github.com/users/sophiebits/followers",
    "following_url": "https://api.github.com/users/sophiebits/following{/other_user}",
    "gists_url": "https://api.github.com/users/sophiebits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sophiebits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sophiebits/subscriptions",
    "organizations_url": "https://api.github.com/users/sophiebits/orgs",
    "repos_url": "https://api.github.com/users/sophiebits/repos",
    "events_url": "https://api.github.com/users/sophiebits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sophiebits/received_events",
    "type": "User",
    "site_admin": false
  }
}
