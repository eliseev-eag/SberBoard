{
  "url": "https://api.github.com/repos/facebook/react/issues/14877",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14877/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14877/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14877/events",
  "html_url": "https://github.com/facebook/react/issues/14877",
  "id": 411442077,
  "node_id": "MDU6SXNzdWU0MTE0NDIwNzc=",
  "number": 14877,
  "title": "useState re-renders the function with a timeout",
  "user": {
    "login": "KirilVelichkov",
    "id": 18174745,
    "node_id": "MDQ6VXNlcjE4MTc0NzQ1",
    "avatar_url": "https://avatars3.githubusercontent.com/u/18174745?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/KirilVelichkov",
    "html_url": "https://github.com/KirilVelichkov",
    "followers_url": "https://api.github.com/users/KirilVelichkov/followers",
    "following_url": "https://api.github.com/users/KirilVelichkov/following{/other_user}",
    "gists_url": "https://api.github.com/users/KirilVelichkov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/KirilVelichkov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/KirilVelichkov/subscriptions",
    "organizations_url": "https://api.github.com/users/KirilVelichkov/orgs",
    "repos_url": "https://api.github.com/users/KirilVelichkov/repos",
    "events_url": "https://api.github.com/users/KirilVelichkov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/KirilVelichkov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-02-18T11:59:33Z",
  "updated_at": "2019-03-22T16:56:09Z",
  "closed_at": "2019-02-18T12:54:10Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\nuseState re-renders the function with a short timeout\r\n\r\nI have made a very small and simple TODO component with both React Class and React Function component. I wrote a few test to each (NOTE: tests are exactly the same for the class component and function component)\r\nWhen running the tests for the function component it looks like that the render of the function is called with a short timeout(The function component uses useState in it)\r\nA working example can be found in this repo: https://github.com/KirilVelichkov/react-hooks-bug\r\nTo see the bug go to *todo.test.js* and un-comment line 62. To see how i got it fixed un-comment the below lines.\r\n\r\nThis is reproducible on both Windows 10 and macOS High Sierra 10.13.6\r\n\r\nNode version - 11.0.0\r\nNPM version - 6.4.1",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
