{
  "url": "https://api.github.com/repos/facebook/react/issues/8245",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/8245/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/8245/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/8245/events",
  "html_url": "https://github.com/facebook/react/issues/8245",
  "id": 188280676,
  "node_id": "MDU6SXNzdWUxODgyODA2NzY=",
  "number": 8245,
  "title": "render() doesn't called inside HOC component with passing children",
  "user": {
    "login": "nbotalov",
    "id": 18008589,
    "node_id": "MDQ6VXNlcjE4MDA4NTg5",
    "avatar_url": "https://avatars0.githubusercontent.com/u/18008589?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nbotalov",
    "html_url": "https://github.com/nbotalov",
    "followers_url": "https://api.github.com/users/nbotalov/followers",
    "following_url": "https://api.github.com/users/nbotalov/following{/other_user}",
    "gists_url": "https://api.github.com/users/nbotalov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nbotalov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nbotalov/subscriptions",
    "organizations_url": "https://api.github.com/users/nbotalov/orgs",
    "repos_url": "https://api.github.com/users/nbotalov/repos",
    "events_url": "https://api.github.com/users/nbotalov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nbotalov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-11-09T15:51:38Z",
  "updated_at": "2016-12-16T14:09:58Z",
  "closed_at": "2016-12-16T14:06:46Z",
  "author_association": "NONE",
  "body": "Hi, I'm writing custom DataTable component and want to add support for rich cells. Example of desirable usage:\r\n```\r\nclass TestTable extends Component {\r\n    render() {\r\n        return (\r\n            <DataTable>\r\n                <Column title=\"Rich Cell\">\r\n                    <FakeId/>\r\n                </Column>\r\n                <Column title=\"Name\" dataField=\"name\"/>\r\n                <Column title=\"Technolody\" dataField=\"tech\"/>\r\n            </DataTable>\r\n        )\r\n    }\r\n}\r\n```\r\n<Column ../> is used to pass props only, during DataTable rendering it's replaced with header cells and body cells.\r\nTo make rich cells working trying to save all children of Column and during rendering of cell inject actual rowData to them.\r\n\r\n```\r\nclass DataTable extends PureComponent {\r\n     getColumnsDescription = (props: Props): ColumnsDescription =>\r\n        React.Children.map(props.children, (column, i) => {\r\n                return {\r\n                    title: column.props.title,\r\n                    dataField: column.props.dataField,\r\n                    className: column.props.columnClassName,\r\n                    width: column.props.width,\r\n                    cellChildren: column.props.children,\r\n                    index: i\r\n                }\r\n            }\r\n        );\r\n}\r\n```\r\n\r\nHOC:\r\n```\r\nfunction withRowData(CellComponent: ClassComponent<*, *, *> | FunctionComponent<*, *>, data: DataEntry): ClassComponent<*, *, *> {\r\n    return class extends Component {\r\n        render() {\r\n            return <CellComponent\r\n                {...this.props}\r\n                rowData={data}\r\n            />\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCell rendering\r\n```\r\nclass TableCell extends PureComponent {\r\n    _renderRichCell() {\r\n        const {rowData, columnDescription} = this.props;\r\n        return React.Children.map(columnDescription.cellChildren, (cellComponent) => withRowData(cellComponent, rowData));\r\n    }\r\n\r\n    render() {\r\n        const {rowData, columnDescription} = this.props;\r\n        return (\r\n            <td>\r\n                {columnDescription.dataField && rowData[columnDescription.dataField]}\r\n                {!columnDescription.dataField && this._renderRichCell()}\r\n            </td>\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that render() method of Column children (FakeId in example) doesn't called. In debugger result of _renderRichCell() looks ok (can provide snapshot if needed). No errors in console.\r\nMaybe it's not valid to use React.Children.map in TableCell to transform elements with another parent?",
  "closed_by": {
    "login": "nbotalov",
    "id": 18008589,
    "node_id": "MDQ6VXNlcjE4MDA4NTg5",
    "avatar_url": "https://avatars0.githubusercontent.com/u/18008589?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nbotalov",
    "html_url": "https://github.com/nbotalov",
    "followers_url": "https://api.github.com/users/nbotalov/followers",
    "following_url": "https://api.github.com/users/nbotalov/following{/other_user}",
    "gists_url": "https://api.github.com/users/nbotalov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nbotalov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nbotalov/subscriptions",
    "organizations_url": "https://api.github.com/users/nbotalov/orgs",
    "repos_url": "https://api.github.com/users/nbotalov/repos",
    "events_url": "https://api.github.com/users/nbotalov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nbotalov/received_events",
    "type": "User",
    "site_admin": false
  }
}
