{
  "url": "https://api.github.com/repos/facebook/react/issues/12700",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12700/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12700/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12700/events",
  "html_url": "https://github.com/facebook/react/issues/12700",
  "id": 318151699,
  "node_id": "MDU6SXNzdWUzMTgxNTE2OTk=",
  "number": 12700,
  "title": "Calling ReactDOM.render() many many times is slow",
  "user": {
    "login": "walkerburgin",
    "id": 1189357,
    "node_id": "MDQ6VXNlcjExODkzNTc=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1189357?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/walkerburgin",
    "html_url": "https://github.com/walkerburgin",
    "followers_url": "https://api.github.com/users/walkerburgin/followers",
    "following_url": "https://api.github.com/users/walkerburgin/following{/other_user}",
    "gists_url": "https://api.github.com/users/walkerburgin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/walkerburgin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/walkerburgin/subscriptions",
    "organizations_url": "https://api.github.com/users/walkerburgin/orgs",
    "repos_url": "https://api.github.com/users/walkerburgin/repos",
    "events_url": "https://api.github.com/users/walkerburgin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/walkerburgin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 710722093,
      "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
      "name": "Type: Needs Investigation",
      "color": "fbca04",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2018-04-26T18:42:43Z",
  "updated_at": "2018-08-15T10:15:50Z",
  "closed_at": "2018-08-07T01:07:05Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug (?)\r\n\r\n**What is the current behavior?**\r\n\r\nCalling `ReactDOM.render()` many many times seems to have meaningfully worse performance than rendering many elements within a single React root.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n// Edited to add dev/production builds\r\n+ React 16 (development): https://jsfiddle.net/Luktwrdm/431/\r\n+ React 16 (production): https://jsfiddle.net/Luktwrdm/433/\r\n+ React 15 (development): https://jsfiddle.net/Luktwrdm/432/\r\n\r\n(These examples are obviously pretty contrived)\r\n\r\n**What is the expected behavior?**\r\n\r\nIn a perfect world there wouldn't be such a large performance discrepancy between these two approaches.\r\n\r\nFor context, I'm working with a frontend plugin framework and trying not to expose React (which should ideally be an implementation detail) as part of the plugin interface. \r\n\r\nAn interface like this requires both the host and the plugin to be implemented with React and to share the same instance of React... but is fast and convenient when they do:\r\n\r\n```\r\nrender(props: T): JSX.Element;\r\n```\r\n\r\nAn interface like this treats React as an implementation detail, but is less convenient and (more importantly) incurs the above performance problem:\r\n\r\n```\r\nrender(props:T, element: HTMLElement): void; \r\nunmount(element: HTMLElement): void;\r\n```\r\n\r\nI imagine this use case isn't a high priority for React/ReactDOM, but I'd love to understand a bit better what it is that really causes the performance difference and whether it's likely to ever change. \r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\n+ Seems to impact both React 15 & 16 similarly\r\n+ I don't think it's browser dependent\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
