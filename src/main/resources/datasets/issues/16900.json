{
  "url": "https://api.github.com/repos/facebook/react/issues/16900",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16900/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16900/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16900/events",
  "html_url": "https://github.com/facebook/react/pull/16900",
  "id": 498632941,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MzIxNTE4NDQz",
  "number": 16900,
  "title": "Moving backend injection to the content script",
  "user": {
    "login": "linshunghuang",
    "id": 11562092,
    "node_id": "MDQ6VXNlcjExNTYyMDky",
    "avatar_url": "https://avatars0.githubusercontent.com/u/11562092?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/linshunghuang",
    "html_url": "https://github.com/linshunghuang",
    "followers_url": "https://api.github.com/users/linshunghuang/followers",
    "following_url": "https://api.github.com/users/linshunghuang/following{/other_user}",
    "gists_url": "https://api.github.com/users/linshunghuang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/linshunghuang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/linshunghuang/subscriptions",
    "organizations_url": "https://api.github.com/users/linshunghuang/orgs",
    "repos_url": "https://api.github.com/users/linshunghuang/repos",
    "events_url": "https://api.github.com/users/linshunghuang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/linshunghuang/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2019-09-26T03:21:44Z",
  "updated_at": "2019-09-26T20:31:26Z",
  "closed_at": "2019-09-26T13:03:08Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/16900",
    "html_url": "https://github.com/facebook/react/pull/16900",
    "diff_url": "https://github.com/facebook/react/pull/16900.diff",
    "patch_url": "https://github.com/facebook/react/pull/16900.patch"
  },
  "body": "This is our second attempt to make the React Dev Tool Extension compatible with Trusted Types (first attempt was https://github.com/facebook/react/pull/16752). Basically, for websites using Trusted Types, assigning a string to a script src in the context of the web page will trigger a `TrustedScriptURL` violation on this line: https://github.com/facebook/react/blob/master/packages/react-devtools-extensions/src/inject.js#L8\r\n\r\nOur first attempt was rolled back in https://github.com/facebook/react/issues/16840 because it caused the Components tab to be blank for some users on older browsers. I was able to reproduce the issue in Chromium 69.0.3497.0 on both Ubuntu and Mac.\r\n\r\nIn this PR, the main change on top of https://github.com/facebook/react/pull/16752 is to set a `targetOrigin` on the `postMessage` call. Without the `targetOrigin` argument, the postMessage was not sent to the content script (confirmed in Chromium 69.0.3497.0). Adding either `'*'` or `window.origin` worked for me, so I went with the latter.\r\n\r\nWith this change, I've tested that\r\n- The React DevTools Components tab is working on https://reactjs.org/ in Chromium 69.0.3497.0 and Chrome 79.0.3921.0\r\n- Using React DevTools on a React website with Trusted Types enabled, the `TrustedScriptURL` violation was not triggered",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
