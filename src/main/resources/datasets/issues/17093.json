{
  "url": "https://api.github.com/repos/facebook/react/issues/17093",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/17093/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/17093/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/17093/events",
  "html_url": "https://github.com/facebook/react/issues/17093",
  "id": 507185955,
  "node_id": "MDU6SXNzdWU1MDcxODU5NTU=",
  "number": 17093,
  "title": "Weird behavior with functional components and useState, A bug or \"Another rule!\"",
  "user": {
    "login": "mfoncho",
    "id": 8763978,
    "node_id": "MDQ6VXNlcjg3NjM5Nzg=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/8763978?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mfoncho",
    "html_url": "https://github.com/mfoncho",
    "followers_url": "https://api.github.com/users/mfoncho/followers",
    "following_url": "https://api.github.com/users/mfoncho/following{/other_user}",
    "gists_url": "https://api.github.com/users/mfoncho/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mfoncho/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mfoncho/subscriptions",
    "organizations_url": "https://api.github.com/users/mfoncho/orgs",
    "repos_url": "https://api.github.com/users/mfoncho/repos",
    "events_url": "https://api.github.com/users/mfoncho/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mfoncho/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929155,
      "node_id": "MDU6TGFiZWw0MDkyOTE1NQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Question",
      "name": "Type: Question",
      "color": "cc317c",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-10-15T11:35:15Z",
  "updated_at": "2019-10-15T16:04:11Z",
  "closed_at": "2019-10-15T16:04:04Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n```React : '16.9.0'```\r\n\r\nsample code \r\n```javascript\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nfunction OptionOne(){\r\n  return <div>Blue pill</div>\r\n}\r\n\r\nconst OptionTwo = React.memo(function OptionTwo(){\r\n  return <div>Red pill</div>\r\n});\r\n\r\n\r\nfunction App() {\r\n  const [ Option, setOption ] = React.useState(null);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <button onClick={e=>setOption(OptionOne)}>Option one</button>\r\n        <button onClick={e=>setOption(OptionTwo)}>Option two</button>\r\n      </div>\r\n      { Option && <Option/>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n```\r\nWell the expected behavior was Option one wasn't suppose to throw an error;\r\nsetState in class components didn't mind if a key value was a pure functional component or a class component even, but it seams the useState hook is sensitive to the value passed using the setter. If its another functional component it throws a confusing error, worst if the pure functional component passed to setVlaue of useState hook uses hooks of its own, then you get multiple misleading hooks errors to debug.\r\nSo is the useState hook working like its suppose to \"A rule not to pass a pure functional component as a value to the setValue of the useState hook\" or a bug? \r\n",
  "closed_by": {
    "login": "bvaughn",
    "id": 29597,
    "node_id": "MDQ6VXNlcjI5NTk3",
    "avatar_url": "https://avatars0.githubusercontent.com/u/29597?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bvaughn",
    "html_url": "https://github.com/bvaughn",
    "followers_url": "https://api.github.com/users/bvaughn/followers",
    "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
    "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
    "organizations_url": "https://api.github.com/users/bvaughn/orgs",
    "repos_url": "https://api.github.com/users/bvaughn/repos",
    "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bvaughn/received_events",
    "type": "User",
    "site_admin": false
  }
}
