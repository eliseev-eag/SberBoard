{
  "url": "https://api.github.com/repos/facebook/react/issues/10960",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/10960/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/10960/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/10960/events",
  "html_url": "https://github.com/facebook/react/issues/10960",
  "id": 261629579,
  "node_id": "MDU6SXNzdWUyNjE2Mjk1Nzk=",
  "number": 10960,
  "title": "ReactDOM 16 createPortal not the same behavior as renderSubtreeIntoContainer",
  "user": {
    "login": "xelaz",
    "id": 3328062,
    "node_id": "MDQ6VXNlcjMzMjgwNjI=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/3328062?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xelaz",
    "html_url": "https://github.com/xelaz",
    "followers_url": "https://api.github.com/users/xelaz/followers",
    "following_url": "https://api.github.com/users/xelaz/following{/other_user}",
    "gists_url": "https://api.github.com/users/xelaz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xelaz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xelaz/subscriptions",
    "organizations_url": "https://api.github.com/users/xelaz/orgs",
    "repos_url": "https://api.github.com/users/xelaz/repos",
    "events_url": "https://api.github.com/users/xelaz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xelaz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-09-29T12:44:27Z",
  "updated_at": "2018-03-06T07:34:42Z",
  "closed_at": "2017-09-29T12:52:17Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nI don't know if this is a bug or feature, because with last function *ReactDOM.unstable_renderSubtreeIntoContainer* it works like if you reading html code but with the new feature *ReactDOM.createPortal* it is not the same behavior.\r\nBud it may be, that i not understand the new feature create portal.\r\n\r\n**minimal demo of the problem**\r\n[Demo with ReactDOM.createPortal](https://jsfiddle.net/kogexuok/2/)\r\n[Demo with ReactDOM.unstable_renderSubtreeIntoContainer](https://jsfiddle.net/3851keez/1/)\r\n\r\n```jsx\r\nclass Container extends React.Component\r\n{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: false\r\n    }\r\n  }\r\n  \r\n  _show() {\r\n    console.log('SHOW');\r\n    this.setState({show: true});\r\n  }\r\n  \r\n  _close() {\r\n    console.log('CLOSE');\r\n    this.setState({show: false});\r\n  }\r\n  \r\n  render() {\r\n    const {show} = this.state;\r\n    \r\n    return (\r\n      <div style={{background: 'red'}} onClick={this._show.bind(this)}>\r\n        <div>Click me to show the Portal content</div>\r\n        <div>State: {show && 'visible' || 'hidden'}</div>\r\n        {show && <Portal>\r\n          <div style={{background: 'green'}}>\r\n            <button onClick={this._close.bind(this)}>&times; close portal</button>\r\n          </div>\r\n        </Portal>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass Portal extends React.Component\r\n{\r\n  constructor(props) {\r\n    super(props);\r\n    this.node = document.createElement('div');\r\n    document.body.appendChild(this.node);\r\n  }\r\n  \r\n  render() {\r\n    return ReactDOM.createPortal(this.props.children, this.node);\r\n  }\r\n}\r\n\r\nReactDOM.render(<Container />, document.getElementById('body'));\r\n```\r\n\r\n*Rendered SourceCode:*\r\n```html\r\n<div id=\"body\">\r\n  <div style=\"background: red;\">\r\n    <div>Click me to show the Portal content</div>\r\n    <div>State: visible</div>\r\n  </div>\r\n</div>\r\n<div>\r\n  <div style=\"background: green;\"><button>Ã— close portal</button></div>\r\n</div>\r\n```\r\n\r\n**What is the expected behavior?**\r\nPortal render content in to the body but if i want close the Portal and i click on close button, then i trigger the show action again. Is this a problem in ShadowDOM? Because in Rendered HTML the  Container and Portal are separate and close portal is not child of container.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n* React 16.0.0\r\n* ReactDOM 16.0.0\r\n* Chrome Version 61.0.3163.100\r\n\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
