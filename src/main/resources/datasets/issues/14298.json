{
  "url": "https://api.github.com/repos/facebook/react/issues/14298",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14298/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14298/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14298/events",
  "html_url": "https://github.com/facebook/react/pull/14298",
  "id": 383193398,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjMyNzIyNTMw",
  "number": 14298,
  "title": "Validate propTypes for lazy() and memo() and warn about invalid patterns",
  "user": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2018-11-21T16:17:41Z",
  "updated_at": "2018-11-29T23:42:23Z",
  "closed_at": "2018-11-29T20:06:28Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/14298",
    "html_url": "https://github.com/facebook/react/pull/14298",
    "diff_url": "https://github.com/facebook/react/pull/14298.diff",
    "patch_url": "https://github.com/facebook/react/pull/14298.patch"
  },
  "body": "Fixes https://github.com/facebook/react/issues/14159.\r\n\r\nSupersedes https://github.com/facebook/react/pull/14219.\r\n\r\n### Lazy\r\n\r\n* We now warn about trying to assign `defaultProps` and `propTypes` to outer wrapper (but allow it).\r\n  * When `propTypes` is on the outer `lazy()` wrapper, we have undefined behavior. In some cases outer `propTypes` might validate, in other it might not. The warning will discourage you regardless, and ask you to define it inside instead.\r\n* We now validate `propTypes` defined on the inner lazy component. Coverage added.\r\n* Better error message if you nest `lazy()`. Coverage added.\r\n\r\n### Memo\r\n\r\n* We now validate `propTypes` both on the inner and the outer component. Coverage added.\r\n\r\nA bunch of the complexity is because for lazy code paths, we have to validate in the reconciler (because we don't have `defaultProps` until lazy resolves). We want to validate initial props too, and not just updates. So we can't just descend down in `createElement` when possible â€” as this would \"lose\" the props from the first lazy mount.\r\n\r\nAdditionally, in `memo` code paths we take care to validate both outer and inner props. This is a bit messy because of the \"upgrade\" scenario (which might also be combined with lazy). I added a bunch of tests to cover different combinations.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
