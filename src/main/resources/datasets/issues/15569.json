{
  "url": "https://api.github.com/repos/facebook/react/issues/15569",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15569/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15569/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15569/events",
  "html_url": "https://github.com/facebook/react/issues/15569",
  "id": 440446444,
  "node_id": "MDU6SXNzdWU0NDA0NDY0NDQ=",
  "number": 15569,
  "title": "useEffect doesn't throw warning in case of Promises, just only with Async/Await.",
  "user": {
    "login": "BiosBoy",
    "id": 30953392,
    "node_id": "MDQ6VXNlcjMwOTUzMzky",
    "avatar_url": "https://avatars3.githubusercontent.com/u/30953392?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/BiosBoy",
    "html_url": "https://github.com/BiosBoy",
    "followers_url": "https://api.github.com/users/BiosBoy/followers",
    "following_url": "https://api.github.com/users/BiosBoy/following{/other_user}",
    "gists_url": "https://api.github.com/users/BiosBoy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/BiosBoy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/BiosBoy/subscriptions",
    "organizations_url": "https://api.github.com/users/BiosBoy/orgs",
    "repos_url": "https://api.github.com/users/BiosBoy/repos",
    "events_url": "https://api.github.com/users/BiosBoy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/BiosBoy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-05-05T13:46:38Z",
  "updated_at": "2019-05-06T06:35:59Z",
  "closed_at": "2019-05-06T06:33:36Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\nBug.\r\n\r\n**What is the current behavior?**\r\nThe `useEffect` has some strange(different) behavior while the same using via `async` and `Promise`. So, by the first one, I get the warning about wrong asynchronous `useEffect` invoke, that is right. But when I try to make the same trick by `Promises` it works without any warning. I suppose it should throw here a warning too, is not?  \r\n\r\n```\r\n // Will throw warning:\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const payload = await fetch(`some_url`);\r\n      const data = await payload.json();\r\n\r\n      setPayload(data)\r\n    }\r\n  }, []);\r\n```\r\n\r\nThe same by `Promise`:\r\n```\r\n // No any warning:\r\n  useEffect(() => {\r\n    fetch('some_url')\r\n        .then(res => res.text())\r\n        .then(data => setPayload(data));\r\n  }, []);\r\n```\r\n\r\n**What is the expected behavior?**\r\nShould throw the warning in both `async/await` and `Promises` cases.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n - React: v.16.8.6;\r\n",
  "closed_by": {
    "login": "BiosBoy",
    "id": 30953392,
    "node_id": "MDQ6VXNlcjMwOTUzMzky",
    "avatar_url": "https://avatars3.githubusercontent.com/u/30953392?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/BiosBoy",
    "html_url": "https://github.com/BiosBoy",
    "followers_url": "https://api.github.com/users/BiosBoy/followers",
    "following_url": "https://api.github.com/users/BiosBoy/following{/other_user}",
    "gists_url": "https://api.github.com/users/BiosBoy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/BiosBoy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/BiosBoy/subscriptions",
    "organizations_url": "https://api.github.com/users/BiosBoy/orgs",
    "repos_url": "https://api.github.com/users/BiosBoy/repos",
    "events_url": "https://api.github.com/users/BiosBoy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/BiosBoy/received_events",
    "type": "User",
    "site_admin": false
  }
}
