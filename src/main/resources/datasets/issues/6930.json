{
  "url": "https://api.github.com/repos/facebook/react/issues/6930",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/6930/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/6930/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/6930/events",
  "html_url": "https://github.com/facebook/react/pull/6930",
  "id": 157748338,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NzIwNzAyMjA=",
  "number": 6930,
  "title": "Fallback to legacy set/get in old versions of FF",
  "user": {
    "login": "andrewimm",
    "id": 494043,
    "node_id": "MDQ6VXNlcjQ5NDA0Mw==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/494043?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/andrewimm",
    "html_url": "https://github.com/andrewimm",
    "followers_url": "https://api.github.com/users/andrewimm/followers",
    "following_url": "https://api.github.com/users/andrewimm/following{/other_user}",
    "gists_url": "https://api.github.com/users/andrewimm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/andrewimm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andrewimm/subscriptions",
    "organizations_url": "https://api.github.com/users/andrewimm/orgs",
    "repos_url": "https://api.github.com/users/andrewimm/repos",
    "events_url": "https://api.github.com/users/andrewimm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/andrewimm/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    },
    {
      "id": 386093912,
      "node_id": "MDU6TGFiZWwzODYwOTM5MTI=",
      "url": "https://api.github.com/repos/facebook/react/labels/Status:%20Reverted",
      "name": "Status: Reverted",
      "color": "d93f0b",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "jimfb",
    "id": 9595985,
    "node_id": "MDQ6VXNlcjk1OTU5ODU=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/9595985?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jimfb",
    "html_url": "https://github.com/jimfb",
    "followers_url": "https://api.github.com/users/jimfb/followers",
    "following_url": "https://api.github.com/users/jimfb/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimfb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jimfb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jimfb/subscriptions",
    "organizations_url": "https://api.github.com/users/jimfb/orgs",
    "repos_url": "https://api.github.com/users/jimfb/repos",
    "events_url": "https://api.github.com/users/jimfb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jimfb/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jimfb",
      "id": 9595985,
      "node_id": "MDQ6VXNlcjk1OTU5ODU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9595985?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimfb",
      "html_url": "https://github.com/jimfb",
      "followers_url": "https://api.github.com/users/jimfb/followers",
      "following_url": "https://api.github.com/users/jimfb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimfb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimfb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimfb/subscriptions",
      "organizations_url": "https://api.github.com/users/jimfb/orgs",
      "repos_url": "https://api.github.com/users/jimfb/repos",
      "events_url": "https://api.github.com/users/jimfb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimfb/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2016-05-31T19:15:53Z",
  "updated_at": "2016-06-06T18:46:01Z",
  "closed_at": "2016-06-02T18:35:21Z",
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/6930",
    "html_url": "https://github.com/facebook/react/pull/6930",
    "diff_url": "https://github.com/facebook/react/pull/6930.diff",
    "patch_url": "https://github.com/facebook/react/pull/6930.patch"
  },
  "body": "#5746 introduced some issues with older (<22) versions of Firefox that prevent inputs from being properly updated, and fails to fire `componentDidMount` and any ref callbacks.\n\nIn these old versions of Firefox, accessing the property descriptor of a prototype calculated the value, which caused it to throw exceptions in certain cases related to the DOM (see: https://bugzilla.mozilla.org/show_bug.cgi?id=520882). In this specific case, fetching the `value` of an `input` or `textarea` would fail with `NS_ERROR_XPC_BAD_OP_ON_WN_PROTO`, which cascaded upwards, eventually getting caught by the transaction queue. This would prevent any other enqueued actions, such as running `componentDidMount` or establishing refs.\n\nThis fix uses Firefox's deprecated `__lookupSetter__` and `__lookupGetter__` methods as a fallback, which are supported in all versions where the `getOwnPropertyDescriptor` will fail. It has been spot tested on Firefox 4, 17, 21, and 46: all managed to run all lifecycle hooks and establish refs, and were able to set and update the `value` of inputs.\n\nOne remaining question is what to do when the catch block is reached and the lookup methods don't exist. In this case, descriptor will be undefined and will break below. This actually seems like reasonable behavior to me, because if we get that far we're in a bizarre, unsupported browser environment, and nothing should work.\n",
  "closed_by": {
    "login": "jimfb",
    "id": 9595985,
    "node_id": "MDQ6VXNlcjk1OTU5ODU=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/9595985?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jimfb",
    "html_url": "https://github.com/jimfb",
    "followers_url": "https://api.github.com/users/jimfb/followers",
    "following_url": "https://api.github.com/users/jimfb/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimfb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jimfb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jimfb/subscriptions",
    "organizations_url": "https://api.github.com/users/jimfb/orgs",
    "repos_url": "https://api.github.com/users/jimfb/repos",
    "events_url": "https://api.github.com/users/jimfb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jimfb/received_events",
    "type": "User",
    "site_admin": false
  }
}
