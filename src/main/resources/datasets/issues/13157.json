{
  "url": "https://api.github.com/repos/facebook/react/issues/13157",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13157/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13157/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13157/events",
  "html_url": "https://github.com/facebook/react/pull/13157",
  "id": 338978850,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTk5Nzc3ODI3",
  "number": 13157,
  "title": "Run react-dom SSR import test in jsdom-less environment",
  "user": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-07-06T15:21:53Z",
  "updated_at": "2018-07-06T15:43:49Z",
  "closed_at": "2018-07-06T15:43:44Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/13157",
    "html_url": "https://github.com/facebook/react/pull/13157",
    "diff_url": "https://github.com/facebook/react/pull/13157.diff",
    "patch_url": "https://github.com/facebook/react/pull/13157.patch"
  },
  "body": "I added this test a while ago but I just noticed it is running in jsdom environment (so we have to delete some stuff from a global). However running it in a real jsdom-less environment would be a closer approximation to what it needs to verify.\r\n\r\nWe already have some tests that specify `@jest-environment node` in the header, including `ReactServerRendering-test`. So this is a better place for this test. I moved it there. I also added precautions in case somebody removes the header in the future.\r\n\r\nThat uncovered that we still run those \"Node environment\" tests with our custom shims for rAF and rIC. But we should only set those shims in jsdom environment. So I moved some of our Jest initialization code behind a `if (typeof window !== 'undefined')` condition.\r\n\r\nThis PR doesn't affect React itself. Only our test setup which is now closer to real conditions.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
