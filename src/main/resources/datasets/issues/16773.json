{
  "url": "https://api.github.com/repos/facebook/react/issues/16773",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/16773/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/16773/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/16773/events",
  "html_url": "https://github.com/facebook/react/issues/16773",
  "id": 493116296,
  "node_id": "MDU6SXNzdWU0OTMxMTYyOTY=",
  "number": 16773,
  "title": "[Concurrent Mode] App stops updating/rendering on inactive tab",
  "user": {
    "login": "brunolemos",
    "id": 619186,
    "node_id": "MDQ6VXNlcjYxOTE4Ng==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/619186?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brunolemos",
    "html_url": "https://github.com/brunolemos",
    "followers_url": "https://api.github.com/users/brunolemos/followers",
    "following_url": "https://api.github.com/users/brunolemos/following{/other_user}",
    "gists_url": "https://api.github.com/users/brunolemos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brunolemos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brunolemos/subscriptions",
    "organizations_url": "https://api.github.com/users/brunolemos/orgs",
    "repos_url": "https://api.github.com/users/brunolemos/repos",
    "events_url": "https://api.github.com/users/brunolemos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brunolemos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 40929151,
      "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
      "name": "Type: Bug",
      "color": "b60205",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2019-09-13T03:10:12Z",
  "updated_at": "2019-09-14T02:11:58Z",
  "closed_at": "2019-09-14T02:11:58Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\n1. When Concurrent Mode is enabled\r\n2. and the Chrome tab is inactive\r\n3. and a new render happens inside app\r\n4. the app won't render this update until I open the chrome tab.\r\n\r\nThis only happens on Concurrent Mode. I noticed this because I update the document title on a react Context, like this:\r\n<img width=\"140\" alt=\"Screen Shot 2019-09-12 at 23 58 05\" src=\"https://user-images.githubusercontent.com/619186/64834916-5e0c2b80-d5ba-11e9-8d1c-d3581c9c237e.png\">\r\n\r\nand on Concurrent Mode it was never updating when the tab was inactive. Only when I opened the tab. \r\n\r\nDisabling Concurrent Mode was enough for it to start working as expected.\r\n\r\nI believe this is related to the Chrome throttling behavior of inactive tabs. For example, Chrome doesn't resolve neither `requestIdleCallback` neither `requestAnimationFrame` when the tab is inactive. Made this non-react example just to show this Chrome behavior because I believe it's related: https://codesandbox.io/embed/dank-fire-0zjxv\r\n\r\nReproduction using `useEffect` and allow changing between legacy/sync/concurrent modes: https://codesandbox.io/embed/react-bug-inactive-tabs-tnosy\r\n\r\n### Incorrect behavior (sync or concurrent mode, it get's completely suspended)\r\n\r\n![reproduction-concurrent.gif](https://user-images.githubusercontent.com/619186/64887291-b08f2b80-d63e-11e9-8d17-2ef9c6427881.gif)\r\n\r\n**What is the expected behavior?**\r\n\r\nInactive tabs should have the same behavior with or without Concurrent Mode. They should keep updating/rendering things (ok if a little bit throttled), but NOT completely pause doing things until the tab becomes active.\r\n\r\n![correct-behavior.gif](https://user-images.githubusercontent.com/619186/64887568-4f1b8c80-d63f-11e9-90df-a990291eac75.gif)\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nReact 16.9\r\nChrome 76\r\nmacOS",
  "closed_by": {
    "login": "brunolemos",
    "id": 619186,
    "node_id": "MDQ6VXNlcjYxOTE4Ng==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/619186?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brunolemos",
    "html_url": "https://github.com/brunolemos",
    "followers_url": "https://api.github.com/users/brunolemos/followers",
    "following_url": "https://api.github.com/users/brunolemos/following{/other_user}",
    "gists_url": "https://api.github.com/users/brunolemos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brunolemos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brunolemos/subscriptions",
    "organizations_url": "https://api.github.com/users/brunolemos/orgs",
    "repos_url": "https://api.github.com/users/brunolemos/repos",
    "events_url": "https://api.github.com/users/brunolemos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brunolemos/received_events",
    "type": "User",
    "site_admin": false
  }
}
