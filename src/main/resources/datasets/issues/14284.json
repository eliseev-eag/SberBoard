{
  "url": "https://api.github.com/repos/facebook/react/issues/14284",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14284/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14284/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14284/events",
  "html_url": "https://github.com/facebook/react/issues/14284",
  "id": 382468347,
  "node_id": "MDU6SXNzdWUzODI0NjgzNDc=",
  "number": 14284,
  "title": "Input of password type causes memory leak",
  "user": {
    "login": "levinqdl",
    "id": 6294455,
    "node_id": "MDQ6VXNlcjYyOTQ0NTU=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/6294455?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/levinqdl",
    "html_url": "https://github.com/levinqdl",
    "followers_url": "https://api.github.com/users/levinqdl/followers",
    "following_url": "https://api.github.com/users/levinqdl/following{/other_user}",
    "gists_url": "https://api.github.com/users/levinqdl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/levinqdl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/levinqdl/subscriptions",
    "organizations_url": "https://api.github.com/users/levinqdl/orgs",
    "repos_url": "https://api.github.com/users/levinqdl/repos",
    "events_url": "https://api.github.com/users/levinqdl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/levinqdl/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-11-20T02:07:03Z",
  "updated_at": "2019-03-14T16:12:15Z",
  "closed_at": "2018-11-20T13:59:41Z",
  "author_association": "NONE",
  "body": "\r\n<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nbug\r\n\r\n**What is the current behavior?**\r\n\r\npassword input causes memory leak\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nI have created a code sandbox for this issue: https://codesandbox.io/s/kwjm18plno\r\n\r\nIn the app, each click on the button will unmount the previous input, and mount a new input, with a different id.\r\n\r\nopen the code sandbox, and open chrome DevTools, in Memory tab, perform an Allocation instrumentation on timeline:\r\n\r\n- choose Allocation instrumentation on timeline\r\n- start recording\r\n- force GC by click the trash icon\r\n- click the button multiple times, add the counter to 10\r\n- force GC again, so that all detached DOM nodes to be collected\r\n- stop recording & wait for the snapshot loaded\r\n- filter by 'detached', to only show detached DOM nodes\r\n- then we can see the \"Detached HTMLInputElement\" in the Constructor panel, and their ids are what we generated by clicking the button\r\n\r\n<img width=\"722\" alt=\"screen shot 2018-11-20 at 10 07 51 am\" src=\"https://user-images.githubusercontent.com/6294455/48746890-52a6e700-ecac-11e8-816d-b59c5326fe0c.png\">\r\n\r\nI have also checked #12420 cases: it does not leak without React, and all nodes are still there even after lots of re-rendering with a force GC, so I believe this is a memory leak for sure.\r\n\r\n**What is the expected behavior?**\r\n\r\nUnmounted inputs of password type can be GCed after next re-rendering. \r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nOS: macOS High Sierra 10.13.6\r\nChrome: 70.0.3538.102\r\nReact: 16.5.2\r\nReactDOM: 16.5.2\r\nI have tested this in React 16.0.0 & ReactDOM 16.0.0, and it had the same problem.\r\n\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
