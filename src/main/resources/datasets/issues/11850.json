{
  "url": "https://api.github.com/repos/facebook/react/issues/11850",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11850/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11850/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11850/events",
  "html_url": "https://github.com/facebook/react/issues/11850",
  "id": 281989355,
  "node_id": "MDU6SXNzdWUyODE5ODkzNTU=",
  "number": 11850,
  "title": "React-form-with-constraints: Unable to find node on an unmounted component",
  "user": {
    "login": "AdoniRakesh5420",
    "id": 28002009,
    "node_id": "MDQ6VXNlcjI4MDAyMDA5",
    "avatar_url": "https://avatars2.githubusercontent.com/u/28002009?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AdoniRakesh5420",
    "html_url": "https://github.com/AdoniRakesh5420",
    "followers_url": "https://api.github.com/users/AdoniRakesh5420/followers",
    "following_url": "https://api.github.com/users/AdoniRakesh5420/following{/other_user}",
    "gists_url": "https://api.github.com/users/AdoniRakesh5420/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AdoniRakesh5420/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AdoniRakesh5420/subscriptions",
    "organizations_url": "https://api.github.com/users/AdoniRakesh5420/orgs",
    "repos_url": "https://api.github.com/users/AdoniRakesh5420/repos",
    "events_url": "https://api.github.com/users/AdoniRakesh5420/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AdoniRakesh5420/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-12-14T05:52:39Z",
  "updated_at": "2017-12-14T10:30:19Z",
  "closed_at": "2017-12-14T10:30:19Z",
  "author_association": "NONE",
  "body": "I'm using react-form-with-constraints for my form validation (version 0.2.3) and my createCompany file extends this. On form submit click i'm calling super.handleSubmit() for validation but it throws below error:\r\n\r\n    Uncaught Error: Unable to find node on an unmounted component.\r\n    at invariant (commons.chunk.js.f2d6763b.js:214)\r\n    at Object.findDOMNode (bundle.f2d6763b.js:96653)\r\n    at CreateCompanyForm.FormWithConstraints.showFormErrors\r\n\r\n  The package's built in FormWithConstaints file looks like\r\n\r\n    handleSubmit(e: React.FormEvent<HTMLFormElement>) {\r\n        this.showFormErrors();\r\n      }\r\n    \r\n      private showFormErrors() {\r\n        const form = ReactDOM.findDOMNode(this);\r\n        const inputs = form.querySelectorAll('[name]');\r\n        inputs.forEach((input: any) => this.showFieldError(input));\r\n      }\r\n\r\nI can't switch to higher version as the higher version breaks most of my code. Could someone help me.\r\n\r\nMy package.json looks like\r\n\r\n        \"react\": \"^15.6.1\",\r\n        \"react-dom\": \"^15.6.1\",\r\n        \"react-form-with-constraints\": \"^0.2.2\"\r\n\r\n\r\nMy CompanyForm file looks like:\r\n\r\n    import React from 'react';\r\n    import TextInput from '../../../../components/common/input/TextInput';\r\n    import Button from '../../../../components/common/button/PrimaryButton';\r\n    import { FormWithConstraints } from 'react-form-with-constraints';\r\n    import PropTypes from 'prop-types';\r\n\r\n    class CreateCompanyForm extends FormWithConstraints {\r\n        constructor(props) {\r\n            super(props);\r\n            this.handleChange = this.handleChange.bind(this);\r\n            this.handleSubmit = this.handleSubmit.bind(this);\r\n            this.getInitialState = this.getInitialState.bind(this);\r\n            this.state = this.getInitialState();\r\n        }\r\n\r\n        getInitialState(){\r\n            return({\r\n                name: '',\r\n                address:'',\r\n            });\r\n        }\r\n\r\n        handleChange(event) {\r\n            console.log(\"handle change\");\r\n            const target = event.currentTarget;\r\n\r\n            this.setState({\r\n                [target.name]: target.value\r\n            });\r\n\r\n            super.handleChange(event);\r\n        }\r\n\r\n        handleSubmit(event) {\r\n            event.preventDefault();\r\n\r\n            super.handleSubmit(event);\r\n\r\n            if (!this.isValid()) {\r\n                //dont proceed\r\n            } else {\r\n                this.props.onSubmit();\r\n            }\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <div>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div>Create New Company</div>\r\n                        <div style={{marginTop: 10}} className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <TextInput\r\n                                    readOnly={false}\r\n                                    required={true}\r\n                                    label=\"Name of Company\"\r\n                                    value={this.state.name}\r\n                                    onChange={this.handleChange}\r\n                                    name=\"name\"/>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <TextInput\r\n                                    readOnly={false}\r\n                                    required={true}\r\n                                    label=\"Registered Address\"\r\n                                    value={this.state.address}\r\n                                    onChange={this.handleChange}\r\n                                    name=\"address\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Button\r\n                                label={\"Create Company\"}\r\n                                onClick={this.handleSubmit}\r\n                            />\r\n                        </div>\r\n\r\n                    </form>\r\n\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    CreateCompanyForm.propTypes ={\r\n        onSubmit: PropTypes.func.isRequired\r\n\r\n    };\r\n\r\n    export default CreateCompanyForm;\r\n\r\n\r\nThe parent component looks like:\r\n\r\n    class CreateCompanyHome extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                reload: true,\r\n                loading:false,\r\n                error:{},\r\n                success:{},\r\n                isSuperUser: false,\r\n\r\n            };\r\n            this.onSubmit = this.onSubmit.bind(this);\r\n        }\r\n\r\n        componentDidMount(){\r\n            this.setState({isSuperUser:Auth.isSuperUser}); //check if the user is SU\r\n        }\r\n\r\n        onSubmit(createCompanyParams={}){\r\n            //call api\r\n        }\r\n\r\n        render() {\r\n                return (\r\n                    <div>\r\n                        {this.state.loading?<Loader />:null}\r\n                        {this.state.reload?\r\n                            <CreateCompanyForm\r\n                                opacity={this.state.loading}\r\n                                onSubmit={this.onSubmit}/>:null}\r\n                    </div>);\r\n            }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            userRoleSetMap: state.authentication.userRoleSet,\r\n            cwEntityMap: state.authentication.cwEntityMap,\r\n        };\r\n    }\r\n\r\n    export default connect(mapStateToProps)(CreateCompanyHome);\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
