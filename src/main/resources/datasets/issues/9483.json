{
  "url": "https://api.github.com/repos/facebook/react/issues/9483",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/9483/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/9483/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/9483/events",
  "html_url": "https://github.com/facebook/react/issues/9483",
  "id": 223460879,
  "node_id": "MDU6SXNzdWUyMjM0NjA4Nzk=",
  "number": 9483,
  "title": "Feature Request: dangerouslySetInnerHTML as a return value",
  "user": {
    "login": "iamdustan",
    "id": 227879,
    "node_id": "MDQ6VXNlcjIyNzg3OQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/227879?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamdustan",
    "html_url": "https://github.com/iamdustan",
    "followers_url": "https://api.github.com/users/iamdustan/followers",
    "following_url": "https://api.github.com/users/iamdustan/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamdustan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamdustan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamdustan/subscriptions",
    "organizations_url": "https://api.github.com/users/iamdustan/orgs",
    "repos_url": "https://api.github.com/users/iamdustan/repos",
    "events_url": "https://api.github.com/users/iamdustan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamdustan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 121709921,
      "node_id": "MDU6TGFiZWwxMjE3MDk5MjE=",
      "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Feature%20Request",
      "name": "Type: Feature Request",
      "color": "c7def8",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-04-21T18:27:56Z",
  "updated_at": "2018-12-19T10:27:38Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "body": "I haven’t fully thought through this yet, so hoping for some feedback on whether it is viable or breaks too many assumptions.\r\n\r\nThe goal is to create an escape hatch that would support rendering to conditional comments, alternative method for web components, and other unknown and probably bad ideas.\r\n\r\nSomething along the lines of:\r\n\r\n```jsx\r\nconst DangerousComment = ({children}) => ({\r\n  dangerouslySetInnerHTML: {__html: `<!-- ${children} -->` }\r\n});\r\n\r\nReactDOMServer.renderToString(\r\n  <head>\r\n    <DangerousComment>\r\n      {\"[if lte IE 9]><script src='/public/media.match.js'></script><![endif]\"}\r\n    </DangerousComment>\r\n  </head>\r\n); // <head><!--[if lte IE 9]><script src='/public/media.match.js'></script><![endif]--></head>\r\n```\r\n\r\n```jsx\r\nconst WebComponent = ({children}) => ({\r\n  dangerouslySetInnerHTML: {__html: `<!-- ${children} -->` }\r\n});\r\nReactDOM.render(() => (\r\n  <WebComponent>`\r\n    <app-toolbar arbitary-prop=\"sure-y-not\">\r\n      <div main-title>Web Components!</div>\r\n    </app-toolbar>\r\n  `</WebComponent>\r\n), document.body.firstChild);\r\n```\r\n\r\nThe first example is the one I’m more interested at this point in time. The benefit here is this could work on both the DOM and server renderer without userland hacks like https://nemisj.com/conditional-ie-comments-in-react-js/ or `componentDidMount` ref replacement (client only, I believe?).\r\n\r\nA couple initial problems I see with this are (may or may not be solvable/avoidable with slight tweaks):\r\n\r\n* returning an arbitrary object `render` which isn’t supported\r\n* how will unmounting this work?\r\n\r\nAlternative proposal:\r\n\r\nIntroduce a new DOM-renderer primitive `<comment />` or `<dangerousComment />` (to follow a similar approach to `dangerouslySetInnerHTML` clearly indicating the caveats that come with rendering comments). This alternative solution only solves the conditional comment issue above.",
  "closed_by": null
}
