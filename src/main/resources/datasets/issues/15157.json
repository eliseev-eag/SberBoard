{
  "url": "https://api.github.com/repos/facebook/react/issues/15157",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/15157/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/15157/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/15157/events",
  "html_url": "https://github.com/facebook/react/pull/15157",
  "id": 422994974,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjYyNjY0OTE1",
  "number": 15157,
  "title": "Clean up unmounted fiber references for GC",
  "user": {
    "login": "paulshen",
    "id": 2266187,
    "node_id": "MDQ6VXNlcjIyNjYxODc=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/2266187?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulshen",
    "html_url": "https://github.com/paulshen",
    "followers_url": "https://api.github.com/users/paulshen/followers",
    "following_url": "https://api.github.com/users/paulshen/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulshen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulshen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulshen/subscriptions",
    "organizations_url": "https://api.github.com/users/paulshen/orgs",
    "repos_url": "https://api.github.com/users/paulshen/repos",
    "events_url": "https://api.github.com/users/paulshen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulshen/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 47,
  "created_at": "2019-03-19T23:13:11Z",
  "updated_at": "2019-09-05T22:53:28Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/15157",
    "html_url": "https://github.com/facebook/react/pull/15157",
    "diff_url": "https://github.com/facebook/react/pull/15157.diff",
    "patch_url": "https://github.com/facebook/react/pull/15157.patch"
  },
  "body": "This change cleans up Fiber pointers to help with garbage collection.\r\n\r\nThis clears Fiber's `stateNode` pointer when committing unmounts. This removes a potential pointer back to host nodes (e.g. DOM) and component instances.\r\n\r\nThis cleans `nextEffect` pointer when we're done processing the effect chain (either when flushing passive effects or after committing layout effects). Without clearing this, it's possible to retain effect pointers to unmounted nodes.\r\n\r\nA continuation of #14218. Detaching `nextEffect` needs to happen after [committing host effects](https://github.com/facebook/react/blob/daeda44d8f5abdb7354742bb69a967302d34d7f9/packages/react-reconciler/src/ReactFiberScheduler.js#L729) because the effect chain is needed for lifecycles and ref callbacks.",
  "closed_by": null
}
