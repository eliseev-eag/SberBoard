{
  "url": "https://api.github.com/repos/facebook/react/issues/11876",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/11876/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/11876/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/11876/events",
  "html_url": "https://github.com/facebook/react/issues/11876",
  "id": 282845530,
  "node_id": "MDU6SXNzdWUyODI4NDU1MzA=",
  "number": 11876,
  "title": "Problem with `window.matchMedia` API and `window.print`",
  "user": {
    "login": "AlexanderLukin",
    "id": 9427757,
    "node_id": "MDQ6VXNlcjk0Mjc3NTc=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/9427757?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexanderLukin",
    "html_url": "https://github.com/AlexanderLukin",
    "followers_url": "https://api.github.com/users/AlexanderLukin/followers",
    "following_url": "https://api.github.com/users/AlexanderLukin/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexanderLukin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexanderLukin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexanderLukin/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexanderLukin/orgs",
    "repos_url": "https://api.github.com/users/AlexanderLukin/repos",
    "events_url": "https://api.github.com/users/AlexanderLukin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexanderLukin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2017-12-18T11:22:58Z",
  "updated_at": "2019-06-25T15:33:27Z",
  "closed_at": "2017-12-18T13:10:19Z",
  "author_association": "NONE",
  "body": "I encountered a problem when I try to conditionally render content for \"screen\" and \"print\" media types using `matchMedia` API\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\r\n\r\nIn the latest Google Chrome for Windows 10, the content intended for \"print\" media type is displayed incorrectly in printout preview.\r\n\r\nI created a minimal demo that shows the issue\r\nhttps://codesandbox.io/s/q96rvrx2z9\r\n\r\nIn the first case, please, open the page and press \"Ctrl + P\" keys to open printout preview. In the console, you can see that `updateComponent()` function is called two times (one for printout preview and the second for the main page that overlapped by the printout preview I guess). In this case, everything is working correctly: in the printout, we can see \"Print\" word, and on the main screen \"Screen\" word is displayed even after closing the preview.\r\n\r\nIn the second case, please, try to open printout preview by clicking the \"Screen\" label. You can see that `print()` and `updateComponetn()` functions are called, but they don't force component rerendering as they should. Hence, we see \"Screen\" on the printout preview, but the \"Print\" label should be displayed.\r\n\r\nPlease, take a look when you have time.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
