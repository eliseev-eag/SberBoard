{
  "url": "https://api.github.com/repos/facebook/react/issues/3601",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/3601/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/3601/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/3601/events",
  "html_url": "https://github.com/facebook/react/issues/3601",
  "id": 66738961,
  "node_id": "MDU6SXNzdWU2NjczODk2MQ==",
  "number": 3601,
  "title": "Animation lifecycle order",
  "user": {
    "login": "ccorcos",
    "id": 1794527,
    "node_id": "MDQ6VXNlcjE3OTQ1Mjc=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/1794527?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ccorcos",
    "html_url": "https://github.com/ccorcos",
    "followers_url": "https://api.github.com/users/ccorcos/followers",
    "following_url": "https://api.github.com/users/ccorcos/following{/other_user}",
    "gists_url": "https://api.github.com/users/ccorcos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ccorcos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ccorcos/subscriptions",
    "organizations_url": "https://api.github.com/users/ccorcos/orgs",
    "repos_url": "https://api.github.com/users/ccorcos/repos",
    "events_url": "https://api.github.com/users/ccorcos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ccorcos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2015-04-07T00:29:00Z",
  "updated_at": "2015-10-16T18:19:23Z",
  "closed_at": "2015-10-16T18:19:23Z",
  "author_association": "NONE",
  "body": "I'm a bit confused:\n\nI'm using the following to render two different pages:\n\n``` coffee\nTransitionGroup = React.createFactory(React.addons.TransitionGroup)\nrenderHome = -> React.render(TransitionGroup({}, Home({key:'home'})), document.body)\nrenderSearch = -> React.render(TransitionGroup({}, Search({key:'search'})), document.body)\n```\n\nI have `console.log`s on every lifecycle and animation callback and this is what I get:\n\n``` js\n// renderHome()\nHome componentWillMount\nHome componentDidMount\nHome componentWillAppear\nHome componentDidAppear\n// renderSearch()\nSearch componentWillMount\nSearch componentDidMount\nSearch componentWillEnter\nSearch componentDidEnter\nHome componentWillLeave\nHome componentDidLeave\nHome componentWillUnmount\n```\n\nI tried a very simple transition of fading out an element in Home and fading in an element in Search. What's weird is that when going from Home to Search, as you can see from the logs, the Search component is rendered on top of the Home component before the Home.componentWillLeave has been called.\n\nI would expect the oder to be like this:\n\n``` js\n// renderHome()\nHome componentWillMount\nHome componentDidMount\nHome componentWillAppear\nHome componentDidAppear\n// renderSearch()\nHome componentWillLeave\nHome componentDidLeave\nHome componentWillUnmount\nSearch componentWillMount\nSearch componentDidMount\nSearch componentWillEnter\nSearch componentDidEnter\n```\n\nThis way, animations seems to make more sense to me. The following code would read, \"When the home component leaves, fade out the header, when the search component enters, fade in the header\".\n\n``` coffee\n# Home\ncomponentWillLeave: (done) ->\n    console.log \"Home componentWillLeave\"\n    $('.header').velocity({opacity: [0, 1]}, {duration: 200, complete: done})\n\n# Search\ncomponentDidEnter: ->\n    console.log \"Search componentDidEnter\"\n    $('.header').velocity({opacity: [1, 0]}, {duration: 200})\n```\n",
  "closed_by": {
    "login": "ccorcos",
    "id": 1794527,
    "node_id": "MDQ6VXNlcjE3OTQ1Mjc=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/1794527?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ccorcos",
    "html_url": "https://github.com/ccorcos",
    "followers_url": "https://api.github.com/users/ccorcos/followers",
    "following_url": "https://api.github.com/users/ccorcos/following{/other_user}",
    "gists_url": "https://api.github.com/users/ccorcos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ccorcos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ccorcos/subscriptions",
    "organizations_url": "https://api.github.com/users/ccorcos/orgs",
    "repos_url": "https://api.github.com/users/ccorcos/repos",
    "events_url": "https://api.github.com/users/ccorcos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ccorcos/received_events",
    "type": "User",
    "site_admin": false
  }
}
