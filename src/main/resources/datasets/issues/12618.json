{
  "url": "https://api.github.com/repos/facebook/react/issues/12618",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12618/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12618/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12618/events",
  "html_url": "https://github.com/facebook/react/pull/12618",
  "id": 314672948,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTgxODc3MzA3",
  "number": 12618,
  "title": "Update GCC",
  "user": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2018-04-16T14:22:05Z",
  "updated_at": "2018-04-16T14:42:12Z",
  "closed_at": "2018-04-16T14:42:11Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/12618",
    "html_url": "https://github.com/facebook/react/pull/12618",
    "diff_url": "https://github.com/facebook/react/pull/12618.diff",
    "patch_url": "https://github.com/facebook/react/pull/12618.patch"
  },
  "body": "No significant changes as far as I can see. I had to add `rewritePolyfills: false` because of https://github.com/google/closure-compiler/issues/2448. That’s what we want anyway.\r\n\r\nThis “unforks” GCC because I point it at the official package now.\r\n\r\n<details>\r\n\r\n```diff\r\ndiff --git a/dist/react-art.production.min.js b/dist/react-art.production.min.js\r\nindex a05da7b..16fcf28 100644\r\n--- a/dist/react-art.production.min.js\r\n+++ b/dist/react-art.production.min.js\r\n@@ -1159,15 +1159,17 @@\r\n                 currentFirstChild,\r\n                 newChild,\r\n                 expirationTime\r\n-              )))\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild))\r\n             : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n               (currentFirstChild = createFiberFromText(\r\n                 newChild,\r\n                 returnFiber.mode,\r\n                 expirationTime\r\n-              ))),\r\n-          (currentFirstChild[\"return\"] = returnFiber),\r\n-          (returnFiber = currentFirstChild),\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild)),\r\n           placeSingleChild(returnFiber)\r\n         );\r\n       if (isArray$1(newChild))\r\n@@ -5520,7 +5522,7 @@\r\n       }\r\n       this.isColor = !0;\r\n     },\r\n-    listMatch = /([-.\\d]+\\%?)\\s*,\\s*([-.\\d]+\\%?)\\s*,\\s*([-.\\d]+\\%?)\\s*,?\\s*([-.\\d]*\\%?)/,\r\n+    listMatch = /([-.\\d]+%?)\\s*,\\s*([-.\\d]+%?)\\s*,\\s*([-.\\d]+%?)\\s*,?\\s*([-.\\d]*%?)/,\r\n     hexMatch = /^#?([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{0,2})$/i;\r\n   Color.parseRGB = function(color) {\r\n     return map(color.match(listMatch).slice(1), function(bit, i) {\r\n@@ -5964,7 +5966,14 @@\r\n             (this._layer = layer = canvas.getContext(\"2d\"));\r\n         isDirty &&\r\n           (this.renderLayerTo(layer, xx, yx, xy, yy, x, y),\r\n-          (this._layerCache = { xx: xx, yx: yx, xy: xy, yy: yy, x: x, y: y }));\r\n+          (this._layerCache = {\r\n+            xx: xx,\r\n+            yx: yx,\r\n+            xy: xy,\r\n+            yy: yy,\r\n+            x: x,\r\n+            y: y\r\n+          }));\r\n         context.globalAlpha = opacity;\r\n         context.setTransform(1, 0, 0, 1, 0, 0);\r\n         context.drawImage(canvas, 0, 0, w, h, 0, 0, w, h);\r\ndiff --git a/dist/react-dom-server.browser.production.min.js b/dist/react-dom-server.browser.production.min.js\r\nindex ed20d16..ca3efa5 100644\r\n--- a/dist/react-dom-server.browser.production.min.js\r\n+++ b/dist/react-dom-server.browser.production.min.js\r\n@@ -436,7 +436,7 @@\r\n       null\r\n     );\r\n   });\r\n-  var CAMELIZE = /[\\-\\:]([a-z])/g,\r\n+  var CAMELIZE = /[\\-:]([a-z])/g,\r\n     capitalize = function(token) {\r\n       return token[1].toUpperCase();\r\n     };\r\ndiff --git a/dist/react-dom.production.min.js b/dist/react-dom.production.min.js\r\nindex 70669da..301a61d 100644\r\n--- a/dist/react-dom.production.min.js\r\n+++ b/dist/react-dom.production.min.js\r\n@@ -2216,15 +2216,17 @@\r\n                 currentFirstChild,\r\n                 newChild,\r\n                 expirationTime\r\n-              )))\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild))\r\n             : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n               (currentFirstChild = createFiberFromText(\r\n                 newChild,\r\n                 returnFiber.mode,\r\n                 expirationTime\r\n-              ))),\r\n-          (currentFirstChild[\"return\"] = returnFiber),\r\n-          (returnFiber = currentFirstChild),\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild)),\r\n           placeSingleChild(returnFiber)\r\n         );\r\n       if (isArray$1(newChild))\r\n@@ -3541,7 +3543,7 @@\r\n       null\r\n     );\r\n   });\r\n-  var CAMELIZE = /[\\-\\:]([a-z])/g,\r\n+  var CAMELIZE = /[\\-:]([a-z])/g,\r\n     capitalize = function(token) {\r\n       return token[1].toUpperCase();\r\n     };\r\n@@ -3627,12 +3629,10 @@\r\n               ? (getTargetInstFunc = getTargetInstForInputOrChangeEvent)\r\n               : ((getTargetInstFunc = getTargetInstForInputEventPolyfill),\r\n                 (handleEventFunc = handleEventsForInputEventPolyfill))\r\n-            : ((nodeName = targetNode.nodeName),\r\n-              !nodeName ||\r\n-                \"input\" !== nodeName.toLowerCase() ||\r\n-                (\"checkbox\" !== targetNode.type &&\r\n-                  \"radio\" !== targetNode.type) ||\r\n-                (getTargetInstFunc = getTargetInstForClickEvent));\r\n+            : (nodeName = targetNode.nodeName) &&\r\n+              \"input\" === nodeName.toLowerCase() &&\r\n+              (\"checkbox\" === targetNode.type || \"radio\" === targetNode.type) &&\r\n+              (getTargetInstFunc = getTargetInstForClickEvent);\r\n         if (\r\n           getTargetInstFunc &&\r\n           (getTargetInstFunc = getTargetInstFunc(topLevelType, targetInst))\r\ndiff --git a/dist/react-test-renderer.production.min.js b/dist/react-test-renderer.production.min.js\r\nindex c4d3d29..b298f79 100644\r\n--- a/dist/react-test-renderer.production.min.js\r\n+++ b/dist/react-test-renderer.production.min.js\r\n@@ -1159,15 +1159,17 @@\r\n                 currentFirstChild,\r\n                 newChild,\r\n                 expirationTime\r\n-              )))\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild))\r\n             : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n               (currentFirstChild = createFiberFromText(\r\n                 newChild,\r\n                 returnFiber.mode,\r\n                 expirationTime\r\n-              ))),\r\n-          (currentFirstChild[\"return\"] = returnFiber),\r\n-          (returnFiber = currentFirstChild),\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild)),\r\n           placeSingleChild(returnFiber)\r\n         );\r\n       if (isArray$1(newChild))\r\n@@ -1259,11 +1261,7 @@\r\n         inst.children &&\r\n           inst.children.length &&\r\n           (_inst$props = inst.children.map(toJSON));\r\n-        inst = {\r\n-          type: inst.type,\r\n-          props: target,\r\n-          children: _inst$props\r\n-        };\r\n+        inst = { type: inst.type, props: target, children: _inst$props };\r\n         Object.defineProperty(inst, \"$$typeof\", {\r\n           value: Symbol[\"for\"](\"react.test.json\")\r\n         });\r\ndiff --git a/facebook-www/ReactART-prod.js b/facebook-www/ReactART-prod.js\r\nindex 8fd377d..e6f63d8 100644\r\n--- a/facebook-www/ReactART-prod.js\r\n+++ b/facebook-www/ReactART-prod.js\r\n@@ -1630,15 +1630,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\n@@ -4948,7 +4950,7 @@ var slice = Array.prototype.slice,\r\n       }\r\n     }\r\n   }),\r\n-  reactArt = (Object.freeze || Object)({\r\n+  ReactART = (Object.freeze || Object)({\r\n     ClippingRectangle: TYPES.CLIPPING_RECTANGLE,\r\n     Group: TYPES.GROUP,\r\n     Shape: TYPES.SHAPE,\r\n@@ -4960,4 +4962,4 @@ var slice = Array.prototype.slice,\r\n     Text: Text,\r\n     Transform: Transform\r\n   });\r\n-module.exports = reactArt;\r\n+module.exports = ReactART;\r\ndiff --git a/facebook-www/ReactDOM-prod.js b/facebook-www/ReactDOM-prod.js\r\nindex 9308d8e..5f82272 100644\r\n--- a/facebook-www/ReactDOM-prod.js\r\n+++ b/facebook-www/ReactDOM-prod.js\r\n@@ -1041,6 +1041,11 @@ var BeforeInputEventPlugin = {\r\n     }\r\n   },\r\n   fiberHostComponent = null,\r\n+  ReactControlledComponentInjection = {\r\n+    injectFiberControlledHostComponent: function(hostComponentImpl) {\r\n+      fiberHostComponent = hostComponentImpl;\r\n+    }\r\n+  },\r\n   restoreTarget = null,\r\n   restoreQueue = null;\r\n function restoreStateOfTarget(target) {\r\n@@ -1057,11 +1062,6 @@ function restoreStateOfTarget(target) {\r\n     );\r\n   }\r\n }\r\n-var injection$2 = {\r\n-  injectFiberControlledHostComponent: function(hostComponentImpl) {\r\n-    fiberHostComponent = hostComponentImpl;\r\n-  }\r\n-};\r\n function enqueueStateRestore(target) {\r\n   restoreTarget\r\n     ? restoreQueue ? restoreQueue.push(target) : (restoreQueue = [target])\r\n@@ -1082,7 +1082,7 @@ function restoreStateIfNeeded() {\r\n   }\r\n }\r\n var ReactControlledComponent = (Object.freeze || Object)({\r\n-  injection: injection$2,\r\n+  injection: ReactControlledComponentInjection,\r\n   enqueueStateRestore: enqueueStateRestore,\r\n   needsStateRestore: needsStateRestore,\r\n   restoreStateIfNeeded: restoreStateIfNeeded\r\n@@ -1397,7 +1397,7 @@ var properties = {};\r\n     null\r\n   );\r\n });\r\n-var CAMELIZE = /[\\-\\:]([a-z])/g;\r\n+var CAMELIZE = /[\\-:]([a-z])/g;\r\n function capitalize(token) {\r\n   return token[1].toUpperCase();\r\n }\r\n@@ -1643,11 +1643,10 @@ var ChangeEventPlugin = {\r\n             ? (getTargetInstFunc = getTargetInstForInputOrChangeEvent)\r\n             : ((getTargetInstFunc = getTargetInstForInputEventPolyfill),\r\n               (handleEventFunc = handleEventsForInputEventPolyfill))\r\n-          : ((nodeName = targetNode.nodeName),\r\n-            !nodeName ||\r\n-              \"input\" !== nodeName.toLowerCase() ||\r\n-              (\"checkbox\" !== targetNode.type && \"radio\" !== targetNode.type) ||\r\n-              (getTargetInstFunc = getTargetInstForClickEvent));\r\n+          : (nodeName = targetNode.nodeName) &&\r\n+            \"input\" === nodeName.toLowerCase() &&\r\n+            (\"checkbox\" === targetNode.type || \"radio\" === targetNode.type) &&\r\n+            (getTargetInstFunc = getTargetInstForClickEvent);\r\n       if (\r\n         getTargetInstFunc &&\r\n         (getTargetInstFunc = getTargetInstFunc(topLevelType, targetInst))\r\n@@ -2617,7 +2616,6 @@ function beginMark(markName) {\r\n function endMark(label, markName, warning) {\r\n   markName = \"\\u269b \" + markName;\r\n   label =\r\n-    \"\" +\r\n     (warning ? \"\\u26d4 \" : \"\\u269b \") +\r\n     label +\r\n     (warning ? \" Warning: \" + warning : \"\");\r\n@@ -3977,15 +3975,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\n@@ -7298,8 +7298,7 @@ function isCustomComponent(tagName, props) {\r\n       return !0;\r\n   }\r\n }\r\n-var HTML_NAMESPACE = Namespaces.html,\r\n-  getStack = emptyFunction.thatReturns(\"\");\r\n+var getStack = emptyFunction.thatReturns(\"\");\r\n function ensureListeningTo(rootContainerElement, registrationName) {\r\n   listenTo(\r\n     registrationName,\r\n@@ -7313,9 +7312,9 @@ function createElement$1(type, props, rootContainerElement, parentNamespace) {\r\n     9 === rootContainerElement.nodeType\r\n       ? rootContainerElement\r\n       : rootContainerElement.ownerDocument;\r\n-  parentNamespace === HTML_NAMESPACE &&\r\n+  parentNamespace === Namespaces.html &&\r\n     (parentNamespace = getIntrinsicNamespace(type));\r\n-  parentNamespace === HTML_NAMESPACE\r\n+  parentNamespace === Namespaces.html\r\n     ? \"script\" === type\r\n       ? ((type = rootContainerElement.createElement(\"div\")),\r\n         (type.innerHTML = \"\\x3cscript\\x3e\\x3c/script\\x3e\"),\r\n@@ -7761,7 +7760,9 @@ var ReactDOMFiberComponent = (Object.freeze || Object)({\r\n     }\r\n   }),\r\n   didWarnAboutUnstableCreatePortal = !1;\r\n-injection$2.injectFiberControlledHostComponent(ReactDOMFiberComponent);\r\n+ReactControlledComponentInjection.injectFiberControlledHostComponent(\r\n+  ReactDOMFiberComponent\r\n+);\r\n var eventsEnabled = null,\r\n   selectionInformation = null;\r\n function ReactBatch(root) {\r\ndiff --git a/facebook-www/ReactDOMServer-prod.js b/facebook-www/ReactDOMServer-prod.js\r\nindex eb37a69..c0b342e 100644\r\n--- a/facebook-www/ReactDOMServer-prod.js\r\n+++ b/facebook-www/ReactDOMServer-prod.js\r\n@@ -200,7 +200,7 @@ var properties = {};\r\n     null\r\n   );\r\n });\r\n-var CAMELIZE = /[\\-\\:]([a-z])/g;\r\n+var CAMELIZE = /[\\-:]([a-z])/g;\r\n function capitalize(token) {\r\n   return token[1].toUpperCase();\r\n }\r\ndiff --git a/facebook-www/ReactDOMUnstableNativeDependencies-prod.js b/facebook-www/ReactDOMUnstableNativeDependencies-prod.js\r\nindex 0fa0914..41097bc 100644\r\n--- a/facebook-www/ReactDOMUnstableNativeDependencies-prod.js\r\n+++ b/facebook-www/ReactDOMUnstableNativeDependencies-prod.js\r\n@@ -35,7 +35,14 @@ function reactProdInvariant(code) {\r\n   : void 0;\r\n var getFiberCurrentPropsFromNode = null,\r\n   getInstanceFromNode = null,\r\n-  getNodeFromInstance = null;\r\n+  getNodeFromInstance = null,\r\n+  injection = {\r\n+    injectComponentTree: function(Injected) {\r\n+      getFiberCurrentPropsFromNode = Injected.getFiberCurrentPropsFromNode;\r\n+      getInstanceFromNode = Injected.getInstanceFromNode;\r\n+      getNodeFromInstance = Injected.getNodeFromInstance;\r\n+    }\r\n+  };\r\n function isEndish(topLevelType) {\r\n   return (\r\n     \"topMouseUp\" === topLevelType ||\r\n@@ -732,18 +739,13 @@ var eventTypes = {\r\n       }\r\n     }\r\n   };\r\n-function injectComponentTree(Injected) {\r\n-  getFiberCurrentPropsFromNode = Injected.getFiberCurrentPropsFromNode;\r\n-  getInstanceFromNode = Injected.getInstanceFromNode;\r\n-  getNodeFromInstance = Injected.getNodeFromInstance;\r\n-}\r\n-injectComponentTree(\r\n+(0, injection.injectComponentTree)(\r\n   ReactDOM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\r\n     .ReactDOMComponentTree\r\n );\r\n-var unstableNativeDependencies = (Object.freeze || Object)({\r\n-  injectComponentTree: injectComponentTree,\r\n+var ReactDOMUnstableNativeDependencies = (Object.freeze || Object)({\r\n+  injectComponentTree: injection.injectComponentTree,\r\n   ResponderEventPlugin: ResponderEventPlugin,\r\n   ResponderTouchHistoryStore: ResponderTouchHistoryStore\r\n });\r\n-module.exports = unstableNativeDependencies;\r\n+module.exports = ReactDOMUnstableNativeDependencies;\r\ndiff --git a/node_modules/react-art/cjs/react-art.production.min.js b/node_modules/react-art/cjs/react-art.production.min.js\r\nindex 742ae9f..816efd3 100644\r\n--- a/node_modules/react-art/cjs/react-art.production.min.js\r\n+++ b/node_modules/react-art/cjs/react-art.production.min.js\r\n@@ -1550,15 +1550,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\n@@ -4834,7 +4836,7 @@ var slice = Array.prototype.slice,\r\n       }\r\n     }\r\n   }),\r\n-  reactArt = Object.freeze({\r\n+  ReactART = Object.freeze({\r\n     ClippingRectangle: TYPES.CLIPPING_RECTANGLE,\r\n     Group: TYPES.GROUP,\r\n     Shape: TYPES.SHAPE,\r\n@@ -4846,4 +4848,4 @@ var slice = Array.prototype.slice,\r\n     Text: Text,\r\n     Transform: Transform\r\n   });\r\n-module.exports = reactArt;\r\n+module.exports = ReactART;\r\ndiff --git a/node_modules/react-art/umd/react-art.production.min.js b/node_modules/react-art/umd/react-art.production.min.js\r\nindex a05da7b..16fcf28 100644\r\n--- a/node_modules/react-art/umd/react-art.production.min.js\r\n+++ b/node_modules/react-art/umd/react-art.production.min.js\r\n@@ -1159,15 +1159,17 @@\r\n                 currentFirstChild,\r\n                 newChild,\r\n                 expirationTime\r\n-              )))\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild))\r\n             : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n               (currentFirstChild = createFiberFromText(\r\n                 newChild,\r\n                 returnFiber.mode,\r\n                 expirationTime\r\n-              ))),\r\n-          (currentFirstChild[\"return\"] = returnFiber),\r\n-          (returnFiber = currentFirstChild),\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild)),\r\n           placeSingleChild(returnFiber)\r\n         );\r\n       if (isArray$1(newChild))\r\n@@ -5520,7 +5522,7 @@\r\n       }\r\n       this.isColor = !0;\r\n     },\r\n-    listMatch = /([-.\\d]+\\%?)\\s*,\\s*([-.\\d]+\\%?)\\s*,\\s*([-.\\d]+\\%?)\\s*,?\\s*([-.\\d]*\\%?)/,\r\n+    listMatch = /([-.\\d]+%?)\\s*,\\s*([-.\\d]+%?)\\s*,\\s*([-.\\d]+%?)\\s*,?\\s*([-.\\d]*%?)/,\r\n     hexMatch = /^#?([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{0,2})$/i;\r\n   Color.parseRGB = function(color) {\r\n     return map(color.match(listMatch).slice(1), function(bit, i) {\r\n@@ -5964,7 +5966,14 @@\r\n             (this._layer = layer = canvas.getContext(\"2d\"));\r\n         isDirty &&\r\n           (this.renderLayerTo(layer, xx, yx, xy, yy, x, y),\r\n-          (this._layerCache = { xx: xx, yx: yx, xy: xy, yy: yy, x: x, y: y }));\r\n+          (this._layerCache = {\r\n+            xx: xx,\r\n+            yx: yx,\r\n+            xy: xy,\r\n+            yy: yy,\r\n+            x: x,\r\n+            y: y\r\n+          }));\r\n         context.globalAlpha = opacity;\r\n         context.setTransform(1, 0, 0, 1, 0, 0);\r\n         context.drawImage(canvas, 0, 0, w, h, 0, 0, w, h);\r\ndiff --git a/node_modules/react-dom/cjs/react-dom-server.browser.production.min.js b/node_modules/react-dom/cjs/react-dom-server.browser.production.min.js\r\nindex 246b49a..2a3b0ba 100644\r\n--- a/node_modules/react-dom/cjs/react-dom-server.browser.production.min.js\r\n+++ b/node_modules/react-dom/cjs/react-dom-server.browser.production.min.js\r\n@@ -197,7 +197,7 @@ var properties = {};\r\n     null\r\n   );\r\n });\r\n-var CAMELIZE = /[\\-\\:]([a-z])/g;\r\n+var CAMELIZE = /[\\-:]([a-z])/g;\r\n function capitalize(token) {\r\n   return token[1].toUpperCase();\r\n }\r\ndiff --git a/node_modules/react-dom/cjs/react-dom-server.node.production.min.js b/node_modules/react-dom/cjs/react-dom-server.node.production.min.js\r\nindex 08b7005..7502d55 100644\r\n--- a/node_modules/react-dom/cjs/react-dom-server.node.production.min.js\r\n+++ b/node_modules/react-dom/cjs/react-dom-server.node.production.min.js\r\n@@ -198,7 +198,7 @@ var properties = {};\r\n     null\r\n   );\r\n });\r\n-var CAMELIZE = /[\\-\\:]([a-z])/g;\r\n+var CAMELIZE = /[\\-:]([a-z])/g;\r\n function capitalize(token) {\r\n   return token[1].toUpperCase();\r\n }\r\ndiff --git a/node_modules/react-dom/cjs/react-dom-unstable-native-dependencies.production.min.js b/node_modules/react-dom/cjs/react-dom-unstable-native-dependencies.production.min.js\r\nindex 8ea2a7d..e5083f9 100644\r\n--- a/node_modules/react-dom/cjs/react-dom-unstable-native-dependencies.production.min.js\r\n+++ b/node_modules/react-dom/cjs/react-dom-unstable-native-dependencies.production.min.js\r\n@@ -31,7 +31,14 @@ function reactProdInvariant(code) {\r\n }\r\n var getFiberCurrentPropsFromNode = null,\r\n   getInstanceFromNode = null,\r\n-  getNodeFromInstance = null;\r\n+  getNodeFromInstance = null,\r\n+  injection = {\r\n+    injectComponentTree: function(Injected) {\r\n+      getFiberCurrentPropsFromNode = Injected.getFiberCurrentPropsFromNode;\r\n+      getInstanceFromNode = Injected.getInstanceFromNode;\r\n+      getNodeFromInstance = Injected.getNodeFromInstance;\r\n+    }\r\n+  };\r\n function isEndish(topLevelType) {\r\n   return (\r\n     \"topMouseUp\" === topLevelType ||\r\n@@ -728,18 +735,13 @@ var eventTypes = {\r\n       }\r\n     }\r\n   };\r\n-function injectComponentTree(Injected) {\r\n-  getFiberCurrentPropsFromNode = Injected.getFiberCurrentPropsFromNode;\r\n-  getInstanceFromNode = Injected.getInstanceFromNode;\r\n-  getNodeFromInstance = Injected.getNodeFromInstance;\r\n-}\r\n-injectComponentTree(\r\n+(0, injection.injectComponentTree)(\r\n   ReactDOM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\r\n     .ReactDOMComponentTree\r\n );\r\n-var unstableNativeDependencies = Object.freeze({\r\n-  injectComponentTree: injectComponentTree,\r\n+var ReactDOMUnstableNativeDependencies = Object.freeze({\r\n+  injectComponentTree: injection.injectComponentTree,\r\n   ResponderEventPlugin: ResponderEventPlugin,\r\n   ResponderTouchHistoryStore: ResponderTouchHistoryStore\r\n });\r\n-module.exports = unstableNativeDependencies;\r\n+module.exports = ReactDOMUnstableNativeDependencies;\r\ndiff --git a/node_modules/react-dom/cjs/react-dom.production.min.js b/node_modules/react-dom/cjs/react-dom.production.min.js\r\nindex e42a6b6..03deefa 100644\r\n--- a/node_modules/react-dom/cjs/react-dom.production.min.js\r\n+++ b/node_modules/react-dom/cjs/react-dom.production.min.js\r\n@@ -826,6 +826,11 @@ var BeforeInputEventPlugin = {\r\n     }\r\n   },\r\n   fiberHostComponent = null,\r\n+  ReactControlledComponentInjection = {\r\n+    injectFiberControlledHostComponent: function(hostComponentImpl) {\r\n+      fiberHostComponent = hostComponentImpl;\r\n+    }\r\n+  },\r\n   restoreTarget = null,\r\n   restoreQueue = null;\r\n function restoreStateOfTarget(target) {\r\n@@ -842,11 +847,6 @@ function restoreStateOfTarget(target) {\r\n     );\r\n   }\r\n }\r\n-var injection$2 = {\r\n-  injectFiberControlledHostComponent: function(hostComponentImpl) {\r\n-    fiberHostComponent = hostComponentImpl;\r\n-  }\r\n-};\r\n function enqueueStateRestore(target) {\r\n   restoreTarget\r\n     ? restoreQueue ? restoreQueue.push(target) : (restoreQueue = [target])\r\n@@ -867,7 +867,7 @@ function restoreStateIfNeeded() {\r\n   }\r\n }\r\n var ReactControlledComponent = Object.freeze({\r\n-  injection: injection$2,\r\n+  injection: ReactControlledComponentInjection,\r\n   enqueueStateRestore: enqueueStateRestore,\r\n   needsStateRestore: needsStateRestore,\r\n   restoreStateIfNeeded: restoreStateIfNeeded\r\n@@ -1232,7 +1232,7 @@ var properties = {};\r\n     null\r\n   );\r\n });\r\n-var CAMELIZE = /[\\-\\:]([a-z])/g;\r\n+var CAMELIZE = /[\\-:]([a-z])/g;\r\n function capitalize(token) {\r\n   return token[1].toUpperCase();\r\n }\r\n@@ -1478,11 +1478,10 @@ var ChangeEventPlugin = {\r\n             ? (getTargetInstFunc = getTargetInstForInputOrChangeEvent)\r\n             : ((getTargetInstFunc = getTargetInstForInputEventPolyfill),\r\n               (handleEventFunc = handleEventsForInputEventPolyfill))\r\n-          : ((nodeName = targetNode.nodeName),\r\n-            !nodeName ||\r\n-              \"input\" !== nodeName.toLowerCase() ||\r\n-              (\"checkbox\" !== targetNode.type && \"radio\" !== targetNode.type) ||\r\n-              (getTargetInstFunc = getTargetInstForClickEvent));\r\n+          : (nodeName = targetNode.nodeName) &&\r\n+            \"input\" === nodeName.toLowerCase() &&\r\n+            (\"checkbox\" === targetNode.type || \"radio\" === targetNode.type) &&\r\n+            (getTargetInstFunc = getTargetInstForClickEvent);\r\n       if (\r\n         getTargetInstFunc &&\r\n         (getTargetInstFunc = getTargetInstFunc(topLevelType, targetInst))\r\n@@ -3673,15 +3672,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\n@@ -6820,8 +6821,7 @@ function isCustomComponent(tagName, props) {\r\n       return !0;\r\n   }\r\n }\r\n-var HTML_NAMESPACE = Namespaces.html,\r\n-  getStack = emptyFunction.thatReturns(\"\");\r\n+var getStack = emptyFunction.thatReturns(\"\");\r\n function ensureListeningTo(rootContainerElement, registrationName) {\r\n   rootContainerElement =\r\n     9 === rootContainerElement.nodeType || 11 === rootContainerElement.nodeType\r\n@@ -6861,9 +6861,9 @@ function createElement$1(type, props, rootContainerElement, parentNamespace) {\r\n     9 === rootContainerElement.nodeType\r\n       ? rootContainerElement\r\n       : rootContainerElement.ownerDocument;\r\n-  parentNamespace === HTML_NAMESPACE &&\r\n+  parentNamespace === Namespaces.html &&\r\n     (parentNamespace = getIntrinsicNamespace(type));\r\n-  parentNamespace === HTML_NAMESPACE\r\n+  parentNamespace === Namespaces.html\r\n     ? \"script\" === type\r\n       ? ((type = rootContainerElement.createElement(\"div\")),\r\n         (type.innerHTML = \"\\x3cscript\\x3e\\x3c/script\\x3e\"),\r\n@@ -7307,7 +7307,9 @@ var ReactDOMFiberComponent = Object.freeze({\r\n     }\r\n   }\r\n });\r\n-injection$2.injectFiberControlledHostComponent(ReactDOMFiberComponent);\r\n+ReactControlledComponentInjection.injectFiberControlledHostComponent(\r\n+  ReactDOMFiberComponent\r\n+);\r\n var eventsEnabled = null,\r\n   selectionInformation = null;\r\n function ReactBatch(root) {\r\ndiff --git a/node_modules/react-dom/umd/react-dom-server.browser.production.min.js b/node_modules/react-dom/umd/react-dom-server.browser.production.min.js\r\nindex ed20d16..ca3efa5 100644\r\n--- a/node_modules/react-dom/umd/react-dom-server.browser.production.min.js\r\n+++ b/node_modules/react-dom/umd/react-dom-server.browser.production.min.js\r\n@@ -436,7 +436,7 @@\r\n       null\r\n     );\r\n   });\r\n-  var CAMELIZE = /[\\-\\:]([a-z])/g,\r\n+  var CAMELIZE = /[\\-:]([a-z])/g,\r\n     capitalize = function(token) {\r\n       return token[1].toUpperCase();\r\n     };\r\ndiff --git a/node_modules/react-dom/umd/react-dom.production.min.js b/node_modules/react-dom/umd/react-dom.production.min.js\r\nindex 70669da..301a61d 100644\r\n--- a/node_modules/react-dom/umd/react-dom.production.min.js\r\n+++ b/node_modules/react-dom/umd/react-dom.production.min.js\r\n@@ -2216,15 +2216,17 @@\r\n                 currentFirstChild,\r\n                 newChild,\r\n                 expirationTime\r\n-              )))\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild))\r\n             : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n               (currentFirstChild = createFiberFromText(\r\n                 newChild,\r\n                 returnFiber.mode,\r\n                 expirationTime\r\n-              ))),\r\n-          (currentFirstChild[\"return\"] = returnFiber),\r\n-          (returnFiber = currentFirstChild),\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild)),\r\n           placeSingleChild(returnFiber)\r\n         );\r\n       if (isArray$1(newChild))\r\n@@ -3541,7 +3543,7 @@\r\n       null\r\n     );\r\n   });\r\n-  var CAMELIZE = /[\\-\\:]([a-z])/g,\r\n+  var CAMELIZE = /[\\-:]([a-z])/g,\r\n     capitalize = function(token) {\r\n       return token[1].toUpperCase();\r\n     };\r\n@@ -3627,12 +3629,10 @@\r\n               ? (getTargetInstFunc = getTargetInstForInputOrChangeEvent)\r\n               : ((getTargetInstFunc = getTargetInstForInputEventPolyfill),\r\n                 (handleEventFunc = handleEventsForInputEventPolyfill))\r\n-            : ((nodeName = targetNode.nodeName),\r\n-              !nodeName ||\r\n-                \"input\" !== nodeName.toLowerCase() ||\r\n-                (\"checkbox\" !== targetNode.type &&\r\n-                  \"radio\" !== targetNode.type) ||\r\n-                (getTargetInstFunc = getTargetInstForClickEvent));\r\n+            : (nodeName = targetNode.nodeName) &&\r\n+              \"input\" === nodeName.toLowerCase() &&\r\n+              (\"checkbox\" === targetNode.type || \"radio\" === targetNode.type) &&\r\n+              (getTargetInstFunc = getTargetInstForClickEvent);\r\n         if (\r\n           getTargetInstFunc &&\r\n           (getTargetInstFunc = getTargetInstFunc(topLevelType, targetInst))\r\ndiff --git a/node_modules/react-reconciler/cjs/react-reconciler-persistent.production.min.js b/node_modules/react-reconciler/cjs/react-reconciler-persistent.production.min.js\r\nindex 19cb85a..0a02e6e 100644\r\n--- a/node_modules/react-reconciler/cjs/react-reconciler-persistent.production.min.js\r\n+++ b/node_modules/react-reconciler/cjs/react-reconciler-persistent.production.min.js\r\n@@ -1547,15 +1547,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\ndiff --git a/node_modules/react-reconciler/cjs/react-reconciler.production.min.js b/node_modules/react-reconciler/cjs/react-reconciler.production.min.js\r\nindex 094e7d2..2aca99b 100644\r\n--- a/node_modules/react-reconciler/cjs/react-reconciler.production.min.js\r\n+++ b/node_modules/react-reconciler/cjs/react-reconciler.production.min.js\r\n@@ -1547,15 +1547,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\ndiff --git a/node_modules/react-test-renderer/cjs/react-test-renderer.production.min.js b/node_modules/react-test-renderer/cjs/react-test-renderer.production.min.js\r\nindex b53216a..93c432d 100644\r\n--- a/node_modules/react-test-renderer/cjs/react-test-renderer.production.min.js\r\n+++ b/node_modules/react-test-renderer/cjs/react-test-renderer.production.min.js\r\n@@ -1546,15 +1546,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\ndiff --git a/node_modules/react-test-renderer/umd/react-test-renderer.production.min.js b/node_modules/react-test-renderer/umd/react-test-renderer.production.min.js\r\nindex c4d3d29..b298f79 100644\r\n--- a/node_modules/react-test-renderer/umd/react-test-renderer.production.min.js\r\n+++ b/node_modules/react-test-renderer/umd/react-test-renderer.production.min.js\r\n@@ -1159,15 +1159,17 @@\r\n                 currentFirstChild,\r\n                 newChild,\r\n                 expirationTime\r\n-              )))\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild))\r\n             : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n               (currentFirstChild = createFiberFromText(\r\n                 newChild,\r\n                 returnFiber.mode,\r\n                 expirationTime\r\n-              ))),\r\n-          (currentFirstChild[\"return\"] = returnFiber),\r\n-          (returnFiber = currentFirstChild),\r\n+              )),\r\n+              (currentFirstChild[\"return\"] = returnFiber),\r\n+              (returnFiber = currentFirstChild)),\r\n           placeSingleChild(returnFiber)\r\n         );\r\n       if (isArray$1(newChild))\r\n@@ -1259,11 +1261,7 @@\r\n         inst.children &&\r\n           inst.children.length &&\r\n           (_inst$props = inst.children.map(toJSON));\r\n-        inst = {\r\n-          type: inst.type,\r\n-          props: target,\r\n-          children: _inst$props\r\n-        };\r\n+        inst = { type: inst.type, props: target, children: _inst$props };\r\n         Object.defineProperty(inst, \"$$typeof\", {\r\n           value: Symbol[\"for\"](\"react.test.json\")\r\n         });\r\ndiff --git a/react-native/ReactFabric-prod.js b/react-native/ReactFabric-prod.js\r\nindex 4b18437..18bd5b4 100644\r\n--- a/react-native/ReactFabric-prod.js\r\n+++ b/react-native/ReactFabric-prod.js\r\n@@ -2761,15 +2761,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\ndiff --git a/react-native/ReactNativeRenderer-prod.js b/react-native/ReactNativeRenderer-prod.js\r\nindex 31f0962..77a999e 100644\r\n--- a/react-native/ReactNativeRenderer-prod.js\r\n+++ b/react-native/ReactNativeRenderer-prod.js\r\n@@ -3017,15 +3017,17 @@ function ChildReconciler(shouldTrackSideEffects) {\r\n               currentFirstChild,\r\n               newChild,\r\n               expirationTime\r\n-            )))\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild))\r\n           : (deleteRemainingChildren(returnFiber, currentFirstChild),\r\n             (currentFirstChild = createFiberFromText(\r\n               newChild,\r\n               returnFiber.mode,\r\n               expirationTime\r\n-            ))),\r\n-        (currentFirstChild[\"return\"] = returnFiber),\r\n-        (returnFiber = currentFirstChild),\r\n+            )),\r\n+            (currentFirstChild[\"return\"] = returnFiber),\r\n+            (returnFiber = currentFirstChild)),\r\n         placeSingleChild(returnFiber)\r\n       );\r\n     if (isArray$1(newChild))\r\n```\r\n\r\n</details>",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
