{
  "url": "https://api.github.com/repos/facebook/react/issues/14467",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14467/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14467/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14467/events",
  "html_url": "https://github.com/facebook/react/issues/14467",
  "id": 392669547,
  "node_id": "MDU6SXNzdWUzOTI2Njk1NDc=",
  "number": 14467,
  "title": "useEffect delays rerenders on window resize when called with [] as 2nd argument",
  "user": {
    "login": "desmap",
    "id": 43666255,
    "node_id": "MDQ6VXNlcjQzNjY2MjU1",
    "avatar_url": "https://avatars2.githubusercontent.com/u/43666255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/desmap",
    "html_url": "https://github.com/desmap",
    "followers_url": "https://api.github.com/users/desmap/followers",
    "following_url": "https://api.github.com/users/desmap/following{/other_user}",
    "gists_url": "https://api.github.com/users/desmap/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/desmap/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/desmap/subscriptions",
    "organizations_url": "https://api.github.com/users/desmap/orgs",
    "repos_url": "https://api.github.com/users/desmap/repos",
    "events_url": "https://api.github.com/users/desmap/events{/privacy}",
    "received_events_url": "https://api.github.com/users/desmap/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-12-19T16:04:49Z",
  "updated_at": "2018-12-19T20:07:34Z",
  "closed_at": "2018-12-19T20:07:20Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nIt's a feature request but the situation feels like a bug.\r\n\r\n**What is the current behavior?**\r\n\r\nIf you call useEffect with an empty array as second argument React delays the re-render when the user changes the browser window size (which leads to ugly scroll bars in the following example). This behavior makes sense, is within the useEffect spec and is to be expected when you pass an empty array as second argument. \r\n\r\nPlease check following Codesandbox and the problem gets clear. It shows a gallery of cross-fading pics controlled with useEffect, useState and setInterval:\r\n\r\nhttps://codesandbox.io/s/2v783085j0\r\n\r\nIf you resize the browser window there is a delayed rerender. Without the [] as second argument it re-renders instantly. Unfortunately I need [] here, otherwise the timers would start too many times.\r\n\r\n**What is the expected behavior?**\r\n\r\nNot expected but it would be great to have some built-in option in useEffect to let React always rerender on window resize even if [] is used as second argument.\r\n\r\nI tried to add an event listener on 'resize' within useEffect which changes a state var (windowResized) and put this state var into the array (useEffect's second arg) but this didn't work. So, it's super cumbersome, like working-around useEffect and hence, this feature request.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nReact, 16.7.0-alpha22",
  "closed_by": {
    "login": "desmap",
    "id": 43666255,
    "node_id": "MDQ6VXNlcjQzNjY2MjU1",
    "avatar_url": "https://avatars2.githubusercontent.com/u/43666255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/desmap",
    "html_url": "https://github.com/desmap",
    "followers_url": "https://api.github.com/users/desmap/followers",
    "following_url": "https://api.github.com/users/desmap/following{/other_user}",
    "gists_url": "https://api.github.com/users/desmap/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/desmap/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/desmap/subscriptions",
    "organizations_url": "https://api.github.com/users/desmap/orgs",
    "repos_url": "https://api.github.com/users/desmap/repos",
    "events_url": "https://api.github.com/users/desmap/events{/privacy}",
    "received_events_url": "https://api.github.com/users/desmap/received_events",
    "type": "User",
    "site_admin": false
  }
}
