{
  "url": "https://api.github.com/repos/facebook/react/issues/12091",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/12091/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/12091/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/12091/events",
  "html_url": "https://github.com/facebook/react/issues/12091",
  "id": 291505405,
  "node_id": "MDU6SXNzdWUyOTE1MDU0MDU=",
  "number": 12091,
  "title": "Native ecmascript module for React and ReactDOM",
  "user": {
    "login": "PM5544",
    "id": 1087759,
    "node_id": "MDQ6VXNlcjEwODc3NTk=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/1087759?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/PM5544",
    "html_url": "https://github.com/PM5544",
    "followers_url": "https://api.github.com/users/PM5544/followers",
    "following_url": "https://api.github.com/users/PM5544/following{/other_user}",
    "gists_url": "https://api.github.com/users/PM5544/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/PM5544/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/PM5544/subscriptions",
    "organizations_url": "https://api.github.com/users/PM5544/orgs",
    "repos_url": "https://api.github.com/users/PM5544/repos",
    "events_url": "https://api.github.com/users/PM5544/events{/privacy}",
    "received_events_url": "https://api.github.com/users/PM5544/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2018-01-25T09:38:31Z",
  "updated_at": "2018-01-29T07:35:49Z",
  "closed_at": "2018-01-25T11:35:13Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nThis probably is a feature request since the root of this is considering the build tooling and questions on how to proceed with my efforts.\r\n\r\n**What is the current behavior?**\r\nNo native ecmascript module output and the current build tools don't easily allow adding a  native ecmascript module build target.\r\n\r\nWhile investigating a workflow using a native ecmascript module version of React (and ReactDOM) in browsers I found no implementation which outputs native ecmascript modules.\r\nOne can use a wrapped version of the transpiled versions with added export statements but transpiling would not be necessary for browsers supporting ecmascript modules natively.\r\nEven spread operators are supported by these browsers although they're not fully supported by AST generators or other tools due to the fact that the spec for that isn't finalised.\r\n\r\nAfter some test projects and different build tools I built a simple proof of concept which outputs ecmascript modules that can be used in modern browsers.\r\nThe challenge (and question I have) is that the tools and settings used in the POC contradict the current build settings and tools.\r\nSo I am wondering if this is something that can be added as a build target or that this is something that is better suitable for an external repo for the time being...\r\n\r\nI would love to make this happen but I would like to hear if this is something that is deemed worth while and if so in what would be the preferred way of implementing this.\r\nDuring my investigation I did not find an easy way of doing so without changing a considerable amount of code and build tooling. Making this a relatively high risk endeavour.\r\nWebpack vs Rollup, different settings needed for Babel, and named exports instead of CommonJS module.exports pattern to name a few, and all the effects those have on the build process make this somewhat complex.\r\n\r\nTo clarify some things, these are links to the POC's:\r\nrepo which outputs native ecmascript modules for React and ReactDOM: https://github.com/wearespindle/react-ecmascript\r\nrepo with a minimal setup to test if a working app can be made these modules in a browser: https://github.com/PM5544/module-test\r\n\r\n<!--\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:** -->\r\n\r\n**What is the expected behavior?**\r\nPreferably a build target for native ecmascript modules.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nnot relevant\r\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
