{
  "url": "https://api.github.com/repos/facebook/react/issues/9327",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/9327/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/9327/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/9327/events",
  "html_url": "https://github.com/facebook/react/pull/9327",
  "id": 219349987,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTE0MjIwMDQw",
  "number": 9327,
  "title": "Convert current build system to Rollup and adopt flat bundles",
  "user": {
    "login": "trueadm",
    "id": 1519870,
    "node_id": "MDQ6VXNlcjE1MTk4NzA=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1519870?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/trueadm",
    "html_url": "https://github.com/trueadm",
    "followers_url": "https://api.github.com/users/trueadm/followers",
    "following_url": "https://api.github.com/users/trueadm/following{/other_user}",
    "gists_url": "https://api.github.com/users/trueadm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/trueadm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/trueadm/subscriptions",
    "organizations_url": "https://api.github.com/users/trueadm/orgs",
    "repos_url": "https://api.github.com/users/trueadm/repos",
    "events_url": "https://api.github.com/users/trueadm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/trueadm/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 196858374,
      "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
      "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
      "name": "CLA Signed",
      "color": "e7e7e7",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/facebook/react/milestones/23",
    "html_url": "https://github.com/facebook/react/milestone/23",
    "labels_url": "https://api.github.com/repos/facebook/react/milestones/23/labels",
    "id": 1670888,
    "node_id": "MDk6TWlsZXN0b25lMTY3MDg4OA==",
    "number": 23,
    "title": "16.0",
    "description": "",
    "creator": {
      "login": "gaearon",
      "id": 810438,
      "node_id": "MDQ6VXNlcjgxMDQzOA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gaearon",
      "html_url": "https://github.com/gaearon",
      "followers_url": "https://api.github.com/users/gaearon/followers",
      "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
      "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
      "organizations_url": "https://api.github.com/users/gaearon/orgs",
      "repos_url": "https://api.github.com/users/gaearon/repos",
      "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gaearon/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 69,
    "state": "closed",
    "created_at": "2016-03-29T02:12:16Z",
    "updated_at": "2017-10-04T11:52:38Z",
    "due_on": null,
    "closed_at": "2017-10-04T11:52:38Z"
  },
  "comments": 10,
  "created_at": "2017-04-04T19:00:12Z",
  "updated_at": "2017-11-08T22:34:29Z",
  "closed_at": "2017-04-05T15:47:29Z",
  "author_association": "MEMBER",
  "pull_request": {
    "url": "https://api.github.com/repos/facebook/react/pulls/9327",
    "html_url": "https://github.com/facebook/react/pull/9327",
    "diff_url": "https://github.com/facebook/react/pull/9327.diff",
    "patch_url": "https://github.com/facebook/react/pull/9327.patch"
  },
  "body": "The current build process for React (using Gulp, Grunt and Browserify) is cumbersome and overly-complicated. It doesn't allow us to unify our external open-source and our internal Facebook processes very well. This PR introduced an entirely new system that replaces the old build system.\r\n\r\nWe now leverage the creation of flat bundles, that force users to work with a single point of entry. This allows us to make better optimizations, improve our bundle size, improve the DEV/PROD experience and allows us to control how people use the APIs offered by React and the various different React renderers.\r\n\r\nSupersedes #4927. Fixes https://github.com/facebook/react/issues/6351.\r\n\r\n- [x] Set up a basic build process @trueadm \r\n- [x] Add forwarding modules @trueadm \r\n- [x] Fix ReactPerf circular dependency with ReactGKJSModule @gaearon\r\n- [x] Fix CurrentOwner exception\r\n- [x] Fix \"addComponentAsRefTo(...): Only a ReactOwner can have refs.\" @trueadm \r\n- [x] Figure out a fix for Rollup flat bundle breaking www @trueadm https://github.com/rollup/rollup-plugin-commonjs/issues/176\r\n- [x] Fix dynamic injection breaking because forwarding modules don't know which bundle to refer to @gaearon\r\n- [x] Clean up before build and add a shortcut for building one bundle type @trueadm \r\n- [x] Fix all missing static resources @gaearon\r\n- [x] Figure out how to inject feature flags into the bundle correctly @gaearon \r\n- [x] Figure out how to inject error utils and Fiber error dialog @gaearon\r\n- [x] Add a ReactART build @gaearon\r\n- [x] Add a ReactDOMServer build @trueadm \r\n- [x] Rebase www now that Sebastian landed the sync @gaearon\r\n- [x] CommonJS bundles shouldn't contain `DEV` code (for prod) or `process.env.NODE_ENV` checks since those are slow. We should have separate CommonJS builds for development and production, and switch based on `NODE_ENV` between them. @trueadm \r\n- [x] Fork addons internally @gaearon\r\n- [x] Make build handle NPM packages, facebook-www and UMD dist @trueadm\r\n- [x] Remove `-core` indirection internally @gaearon\r\n- [x] Figure out a plan for responder/tap plugins, `reactComponentExpect` etc where we'd still like to be the source of truth\r\n- [x] Fix KB profiler not to rely on internals @trueadm\r\n- [x] Figure out how to remove ReactPerf and ReactTestUtils (especially shallow renderer) from www bundles in prod mode\r\n- [x] Check for duplicated output and do some initial profiling @trueadm \r\n- [x] Ensure we have license headers both for our code and `object-assign` in all bundles @trueadm \r\n- [x] Delete `examples`, move `examples/fiber` to `fixtures`, and check docs for links to examples\r\n- [x] Figure out the plan for ReactDOMServer bundle\r\n- [x] Fix DOM fixtures and fiber debugger\r\n- [x] Fix ART UMD build\r\n- [x] Add ReactDOMServerStack CommonJS entry point to `react-dom/server`\r\n- [x] Do initial work for RN flat bundle (the rest is follow up) \r\n- [x] Figure out the plan for TapEventPlugin and friends\r\n- [x] Remove dependency on Node 7 (we only have Node 4 on devservers)\r\n- [x] Ensure packages contain PATENTS and other relevant files as they did before\n- [x] Update www sync script\r\n",
  "closed_by": {
    "login": "trueadm",
    "id": 1519870,
    "node_id": "MDQ6VXNlcjE1MTk4NzA=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1519870?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/trueadm",
    "html_url": "https://github.com/trueadm",
    "followers_url": "https://api.github.com/users/trueadm/followers",
    "following_url": "https://api.github.com/users/trueadm/following{/other_user}",
    "gists_url": "https://api.github.com/users/trueadm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/trueadm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/trueadm/subscriptions",
    "organizations_url": "https://api.github.com/users/trueadm/orgs",
    "repos_url": "https://api.github.com/users/trueadm/repos",
    "events_url": "https://api.github.com/users/trueadm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/trueadm/received_events",
    "type": "User",
    "site_admin": false
  }
}
