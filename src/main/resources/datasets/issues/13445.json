{
  "url": "https://api.github.com/repos/facebook/react/issues/13445",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/13445/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/13445/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/13445/events",
  "html_url": "https://github.com/facebook/react/issues/13445",
  "id": 352193557,
  "node_id": "MDU6SXNzdWUzNTIxOTM1NTc=",
  "number": 13445,
  "title": "Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.",
  "user": {
    "login": "18steps",
    "id": 2886450,
    "node_id": "MDQ6VXNlcjI4ODY0NTA=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/2886450?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/18steps",
    "html_url": "https://github.com/18steps",
    "followers_url": "https://api.github.com/users/18steps/followers",
    "following_url": "https://api.github.com/users/18steps/following{/other_user}",
    "gists_url": "https://api.github.com/users/18steps/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/18steps/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/18steps/subscriptions",
    "organizations_url": "https://api.github.com/users/18steps/orgs",
    "repos_url": "https://api.github.com/users/18steps/repos",
    "events_url": "https://api.github.com/users/18steps/events{/privacy}",
    "received_events_url": "https://api.github.com/users/18steps/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-08-20T15:47:45Z",
  "updated_at": "2019-09-20T09:31:39Z",
  "closed_at": "2018-08-20T17:01:25Z",
  "author_association": "NONE",
  "body": "**Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\nI `export` and `import` `default` `connect`ed stateless functional components in the usual way. -- Actually the component which use causes the error is not `connect`ed.\r\n\r\nThere's objects returned from all of these components which have properties like `$$type: Symbol(react.element)` etc.\r\n\r\nThe app breaks and gives this error message:\r\n> Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.\r\n> Check the render method of `CompanyHeaderPartWithoutStructure`.\r\n\r\nOn closer inspection, there's an initial error message in the console:\r\n\r\n> Warning: React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.\r\n> Check your code at CompanyHeaderPartWithoutStructure.js:10.\r\n\r\nThat line of `CompanyHeaderPartWithoutStructure` uses `<CompanyIconInHeader />` \r\n\r\n• If replace the contents of `CompanyIconInHeader` with `<span>y</span>` and I get the same error.\r\n• However, the error disappears if i comment out `<CompanyIconInHeader />` from `CompanyHeaderPartWithoutStructure`.\r\n\r\nThe object from `CompanyIconInHeader` (which is the source of the problems) looks like this:\r\n\r\n![image](https://user-images.githubusercontent.com/2886450/44349070-6e77d280-a49c-11e8-9618-6f50173be5e4.png)\r\n\r\nIt looks like this both when I `debugger` immediately after its original definition and when I `debugger` inside of the component which uses it.\r\n\r\nThis is the (simplified) component which if I use, I get the error:\r\n```\r\nimport React from 'react';\r\n\r\nconst CompanyIconInHeader = <span>y</span>;\r\n// debugger\r\nexport default CompanyIconInHeader;\r\n```\r\n\r\n\r\nThis is the module which uses it which React says to check the render method of:\r\n```\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { getCompanyName } from '../../../CompanyInfo/state/globalCompanySelectors';\r\nimport CompanyIconInHeader from './CompanyIconInHeader';\r\n\r\nconst CompanyHeaderPartWithoutStructure = ({ companyName }) => (\r\n  <h1>\r\n    <CompanyIconInHeader />\r\n    {companyName}\r\n  </h1>\r\n);\r\n\r\nexport default connect(\r\n  createStructuredSelector({\r\n    companyName: getCompanyName,\r\n  })\r\n)(CompanyHeaderPartWithoutStructure);\r\n```\r\n\r\n_Some fruitless attempts to get rid of the error:_\r\n`companyName` is undefined at this point -- I get the same error if I take it out -- also if remove the use of `createStructuredSelector` and both related imports.  Also if I just `export default CompanyHeaderPartWithoutStructure`, no `connect` or its import. -- Still errors.\r\n\r\nThe component which in turn uses `CompanyHeaderPartWithoutStructure` is connected. Even if I reduce this to the point of only importing React and `CompanyHeaderPartWithoutStructure` and returning `CompanyHeaderPartWithoutStructure` without connecting, the error is still there. -- I'm thinking maybe if I go all the way up the tree and disconnect everything, maybe the error will disappear. -- But it wouldn't solve the problem, so I won't go on.\r\n\r\nI also get the error if I `connect` the `CompanyIconInHeader` to the point where it's just `export default connect(null, null)(<span>y</span>);`\r\n(React then ends the error message with \"Check the render method of `Connect(Component)`.\")\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\n**What is the expected behavior?**\r\n\r\nNo error.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nThis is React 16.4.2, Redux 4.0.0, React-Redux 5.0.7.\r\n\r\nI get the same behavior with React 16.3.0. (Redux 4.0.0, React-Redux 5.0.7)\r\nAlso with React-Redux 4.4.9. (React 16.3.0, Redux 4.0.0)\r\nAlso with Redux 3.7.2 (React 16.3.0, React-Redux 4.4.9).\r\n(Also those old React-Redux, Redux with newest React)\r\n\r\nApp is made with create-react-app and not ejected.",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
