{
  "url": "https://api.github.com/repos/facebook/react/issues/3404",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/3404/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/3404/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/3404/events",
  "html_url": "https://github.com/facebook/react/issues/3404",
  "id": 61091600,
  "node_id": "MDU6SXNzdWU2MTA5MTYwMA==",
  "number": 3404,
  "title": "Parent-based context fails if component updates its child",
  "user": {
    "login": "taurose",
    "id": 1550663,
    "node_id": "MDQ6VXNlcjE1NTA2NjM=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/1550663?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/taurose",
    "html_url": "https://github.com/taurose",
    "followers_url": "https://api.github.com/users/taurose/followers",
    "following_url": "https://api.github.com/users/taurose/following{/other_user}",
    "gists_url": "https://api.github.com/users/taurose/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/taurose/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/taurose/subscriptions",
    "organizations_url": "https://api.github.com/users/taurose/orgs",
    "repos_url": "https://api.github.com/users/taurose/repos",
    "events_url": "https://api.github.com/users/taurose/events{/privacy}",
    "received_events_url": "https://api.github.com/users/taurose/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2015-03-13T15:11:54Z",
  "updated_at": "2015-03-25T20:25:22Z",
  "closed_at": "2015-03-25T20:25:22Z",
  "author_association": "NONE",
  "body": "It seems that if a component implementing `getChildContext` is updated to render a different (top-level) child, react doesn't call `getChildContext` on that updated component (for parent-based context). So the new child will effectively get the context of its grandparent instead (if there is one).\n\nWhile this doesn't seem to break anything (I assume that is because react still prioritizes owner-based context which works fine), it leads to a \"contexts differ\" warning.\n\nHere's a fiddle: http://jsfiddle.net/2fd0jvo5/10/\n\nOnce you click \"Show Foo\", you should see a warning in the console. When wrapping the render output with a static element such as `<span>`, the warning will not appear.\n\nI'm not very familiar with the source code, but for what it's worth, the warning goes away if I replace [this line](https://github.com/facebook/react/blob/v0.13.0/src/core/ReactCompositeComponent.js#L746) with `this._processChildContext(context)`.\n",
  "closed_by": {
    "login": "taurose",
    "id": 1550663,
    "node_id": "MDQ6VXNlcjE1NTA2NjM=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/1550663?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/taurose",
    "html_url": "https://github.com/taurose",
    "followers_url": "https://api.github.com/users/taurose/followers",
    "following_url": "https://api.github.com/users/taurose/following{/other_user}",
    "gists_url": "https://api.github.com/users/taurose/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/taurose/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/taurose/subscriptions",
    "organizations_url": "https://api.github.com/users/taurose/orgs",
    "repos_url": "https://api.github.com/users/taurose/repos",
    "events_url": "https://api.github.com/users/taurose/events{/privacy}",
    "received_events_url": "https://api.github.com/users/taurose/received_events",
    "type": "User",
    "site_admin": false
  }
}
