{
  "url": "https://api.github.com/repos/facebook/react/issues/2584",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/2584/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/2584/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/2584/events",
  "html_url": "https://github.com/facebook/react/issues/2584",
  "id": 49690182,
  "node_id": "MDU6SXNzdWU0OTY5MDE4Mg==",
  "number": 2584,
  "title": "React-ids overriden after server-side rendering",
  "user": {
    "login": "JohnyDays",
    "id": 4540763,
    "node_id": "MDQ6VXNlcjQ1NDA3NjM=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/4540763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JohnyDays",
    "html_url": "https://github.com/JohnyDays",
    "followers_url": "https://api.github.com/users/JohnyDays/followers",
    "following_url": "https://api.github.com/users/JohnyDays/following{/other_user}",
    "gists_url": "https://api.github.com/users/JohnyDays/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JohnyDays/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JohnyDays/subscriptions",
    "organizations_url": "https://api.github.com/users/JohnyDays/orgs",
    "repos_url": "https://api.github.com/users/JohnyDays/repos",
    "events_url": "https://api.github.com/users/JohnyDays/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JohnyDays/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 127893911,
      "node_id": "MDU6TGFiZWwxMjc4OTM5MTE=",
      "url": "https://api.github.com/repos/facebook/react/labels/Component:%20DOM",
      "name": "Component: DOM",
      "color": "fef2c0",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 24,
  "created_at": "2014-11-21T12:26:13Z",
  "updated_at": "2017-08-01T20:39:16Z",
  "closed_at": "2017-08-01T20:39:16Z",
  "author_association": "NONE",
  "body": "I have recently adapted my app to use server-side rendered markup and then reconciliate it with the client to increase loading speeds. \nReact correctly recognizes the rendered markup and doesn't actually touch the dom on the first rendering step. \n\nHowever, when I interact(clicking, dragging, etc) with any server-side rendered react components I get the following error:\n\n```\nInvariant Violation: findComponentRoot .... Try inspecting the child nodes of the element with React ID ``\n```\n\nI understand this is a side-effect of dom mutation, however no such mutation has occured in the react element container.\n\nAltering the state programatically(as opposed to interacting with clicks etc) does not cause these errors.\n\nHere is the server-side rendered markup:\n\n``` html\n<div class=\"viewport\" data-reactid=\".0\" data-react-checksum=\"-1591792822\">\n  <div class=\"login-view\" data-reactid=\".0.0\">\n    <div class=\"wrapper\" data-reactid=\".0.0.0\">\n      <img src=\"images/logo.png\" class=\"logo\" width=\"150\" height=\"164\" data-reactid=\".0.0.0.0\">\n      <div class=\"form\" data-reactid=\".0.0.0.1\">\n        <div class=\"input-container username\" data-reactid=\".0.0.0.1.0\">\n          <div class=\"label username-label icon ss-standard ss-user\" data-reactid=\".0.0.0.1.0.0\">\n          </div>\n          <input class=\"username\" type=\"email\" name=\"username\" placeholder=\"Email\" value=\"\" data-reactid=\".0.0.0.1.0.1\">\n        </div>\n        <div class=\"input-container password\" data-reactid=\".0.0.0.1.1\">\n          <div class=\"label password-label icon ss-standard ss-lock\" data-reactid=\".0.0.0.1.1.0\">\n          </div>\n          <input class=\"password\" type=\"password\" name=\"password\" placeholder=\"Password\" value=\"\" data-reactid=\".0.0.0.1.1.1\">\n        </div>\n        <button class=\"button login\" data-reactid=\".0.0.0.1.2\">\n          Login\n        </button>\n      </div>\n    </div>\n    <img src=\"images/waves.png\" class=\"waves\" width=\"1366\" height=\"94\" data-reactid=\".0.0.1\">\n  </div>\n  <div class=\"app hide\" data-reactid=\".0.1\">\n    <div class=\"sidebar phone\" data-reactid=\".0.1.0\">\n      <div class=\"categories\" data-reactid=\".0.1.0.0\">\n        <div class=\"categories-header\" data-reactid=\".0.1.0.0.0\">\n          <div class=\"text\" data-reactid=\".0.1.0.0.0.0\">\n            Categories\n          </div>\n          <div class=\"arrow ss-standard ss-navigatedown\" data-reactid=\".0.1.0.0.0.1\">\n          </div>\n        </div>\n        <div class=\"categories-scroller\" data-reactid=\".0.1.0.0.1\">\n          <div class=\"categories-wrapper\" data-reactid=\".0.1.0.0.1.0\">\n          </div>\n        </div>\n      </div>\n      <div class=\"add-category\" data-reactid=\".0.1.0.1\">\n        <div class=\"icon ss-standard ss-plus\" data-reactid=\".0.1.0.1.0\">\n        </div>\n        <div class=\"text\" data-reactid=\".0.1.0.1.1\">\n          Add Category\n        </div>\n      </div>\n      <div class=\"bottom-menu\" data-reactid=\".0.1.0.2\">\n        <div class=\"settings\" data-reactid=\".0.1.0.2.1\">\n          <div class=\"icon ss-standard ss-settings\" data-reactid=\".0.1.0.2.1.0\">\n          </div>\n          <div class=\"text\" data-reactid=\".0.1.0.2.1.1\">\n            SETTINGS\n          </div>\n        </div>\n        <div class=\"minimize\" data-reactid=\".0.1.0.2.2\">\n          <div class=\"icon ss-standard ss-navigateright\" data-reactid=\".0.1.0.2.2.0\">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"columns\" data-reactid=\".0.1.1\">\n      <span data-reactid=\".0.1.1.0\">\n      </span>\n    </div>\n  </div>\n</div>\n```\n\nI am calling renderComponent on the client, on the dom node that contains that server-rendered markup.\nE.g \n\n``` jsx\nviewportElement  = document.getElementById(\"viewport-element\")\nReact.render(<Viewport />, viewportElement)\n```\n\nThanks for creating and maintaining this amazing UI framework!\n",
  "closed_by": {
    "login": "gaearon",
    "id": 810438,
    "node_id": "MDQ6VXNlcjgxMDQzOA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/810438?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gaearon",
    "html_url": "https://github.com/gaearon",
    "followers_url": "https://api.github.com/users/gaearon/followers",
    "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
    "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
    "organizations_url": "https://api.github.com/users/gaearon/orgs",
    "repos_url": "https://api.github.com/users/gaearon/repos",
    "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gaearon/received_events",
    "type": "User",
    "site_admin": false
  }
}
