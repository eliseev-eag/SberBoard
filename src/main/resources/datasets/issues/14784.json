{
  "url": "https://api.github.com/repos/facebook/react/issues/14784",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14784/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14784/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14784/events",
  "html_url": "https://github.com/facebook/react/issues/14784",
  "id": 407511676,
  "node_id": "MDU6SXNzdWU0MDc1MTE2NzY=",
  "number": 14784,
  "title": "useEffect with window.scroll(0,0) seems to take effect after initial render",
  "user": {
    "login": "andreidobrinski",
    "id": 22686684,
    "node_id": "MDQ6VXNlcjIyNjg2Njg0",
    "avatar_url": "https://avatars1.githubusercontent.com/u/22686684?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/andreidobrinski",
    "html_url": "https://github.com/andreidobrinski",
    "followers_url": "https://api.github.com/users/andreidobrinski/followers",
    "following_url": "https://api.github.com/users/andreidobrinski/following{/other_user}",
    "gists_url": "https://api.github.com/users/andreidobrinski/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/andreidobrinski/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andreidobrinski/subscriptions",
    "organizations_url": "https://api.github.com/users/andreidobrinski/orgs",
    "repos_url": "https://api.github.com/users/andreidobrinski/repos",
    "events_url": "https://api.github.com/users/andreidobrinski/events{/privacy}",
    "received_events_url": "https://api.github.com/users/andreidobrinski/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-02-07T01:56:31Z",
  "updated_at": "2019-02-07T04:55:48Z",
  "closed_at": "2019-02-07T04:55:48Z",
  "author_association": "NONE",
  "body": "<!--\r\n  Note: if the issue is about documentation or the website, please file it at:\r\n  https://github.com/reactjs/reactjs.org/issues/new\r\n-->\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nBug\r\n\r\n**What is the current behavior?**\r\n\r\nA quick snapping behaviour when combining `useEffect` with a `window.scroll(0,0)` in a React Router link. Seems like the user gets a glimpse of the pre-`window.scroll(0,0)` render before the window gets scrolled.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**\r\n\r\nHere's the CodeSandbox [link](https://codesandbox.io/s/4qnzvyjn84)\r\n\r\nI've mocked the demo up to use both the `componentDidMount` method as well as the `useEffect` method to show it side-by-side. It seems like `componentDidMount` didn't have the issue that `useEffect` does.\r\n\r\nThe repro steps are:\r\n- Start with create-react-app and react-router\r\n- Creates some routes and links to other components, add content\r\n- Add a `useEffect` with a `window.scroll(0,0)` as the effect\r\n- Navigate app\r\n\r\nNote about the CodeSandbox: sometimes the back button doesn't register after the first Link is clicked, having to manually return the path back to `\"/\"`. \r\n\r\n**What is the expected behavior?**\r\n\r\nThe window scrolls to the top before any content is rendered.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nReact 16.8\r\n\r\nI'm able to reproduce the issue in Chromium-based browsers (Chrome and Brave), as well as Firefox. Safari seems to be unaffected. All testing happened on macOS High Sierra 10.13.6.\r\n",
  "closed_by": {
    "login": "andreidobrinski",
    "id": 22686684,
    "node_id": "MDQ6VXNlcjIyNjg2Njg0",
    "avatar_url": "https://avatars1.githubusercontent.com/u/22686684?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/andreidobrinski",
    "html_url": "https://github.com/andreidobrinski",
    "followers_url": "https://api.github.com/users/andreidobrinski/followers",
    "following_url": "https://api.github.com/users/andreidobrinski/following{/other_user}",
    "gists_url": "https://api.github.com/users/andreidobrinski/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/andreidobrinski/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andreidobrinski/subscriptions",
    "organizations_url": "https://api.github.com/users/andreidobrinski/orgs",
    "repos_url": "https://api.github.com/users/andreidobrinski/repos",
    "events_url": "https://api.github.com/users/andreidobrinski/events{/privacy}",
    "received_events_url": "https://api.github.com/users/andreidobrinski/received_events",
    "type": "User",
    "site_admin": false
  }
}
