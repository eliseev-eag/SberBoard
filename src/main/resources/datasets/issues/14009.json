{
  "url": "https://api.github.com/repos/facebook/react/issues/14009",
  "repository_url": "https://api.github.com/repos/facebook/react",
  "labels_url": "https://api.github.com/repos/facebook/react/issues/14009/labels{/name}",
  "comments_url": "https://api.github.com/repos/facebook/react/issues/14009/comments",
  "events_url": "https://api.github.com/repos/facebook/react/issues/14009/events",
  "html_url": "https://github.com/facebook/react/issues/14009",
  "id": 374771583,
  "node_id": "MDU6SXNzdWUzNzQ3NzE1ODM=",
  "number": 14009,
  "title": "React + GSAP -> Animation doesn't work with Build production",
  "user": {
    "login": "AlexBrasileiro",
    "id": 15070031,
    "node_id": "MDQ6VXNlcjE1MDcwMDMx",
    "avatar_url": "https://avatars2.githubusercontent.com/u/15070031?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexBrasileiro",
    "html_url": "https://github.com/AlexBrasileiro",
    "followers_url": "https://api.github.com/users/AlexBrasileiro/followers",
    "following_url": "https://api.github.com/users/AlexBrasileiro/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexBrasileiro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexBrasileiro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexBrasileiro/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexBrasileiro/orgs",
    "repos_url": "https://api.github.com/users/AlexBrasileiro/repos",
    "events_url": "https://api.github.com/users/AlexBrasileiro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexBrasileiro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-10-28T16:26:13Z",
  "updated_at": "2018-10-28T18:32:16Z",
  "closed_at": "2018-10-28T18:32:15Z",
  "author_association": "NONE",
  "body": "### Is this a bug report?\r\n- Maybe Yes? || A doubt :)\r\n\r\n### Did you try recovering your dependencies?\r\n- Yes\r\n\r\n### Which terms did you search for in User Guide?\r\n- Yarn Build: Animation Failing\r\n\r\n### Environment\r\n\r\n`npx create-react-app gsapApp`\r\n\r\n**package.json**\r\n\r\n```javascript\r\n\r\n\"homepage\": \".\",\r\n\"dependencies\": {\r\n  \"gsap\": \"^2.0.2\",\r\n  \"react\": \"^16.6.0\",\r\n  \"react-dom\": \"^16.6.0\",\r\n  \"react-scripts\": \"^2.0.5\"\r\n},\r\n\"scripts\": {\r\n  \"start\": \"react-scripts start\",\r\n  \"build\": \"react-scripts build\",\r\n  \"test\": \"react-scripts test --env=jsdom\",\r\n  \"eject\": \"react-scripts eject\"\r\n},\r\n\"devDependencies\": {},\r\n\"browserslist\": [\r\n  \">0.2%\",\r\n  \"not dead\",\r\n  \"not ie <= 11\",\r\n  \"not op_mini all\"\r\n]\r\n\r\n```\r\n\r\n**manifest.json**\r\n```javascript\r\n\r\n\"start_url\": \".\"\r\n\r\n```\r\n\r\n### Steps to Reproduce\r\n\r\n1. When running the project with the server with `react-scripts start`, the animation runs perfectly. : D\r\n2. However ... when creating the bundle for production, using the react-scripts build command the animation simply does not work: :'(\r\n3. I'll provide the code below to show it happening\r\n\r\n### Expected Behavior\r\n\r\n- That the animation works normally\r\n\r\n### Actual Behavior\r\n\r\n- Animation does not happen.\r\nIn the video below:\r\n1) On the Left: project running with `yarn start`, adding 2 seconds of delay to view a console along with animation start.\r\n2) On the Right: project running on a static server withe the build folder after run `yarn build`. The console after 2 seconds runs, the animation does not.\r\n\r\n![react gsap](https://user-images.githubusercontent.com/15070031/47618498-8d08d400-dab2-11e8-8e28-2a147bf01eee.gif)\r\n\r\n### Reproducible Demo\r\n\r\n**App.js**\r\n\r\n```javascript\r\n\r\nimport React, { Component } from 'react';\r\nimport { TweenLite } from 'gsap/all';\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      console.log('animate init', true)\r\n      TweenLite.to(this.myPRef, 2, {\r\n        x: 200\r\n      })\r\n    }, 2000)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <p ref={ref => this.myPRef = ref}>React + GSAP</p>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\n```\r\nAny idea? :)\r\n\r\n**p.s**: I'll post this behavior also on GSAP's and facebook/create-react-app's Github, to see if this could be a GSAP or Build with CRA bundle-related issue.\r\n\r\nThanks for the help, \r\nAlex.",
  "closed_by": {
    "login": "AlexBrasileiro",
    "id": 15070031,
    "node_id": "MDQ6VXNlcjE1MDcwMDMx",
    "avatar_url": "https://avatars2.githubusercontent.com/u/15070031?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexBrasileiro",
    "html_url": "https://github.com/AlexBrasileiro",
    "followers_url": "https://api.github.com/users/AlexBrasileiro/followers",
    "following_url": "https://api.github.com/users/AlexBrasileiro/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexBrasileiro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexBrasileiro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexBrasileiro/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexBrasileiro/orgs",
    "repos_url": "https://api.github.com/users/AlexBrasileiro/repos",
    "events_url": "https://api.github.com/users/AlexBrasileiro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexBrasileiro/received_events",
    "type": "User",
    "site_admin": false
  }
}
